!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e=e||self).ReactiveSearchVue={},e.Vue)}(this,(function(e,t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t){return e(t={exports:{}},t.exports),t.exports}var i="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};var a=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof module?module:Function("return this")()),s=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+s(),REPLACE:"@@redux/REPLACE"+s(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+s()}};function l(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(e,t){return function(){return t(e.apply(this,arguments))}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var g=Object.freeze({__proto__:null,__DO_NOT_USE__ActionTypes:u,applyMiddleware:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return h({},n,{dispatch:r=f.apply(void 0,i)(n.dispatch)})}}},bindActionCreators:function(e,t){if("function"==typeof e)return c(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=c(o,t))}return n},combineReducers:function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}var i,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:u.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:u.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+u.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},s=0;s<a.length;s++){var u=a[s],c=n[u],p=e[u],d=c(p,t);if(void 0===d){var h=l(u,t);throw new Error(h)}o[u]=d,r=r||d!==p}return r?o:e}},compose:f,createStore:function e(t,n,r){var o;if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var i=t,s=n,l=[],c=l,p=!1;function d(){c===l&&(c=l.slice())}function h(){if(p)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return s}function f(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(p)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return d(),c.push(e),function(){if(t){if(p)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,d();var n=c.indexOf(e);c.splice(n,1)}}}function g(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,s=i(s,e)}finally{p=!1}for(var t=l=c,n=0;n<t.length;n++){(0,t[n])()}return e}return g({type:u.INIT}),(o={dispatch:g,subscribe:f,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,g({type:u.REPLACE})}})[a]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[a]=function(){return this},e},o}});function m(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var y=m();y.withExtraArgument=m;var v=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.ADD_COMPONENT="ADD_COMPONENT",t.REMOVE_COMPONENT="REMOVE_COMPONENT",t.WATCH_COMPONENT="WATCH_COMPONENT",t.SET_QUERY="SET_QUERY",t.SET_QUERY_OPTIONS="SET_QUERY_OPTIONS",t.EXECUTE_QUERY="EXECUTE_QUERY",t.UPDATE_HITS="UPDATE_HITS",t.UPDATE_AGGS="UPDATE_AGGS",t.UPDATE_COMPOSITE_AGGS="UPDATE_COMPOSITE_AGGS",t.ADD_CONFIG="ADD_CONFIG",t.ADD_APPBASE_REF="ADD_APPBASE_REF",t.LOG_QUERY="LOG_QUERY",t.LOG_COMBINED_QUERY="LOG_COMBINED_QUERY",t.SET_VALUE="SET_VALUE",t.PATCH_VALUE="PATCH_VALUE",t.CLEAR_VALUES="CLEAR_VALUES",t.SET_LOADING="SET_LOADING",t.SET_ERROR="SET_ERROR",t.SET_STREAMING="SET_STREAMING",t.PUSH_TO_STREAM_HITS="PUSH_TO_STREAM_HITS",t.SET_TIMESTAMP="SET_TIMESTAMP",t.SET_HEADERS="SET_HEADERS",t.SET_MAP_DATA="SET_MAP_DATA",t.SET_QUERY_LISTENER="SET_QUERY_LISTENER",t.STORE_KEY="__REACTIVESEARCH__",t.SET_SEARCH_ID="SET_SEARCH_ID",t.SET_PROMOTED_RESULTS="SET_PROMOTED_RESULTS",t.SET_PROPS="SET_PROPS",t.UPDATE_PROPS="UPDATE_PROPS",t.REMOVE_PROPS="REMOVE_PROPS",t.SET_MAP_ON_TOP_MARKER="SET_MAP_ON_TOP_MARKER",t.SET_MAP_OPEN_MARKERS="SET_MAP_OPEN_MARKERS",t.SET_SUGGESTIONS_SEARCH_VALUE="SET_SUGGESTIONS_SEARCH_VALUE",t.CLEAR_SUGGESTIONS_SEARCH_VALUE="CLEAR_SUGGESTIONS_SEARCH_VALUE",t.SET_SUGGESTIONS_SEARCH_ID="SET_SUGGESTIONS_SEARCH_ID",t.UPDATE_ANALYTICS_CONFIG="UPDATE_ANALYTICS_CONFIG"}));r(v);v.ADD_COMPONENT,v.REMOVE_COMPONENT,v.WATCH_COMPONENT,v.SET_QUERY,v.SET_QUERY_OPTIONS,v.EXECUTE_QUERY,v.UPDATE_HITS,v.UPDATE_AGGS,v.UPDATE_COMPOSITE_AGGS,v.ADD_CONFIG,v.ADD_APPBASE_REF,v.LOG_QUERY,v.LOG_COMBINED_QUERY,v.SET_VALUE,v.PATCH_VALUE,v.CLEAR_VALUES,v.SET_LOADING,v.SET_ERROR,v.SET_STREAMING,v.PUSH_TO_STREAM_HITS,v.SET_TIMESTAMP,v.SET_HEADERS,v.SET_MAP_DATA,v.SET_QUERY_LISTENER,v.STORE_KEY,v.SET_SEARCH_ID,v.SET_PROMOTED_RESULTS,v.SET_PROPS,v.UPDATE_PROPS,v.REMOVE_PROPS,v.SET_MAP_ON_TOP_MARKER,v.SET_MAP_OPEN_MARKERS,v.SET_SUGGESTIONS_SEARCH_VALUE,v.CLEAR_SUGGESTIONS_SEARCH_VALUE,v.SET_SUGGESTIONS_SEARCH_ID,v.UPDATE_ANALYTICS_CONFIG;var b=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(t.type===v.ADD_COMPONENT)return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[t.component]);if(t.type===v.REMOVE_COMPONENT)return e.filter((function(e){return e!==t.component}));return e}}));r(b);var O=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.type===v.WATCH_COMPONENT){var o=function e(t){var n=Object.values(t),o=[];return n.forEach((function(t){"string"==typeof t?o.push(t):Array.isArray(t)?t.forEach((function(t){"string"==typeof t?o.push(t):o.push.apply(o,r(e(t)))})):"object"==typeof t&&null!==t&&o.push.apply(o,r(e(t)))})),o.filter((function(e,t,n){return n.indexOf(e)===t}))}(t.react),i=n({},e);return Object.keys(i).forEach((function(e){i[e]=i[e].filter((function(e){return e!==t.component}))})),o.forEach((function(e){Array.isArray(i[e])?i[e]=[].concat(r(i[e]),[t.component]):i[e]=[t.component]})),i}return e}}));r(O);var w=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.type===v.WATCH_COMPONENT)return n({},e,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t.component,t.react));if(t.type===v.REMOVE_COMPONENT){e[t.component];return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[t.component])}return e}}));r(w);var C=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.type===v.SET_QUERY)return n({},e,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t.component,t.query));if(t.type===v.REMOVE_COMPONENT){e[t.component];return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[t.component])}return e}}));r(C);var S=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.type===v.SET_QUERY_OPTIONS)return n({},e,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t.component,t.options));if(t.type===v.REMOVE_COMPONENT){e[t.component];return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[t.component])}return e}}));r(S);var $=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.componentTypes={reactiveList:"REACTIVELIST",dataSearch:"DATASEARCH",categorySearch:"CATEGORYSEARCH",singleList:"SINGLELIST",multiList:"MULTILIST",singleDataList:"SINGLEDATALIST",singleDropdownList:"SINGLEDROPDOWNLIST",multiDataList:"MULTIDATALIST",multiDropdownList:"MULTIDROPDOWNLIST",singleDropdownRange:"SINGLEDROPDOWNRANGE",numberBox:"NUMBERBOX",tagCloud:"TAGCLOUD",toggleButton:"TOGGLEBUTTON",datePicker:"DATEPICKER",dateRange:"DATERANGE",dynamicRangeSlider:"DYNAMICRANGESLIDER",multiDropdownRange:"MULTIDROPDOWNRANGE",singleRange:"SINGLERANGE",multiRange:"MULTIRANGE",rangeSlider:"RANGESLIDER",ratingsFilter:"RATINGSFILTER",rangeInput:"RANGEINPUT"},t.validProps=["componentType","dataField","includeFields","excludeFields","size","sortBy","sortOptions","pagination","autoFocus","autosuggest","debounce","defaultValue","defaultSuggestions","fieldWeights","filterLabel","fuzziness","highlight","highlightField","nestedField","placeholder","queryFormat","categoryField","strictSelection","selectAllLabel","showCheckbox","showFilter","showSearch","showCount","showLoadMore","loadMoreLabel","showMissing","missingLabel","data","showRadio","multiSelect","interval","showHistogram","snap","stepValue","range","showSlider"]}));r($);$.componentTypes;var E=$.validProps,_=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseCustomEvents=t.parseRangeObject=t.parseFilterValue=t.rangeObjectComponents=t.rangeComponents=t.filterComponents=t.defaultAnalyticsConfig=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(("function"==typeof Symbol?Symbol.iterator:"@@iterator")in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=[$.componentTypes.numberBox,$.componentTypes.tagCloud,$.componentTypes.toggleButton,$.componentTypes.datePicker,$.componentTypes.dateRange,$.componentTypes.multiDataList,$.componentTypes.multiDropdownList,$.componentTypes.multiList,$.componentTypes.singleDataList,$.componentTypes.singleDropdownList,$.componentTypes.singleList,$.componentTypes.dynamicRangeSlider,$.componentTypes.multiDropdownRange,$.componentTypes.multiRange,$.componentTypes.rangeSlider,$.componentTypes.ratingsFilter,$.componentTypes.singleDropdownRange,$.componentTypes.singleRange],o=[$.componentTypes.dateRange,$.componentTypes.dynamicRangeSlider,$.componentTypes.rangeSlider,$.componentTypes.rangeInput,$.componentTypes.ratingsFilter],i=[$.componentTypes.singleRange,$.componentTypes.singleDropdownRange,$.componentTypes.multiRange,$.componentTypes.multiDropdownRange];function a(e,t){return e+"="+t.start+"~"+t.end}function s(e,t){var n=t.label,r=t.value,s=t.componentType,u=n||e;return o.includes(s)?u+"="+r[0]+"~"+r[1]:i.includes(s)?Array.isArray(r)?r.map((function(e){return a(u,e)})).join():a(u,r):Array.isArray(r)?"object"==typeof r[0]&&null!==r[0]?r.map((function(e){return u+"="+e.value})).join():r.map((function(e){return u+"="+e})).join():u+"="+r}t.defaultAnalyticsConfig={searchStateHeader:!1,emptyQuery:!0,suggestionAnalytics:!0,userId:null,customEvents:null};t.filterComponents=r,t.rangeComponents=o,t.rangeObjectComponents=i,t.parseFilterValue=s,t.parseRangeObject=a,t.parseCustomEvents=function(e){var t="";return Object.keys(e).forEach((function(n,r){t+=n+"="+e[n],r<Object.keys(e).length-1&&(t+=",")})),t},t.default=function(e){return e&&Object.keys(e).length?Object.entries(e).filter((function(e){var t=n(e,2)[1];return r.includes(t.componentType)&&(t.value&&t.value.length||t.value&&t.value.start||t.value&&t.value.end)})).map((function(e){var t=n(e,2);return s(t[0],t[1])})).join():null}}));r(_);_.parseCustomEvents,_.parseRangeObject,_.parseFilterValue,_.rangeObjectComponents,_.rangeComponents,_.filterComponents,_.defaultAnalyticsConfig;var P=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{analyticsConfig:_.defaultAnalyticsConfig},t=arguments[1];if(t.type===v.ADD_CONFIG)return n({},e,{analyticsConfig:n({},_.defaultAnalyticsConfig,t.analyticsConfig)});if(t.type===v.UPDATE_ANALYTICS_CONFIG)return n({},e,{analyticsConfig:n({},e.analyticsConfig,t.analyticsConfig)});return e}}));r(P);var A=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.type===v.ADD_APPBASE_REF)return t.appbaseRef;return e}}));r(A);var I=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.type===v.UPDATE_HITS)return t.append?n({},e,r({},t.component,{hits:[].concat(o(e[t.component].hits),o(t.hits)),total:t.total,time:t.time})):n({},e,r({},t.component,{hits:t.hits,total:t.total,time:t.time}));if(t.type===v.PUSH_TO_STREAM_HITS){var i=e[t.component].total;return t.hit._deleted?i-=1:t.hit._updated||(i+=1),n({},e,r({},t.component,n({},e[t.component],{total:i})))}if(t.type===v.REMOVE_COMPONENT){e[t.component];return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[t.component])}return e}}));r(I);var k=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.type===v.LOG_QUERY)return n({},e,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t.component,t.query));if(t.type===v.REMOVE_COMPONENT){e[t.component];return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[t.component])}return e}}));r(k);var R=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.type===v.LOG_COMBINED_QUERY)return n({},e,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t.component,t.query));if(t.type===v.REMOVE_COMPONENT){e[t.component];return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[t.component])}return e}}));r(R);var x=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case v.SET_VALUE:return n({},e,r({},t.component,{value:t.value,label:t.label||t.component,showFilter:t.showFilter,URLParams:t.URLParams,componentType:t.componentType,category:t.category}));case v.PATCH_VALUE:return n({},e,r({},t.component,n({},e[t.component],t.payload)));case v.CLEAR_VALUES:return{};case v.REMOVE_COMPONENT:e[t.component];return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[t.component]);default:return e}}}));r(x);var T=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.type===v.SET_LOADING)return n({},e,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t.component,t.isLoading));if(t.type===v.REMOVE_COMPONENT){e[t.component];return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[t.component])}return e}}));r(T);var j=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.type===v.SET_ERROR)return n({},e,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t.component,t.error));if(t.type===v.REMOVE_COMPONENT){e[t.component];return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[t.component])}return e}}));r(j);var L=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.type===v.SET_STREAMING)return!t.status&&e[t.component]&&e[t.component].ref&&e[t.component].ref.stop(),n({},e,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t.component,{status:t.status,ref:t.ref}));if(t.type===v.REMOVE_COMPONENT){e[t.component];return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[t.component])}return e}}));r(L);var V=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.type===v.PUSH_TO_STREAM_HITS){var o=e[t.component]||[];return o=o.filter((function(e){return e._id!==t.hit._id})),n({},e,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t.component,[t.hit].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o))))}if(t.type===v.SET_STREAMING){if(!t.status&&e[t.component]){e[t.component];return r(e,[t.component])}}else if(t.type===v.REMOVE_COMPONENT){e[t.component];return r(e,[t.component])}return e}}));r(V);var Q=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.type===v.SET_TIMESTAMP)return n({},e,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t.component,t.timestamp));if(t.type===v.REMOVE_COMPONENT){e[t.component];return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[t.component])}return e}}));r(Q);var M=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.type===v.SET_HEADERS)return t.headers;return e}}));r(M);var F=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.type===v.SET_MAP_DATA)return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t.componentId,{query:t.query,persistMapQuery:t.persistMapQuery});if(t.type===v.REMOVE_COMPONENT){e[t.component];return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[t.component])}return e}}));r(F);var N=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.type===v.SET_QUERY_LISTENER)return n({},e,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t.component,{onQueryChange:t.onQueryChange,onError:t.onError}));if(t.type===v.REMOVE_COMPONENT){e[t.component];return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[t.component])}return e}}));r(N);var D=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){case v.SET_VALUE:return o.includes(t.componentType)?{searchValue:t.value,searchId:null}:e;case v.SET_SEARCH_ID:return n({},e,{searchId:t.searchId});case v.SET_SUGGESTIONS_SEARCH_VALUE:return n({},e,{suggestionsSearchValue:t.value,suggestionsSearchId:null});case v.SET_SUGGESTIONS_SEARCH_ID:return n({},e,{suggestionsSearchId:t.searchId});case v.CLEAR_SUGGESTIONS_SEARCH_VALUE:return n({},e,{suggestionsSearchValue:null,suggestionsSearchId:null});default:return e}};var r={searchValue:null,searchId:null,suggestionsSearchId:null,suggestionsSearchValue:null},o=[$.componentTypes.dataSearch,$.componentTypes.categorySearch]}));r(D);var q=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(t.type===v.SET_PROMOTED_RESULTS){return t.results.map((function(e){return n({},e,{_promoted:!0})}))}return e}}));r(q);var U=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case v.SET_PROPS:return n({},e,r({},t.component,t.options));case v.UPDATE_PROPS:return n({},e,r({},t.component,n({},e[t.component],t.options)));case v.REMOVE_PROPS:case v.REMOVE_COMPONENT:e[t.component];return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[t.component]);default:return e}}}));r(U);var H=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case v.SET_MAP_ON_TOP_MARKER:return t.markerId;default:return e}}}));r(H);var B=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case v.SET_MAP_OPEN_MARKERS:return t.openMarkers;default:return e}}}));r(B);var z=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.type===v.UPDATE_AGGS){if(t.append){var a=Object.keys(e[t.component])[0],s=t.aggregations[a],u=s.buckets,l=i(s,["buckets"]);return n({},e,r({},t.component,r({},a,n({buckets:[].concat(o(e[t.component][a].buckets),o(u))},l))))}return n({},e,r({},t.component,t.aggregations))}if(t.type===v.REMOVE_COMPONENT){e[t.component];return i(e,[t.component])}return e}}));r(z);var G=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(t.type===v.UPDATE_COMPOSITE_AGGS){var o=Object.values(t.aggregations)&&Object.values(t.aggregations)[0],i=Object.keys(t.aggregations)[0];if(!o)return e;var a=(o.buckets||[]).map((function(e){var t=e.doc_count,r=e.key,o=e[i];return n({_doc_count:t,_key:r[i]},o&&o.hits.hits[0])}));return n({},e,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t.component,t.append?[].concat(r(e[t.component]),r(a)):a))}return e}}));r(G);var W,Y=(W=g)&&W.default||W,K=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=te(b),r=te(O),o=te(w),i=te(C),a=te(S),s=te(P),u=te(A),l=te(I),c=te(k),p=te(R),d=te(x),h=te(T),f=te(j),g=te(L),m=te(V),y=te(Q),v=te(M),$=te(F),E=te(N),_=te(D),W=te(q),K=te(U),J=te(H),X=te(B),Z=te(z),ee=te(G);function te(e){return e&&e.__esModule?e:{default:e}}t.default=(0,Y.combineReducers)({components:n.default,watchMan:r.default,queryList:i.default,queryOptions:a.default,dependencyTree:o.default,appbaseRef:u.default,config:s.default,hits:l.default,promotedResults:W.default,aggregations:Z.default,compositeAggregations:ee.default,queryLog:c.default,combinedLog:p.default,selectedValues:d.default,isLoading:h.default,error:f.default,stream:g.default,streamHits:m.default,timestamp:y.default,headers:v.default,mapData:$.default,queryListener:E.default,analytics:_.default,markerOnTop:J.default,openMarkers:X.default,props:K.default})}));r(K);var J=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setValue=function(e,t,n,r,o,i,a){return{type:v.SET_VALUE,component:e,value:t,label:n,showFilter:r,URLParams:o,componentType:i,category:a}},t.patchValue=function(e,t){return{type:v.PATCH_VALUE,component:e,payload:t}},t.clearValues=function(){return{type:v.CLEAR_VALUES}}}));r(J);J.setValue,J.patchValue,J.clearValues;var X=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.updateAggs=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:v.UPDATE_AGGS,component:e,aggregations:t,append:n}},t.updateCompositeAggs=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:v.UPDATE_COMPOSITE_AGGS,component:e,aggregations:t,append:n}},t.updateHits=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:v.UPDATE_HITS,component:e,hits:t.hits,total:"object"==typeof t.total?t.total.value:t.total,time:n,append:r}},t.pushToStreamHits=function(e,t){return{type:v.PUSH_TO_STREAM_HITS,component:e,hit:t}}}));r(X);X.updateAggs,X.updateCompositeAggs,X.updateHits,X.pushToStreamHits;var Z=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default={date:"yyyy-MM-dd",basic_date:"yyyyMMdd",basic_date_time:"yyyyMMdd'T'HHmmss.fffzzz",basic_date_time_no_millis:"yyyyMMdd'T'HHmmsszzz",date_time_no_millis:"yyyy-MM-dd'T'HH:mm:sszzz",basic_time:"HHmmss.fffzzz",basic_time_no_millis:"HHmmsszzz",epoch_millis:"epoch_millis",epoch_second:"epoch_second"}}));r(Z);var ee=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.withClickIds=t.getCompositeAggsQuery=t.getAggsQuery=t.extractQueryFromDefaultQuery=t.updateInternalQuery=t.getSearchState=t.getOptionsFromQuery=t.parseHits=t.handleA11yAction=t.getInnerKey=t.getClassName=t.checkSomePropChange=t.checkPropChange=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.isEqual=u,t.debounce=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,r=null,o=null,i=function(){return e.apply(n,o)};return function(){o=arguments,clearTimeout(r),r=setTimeout(i,t)}},t.getQueryOptions=function(e){var t={};void 0!==e.size&&(t.size=e.size);if(e.includeFields||e.excludeFields){var n={};e.includeFields&&(n.includes=e.includeFields),e.excludeFields&&(n.excludes=e.excludeFields),t._source=n}return t},t.buildQuery=function(e,t,r,o){var i=null,s=null;e in t&&(i=function e(t,n){var r=[];if(Object.keys(t).forEach((function(o){if(Array.isArray(t[o])){var i=c(l(o),t[o].map((function(t){return"string"!=typeof t?e(t,n):t in n?n[t]:null})).filter((function(e){return!!e})));i&&(r=[].concat(a(r),[i]))}else if("string"==typeof t[o]){var s=c(l(o),n[t[o]]);s&&(r=[].concat(a(r),[s]))}else if("object"==typeof t[o]&&null!==t[o]){var u=e(t[o],n);u&&(r=[].concat(a(r),[u]))}})),Array.isArray(r)&&r.length)return{bool:{must:r}};if(r&&Object.keys(r).length)return r;return null}(t[e],r),s=function e(t,r,o){var i={};Object.keys(t).forEach((function(o){Array.isArray(t[o])?t[o].forEach((function(e){r[e]&&(i=n({},i,r[e]))})):"string"==typeof t[o]?r[t[o]]&&(i=n({},i,r[t[o]])):"object"!=typeof t[o]||null===t[o]||Array.isArray(t[o])||(i=n({},i,e(t[o],r)))})),r[o]&&(i=n({},i,r[o]));return i}(t[e],o,e));return{queryObj:i,options:s}},t.pushToAndClause=function e(t,r){var o=n({},t);if(o.and)return Array.isArray(o.and)?(o.and=[].concat(a(o.and),[r]),o):"string"==typeof o.and?(o.and=[o.and,r],o):(o.and=e(o.and,r),o);return n({},o,{and:r})},t.checkValueChange=function(e,t,n,r){var o=t;Array.isArray(t)&&!t.length&&(o=null);n?n(o).then(r).catch((function(t){console.warn(e+" - beforeValueChange rejected the promise with ",t)})):r()},t.getAggsOrder=p,t.formatDate=function(e,t){if(t.parseDate)return t.parseDate(e,t);switch(t.queryFormat){case"epoch_millis":return e.getTime();case"epoch_seconds":return Math.floor(e.getTime()/1e3);default:return o.default[t.queryFormat]?e.toString(o.default[t.queryFormat]):e.getTime()}};var r,o=(r=Z)&&r.__esModule?r:{default:r};function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;if(e.constructor!==t.constructor)return!1;for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n))return!1;if(e[n]!==t[n]){if("object"!=typeof e[n])return!1;if(!u(e[n],t[n]))return!1}}for(var r in t)if(t.hasOwnProperty(r)&&!e.hasOwnProperty(r))return!1;return!0}function l(e){return"and"===e?"must":"or"===e?"should":"must_not"}function c(e,t){var r=null;return(Array.isArray(t)&&t.length||!Array.isArray(t)&&t)&&(r={bool:s({},e,t)}),"should"===e&&r&&(r={bool:n({},r.bool,{minimum_should_match:1})}),r}function p(e){return"count"===e?{_count:"desc"}:{_term:e}}var d=t.checkPropChange=function(e,t,n){return!u(e,t)&&(n(),!0)};t.checkSomePropChange=function(e,t,n,r){n.some((function(n){return d(e[n],t[n],r)}))},t.getClassName=function(e,t){return e&&e[t]||""},t.getInnerKey=function(e,t){return e&&e[t]||{}},t.handleA11yAction=function(e,t){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t())},t.parseHits=function(e){var t=null;return e&&(t=[].concat(a(e)).map((function(e){var t={};e._updated?t._updated=e._updated:e._deleted&&(t._deleted=e._deleted);var r=function(e){var t=n({},e);return t.highlight&&Object.keys(t.highlight).forEach((function(e){var r=t.highlight[e][0];t._source=n({},t._source,s({},e,r))})),t}(e);return Object.keys(r).filter((function(e){return"_source"!==e})).reduce((function(e,t){return e[t]=r[t],e}),n({highlight:r.highlight||{}},r._source,t))}))),t};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e){e.query;var t=i(e,["query"]);return Object.keys(t).length?t:null}return null};t.getOptionsFromQuery=h;t.getSearchState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.selectedValues,o=e.queryLog,i=e.dependencyTree,a=e.props,u=e.hits,l=e.aggregations,c=e.isLoading,p=e.error,d={},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return Object.keys(e).forEach((function(r){d[r]=n({},d[r],t?s({},t,e[r]):e[r])}))};return h(a),Object.keys(r).forEach((function(e){var t=d[e],o=r[e];o&&(d[e]=n({},t,n({title:o.label,componentType:o.componentType,value:o.value},o.category&&{category:o.category},{URLParams:o.URLParams})))})),t||(h(o),h(u,"hits"),h(l,"aggregations"),h(c,"isLoading"),h(p,"error")),h(i,"react"),d},t.updateInternalQuery=function(e,t,r,o,i,a){var s=o.defaultQuery,u=void 0,l=void 0;if(s){var c=s(r,o);l=(c||{}).query,u=h(c)}o.setQueryOptions(e,n({},u,t||i)),l&&o.updateQuery(n({componentId:e,query:l},a))};var f=function(e){var t={};if(e){var n=e();if(n){n.query;var r=i(n,["query"]);r&&(t=r)}}return t};t.extractQueryFromDefaultQuery=f;t.getAggsQuery=function(e,t){var r=e,o=t.dataField,i=t.size,a=t.sortBy,u=t.showMissing,l=t.missingLabel;return r.size=0,r.aggs=s({},o,{terms:n({field:o,size:i,order:p(a||"count")},u?{missing:l}:{})}),t.nestedField&&(r.aggs={reactivesearch_nested:{nested:{path:t.nestedField},aggs:r.aggs}}),n({},r,f(t.defaultQuery))},t.getCompositeAggsQuery=function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e,a=t.dataField,u=t.size,l=t.sortBy,c=t.showMissing,p=t.aggregationField,d=p||a,h="count"===l?{}:{order:l};return i.aggs=s({},d,n({composite:n({sources:[s({},d,{terms:n({field:d},h,c?{missing_bucket:!0}:{})})],size:u},r)},o?{aggs:s({},d,{top_hits:{size:1}})}:{})),i.size=0,t.nestedField&&(i.aggs={reactivesearch_nested:{nested:{path:t.nestedField},aggs:i.aggs}}),n({},i,f(t.defaultQuery))},t.withClickIds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e,t){return n({},e,{_click_id:t})}))}}));r(ee);ee.withClickIds,ee.getCompositeAggsQuery,ee.getAggsQuery,ee.extractQueryFromDefaultQuery,ee.updateInternalQuery,ee.getSearchState,ee.getOptionsFromQuery,ee.parseHits,ee.handleA11yAction,ee.getInnerKey,ee.getClassName,ee.checkSomePropChange,ee.checkPropChange;var te=ee.isEqual,ne=(ee.debounce,ee.getQueryOptions,ee.buildQuery,ee.pushToAndClause,ee.checkValueChange,ee.getAggsOrder,ee.formatDate,o((function(e,t){function n(e,t,n){return{type:v.SET_MAP_DATA,componentId:e,query:t,persistMapQuery:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateMapData=n,t.setMapData=function(e,t,r,o){return function(i){if(i(n(e,t,r)),o){i((0,ie.executeQuery)(e,!1,!0))}}},t.setMarkerOnTop=function(e){return{type:v.SET_MAP_ON_TOP_MARKER,markerId:e}},t.setOpenMarkers=function(e){return{type:v.SET_MAP_OPEN_MARKERS,openMarkers:e}}})));r(ne);ne.updateMapData,ne.setMapData,ne.setMarkerOnTop,ne.setOpenMarkers;var re=o((function(e,t){var r=function(e){function t(){this.fetch=!1,this.DOMException=e.DOMException}return t.prototype=e,new t}("undefined"!=typeof self?self:n);!function(e){!function(t){var n={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(n.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};function i(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!=typeof e&&(e=String(e)),e}function s(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function c(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function p(e){var t=new FileReader,n=c(t);return t.readAsArrayBuffer(e),n}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:n.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():n.arrayBuffer&&n.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=d(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,n,r=l(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=c(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=i(e),t=a(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},u.prototype.delete=function(e){delete this.map[i(e)]},u.prototype.get=function(e){return e=i(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(i(e))},u.prototype.set=function(e,t){this.map[i(e)]=a(t)},u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},u.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),s(e)},u.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),s(e)},u.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),s(e)},n.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){var n,r,o=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),f.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function m(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function y(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},h.call(g.prototype),h.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];y.redirect=function(e,t){if(-1===v.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function b(e,r){return new Promise((function(o,i){var a=new g(e,r);if(a.signal&&a.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function l(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var r="response"in s?s.response:s.responseText;o(new y(r,n))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&n.blob&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",l),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",l)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}b.polyfill=!0,e.fetch||(e.fetch=b,e.Headers=u,e.Request=g,e.Response=y),t.Headers=u,t.Request=g,t.Response=y,t.fetch=b}({})}(r),delete r.fetch.polyfill,(t=r.fetch).default=r.fetch,t.fetch=r.fetch,t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response,e.exports=t})),oe=(re.fetch,re.Headers,re.Request,re.Response,o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,r=(n=re)&&n.__esModule?n:{default:n};t.default=function(e,t,n,o,i){var a=n?t.replace("//","//"+n+"@"):t;return(0,r.default)(e,{method:"POST",body:'\n\t\t\tquery{\n\t\t\t\telastic50(host: "'+a+'"){\n\t\t\t\t\tmsearch(\n\t\t\t\t\t\tindex: "'+o+'"\n\t\t\t\t\t\tbody: '+JSON.stringify(i.map((function(e){return JSON.stringify(e)})))+"\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t",headers:{"Content-Type":"application/graphql"}}).then((function(e){return e.json()})).then((function(e){return e.data.elastic50.msearch})).catch((function(e){console.error(e)}))}})));r(oe);var ie=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.setQuery=s,t.updateQueryOptions=u,t.logQuery=l,t.logCombinedQuery=c,t.setStreaming=h,t.setHeaders=function(e){return{type:v.SET_HEADERS,headers:e}},t.setPromotedResults=f,t.executeQuery=m,t.setQueryOptions=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r){r(u(e,t)),n&&r(m(e,!0))}},t.updateQuery=function(e){var t=e.componentId,n=e.query,r=e.value,o=e.label,i=void 0===o?null:o,a=e.showFilter,u=void 0===a||a,l=e.URLParams,c=void 0!==l&&l,p=e.componentType,d=void 0===p?null:p,h=e.category,f=void 0===h?null:h,g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(e){var o=n;n&&n.query&&(o=n.query),t.endsWith("__internal")||e((0,J.setValue)(t,r,i,u,c,d,f)),e(s(t,o)),g&&e(m(t,!0,!1,d))}},t.loadMore=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,a){var s=a(),u=(0,ee.buildQuery)(e,s.dependencyTree,s.queryList,s.queryOptions),c=u.queryObj,p=u.options,d=s.queryLog;p||(p={}),p=n({},p,t),(!c||c&&!Object.keys(c).length)&&(c={match_all:{}});var h=n({query:n({},c)},p);(0,ee.isEqual)(d[e],h)||(i(l(e,h)),i(g([{preference:e},h],[e],r,!1,o)))}},t.setQueryListener=function(e,t,n){return{type:v.SET_QUERY_LISTENER,component:e,onQueryChange:t,onError:n}};var r=i(_),o=i(oe);function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){return{type:v.SET_QUERY,component:e,query:t}}function u(e,t){return{type:v.SET_QUERY_OPTIONS,component:e,options:t}}function l(e,t){return{type:v.LOG_QUERY,component:e,query:t}}function c(e,t){return{type:v.LOG_COMBINED_QUERY,component:e,query:t}}function p(e,t){return{type:v.SET_LOADING,component:e,isLoading:t}}function d(e,t){return{type:v.SET_ERROR,component:e,error:t}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:v.SET_STREAMING,component:e,status:t,ref:n}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:v.SET_PROMOTED_RESULTS,results:e}}function g(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments[5];return function(l,c){var h=c(),g=h.appbaseRef,m=h.config,y=h.headers,b=h.queryListener,O=h.analytics,w=h.selectedValues,C={},S=[$.componentTypes.dataSearch,$.componentTypes.categorySearch],E=a&&-1!==S.indexOf(u);if(m.analytics){if(m.analyticsConfig.suggestionAnalytics&&E){var P=O.suggestionsSearchValue;!(!m.analyticsConfig.emptyQuery&&!P)&&(C={"X-Search-Query":P||""})}else{var A=O.searchValue,I=O.searchId,k=(0,r.default)(w);if(I)C=n({"X-Search-Id":I,"X-Search-Query":A},k&&{"X-Search-Filters":k});else{var R=!(!m.analyticsConfig.emptyQuery&&!A);C=n(R&&{"X-Search-Query":A||""},k&&{"X-Search-Filters":k})}}if(m.analyticsConfig.searchStateHeader){var x=(0,ee.getSearchState)(c(),!0);x&&Object.keys(x).length&&(C["X-Search-State"]=JSON.stringify(x))}m.analyticsConfig.userId&&(C["X-User-Id"]=m.analyticsConfig.userId),m.analyticsConfig.customEvents&&(C["X-Search-CustomEvent"]=(0,_.parseCustomEvents)(m.analyticsConfig.customEvents))}t.forEach((function(e){l(p(e,!0))}));var T=function(e){console.error(e),t.forEach((function(t){b[t]&&b[t].onError&&b[t].onError(e),l(d(t,e)),l(p(t,!1))}))},j=function(e){var n=e._headers?e._headers.get("X-Search-Id"):null;n&&l(E?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:v.SET_SUGGESTIONS_SEARCH_ID,searchId:e}}(n):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:v.SET_SEARCH_ID,searchId:e}}(n)),t.forEach((function(t,n){(function(e,t){return m.transformResponse&&"function"==typeof m.transformResponse?m.transformResponse(e,t):new Promise((function(t){return t(e)}))})(e.responses[n],t).then((function(n){var r=c().timestamp;(void 0===r[t]||r[t]<e._timestamp)&&(n.promoted?l(f(n.promoted)):l(f()),n.hits&&(l(function(e,t){return{type:v.SET_TIMESTAMP,component:e,timestamp:t}}(t,e._timestamp)),l((0,X.updateHits)(t,n.hits,n.took,i)),l(p(t,!1))),n.aggregations&&(l((0,X.updateAggs)(t,n.aggregations,s)),l((0,X.updateCompositeAggs)(t,n.aggregations,s))))})).catch((function(e){T(e)}))}))};m.graphQLUrl?(0,o.default)(m.graphQLUrl,m.url,m.credentials,m.app,e).then((function(e){j(e)})).catch((function(e){T(e)})):(g.setHeaders(n({},y,C)),g.msearch({type:"*"===m.type?"":m.type,body:e}).then((function(e){j(e)})).catch((function(e){T(e)})))}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments[3];return function(i,s){var u=s(),f=u.queryLog,m=u.stream,y=u.appbaseRef,v=u.config,b=u.mapData,O=u.watchMan,w=u.dependencyTree,C=u.queryList,S=u.queryOptions,$=u.queryListener,E=[],_=[],P={match_all:{}},A=[e];if(t){var I=O[e]||[];A=[].concat(a(A),a(I))}A.forEach((function(t){var o=(0,ee.buildQuery)(t,w,C,S),u=o.queryObj,g=o.options,O=["aggs","from","sort"];if(u&&Object.keys(u).length||g&&Object.keys(g).some((function(e){return O.includes(e)}))){(!u||u&&!Object.keys(u).length)&&(u=n({},P));var A=n({query:n({},u)},g,S[t]),I=n({query:n({},u)},g,S[t]),k=f[t];if(r||!(0,ee.isEqual)(A,k)){if(E=[].concat(a(E),[t]),i(l(t,I)),Object.keys(b).includes(t)&&b[t].query){var R=A.query;A.query={bool:{must:[R,b[t].query]}},b[t].persistMapQuery||i((0,ne.updateMapData)(e,null,!1));var x=s().combinedLog;if((0,ee.isEqual)(x[t],A))return;i(c(t,A))}if(function(e,t,n){e&&e.onQueryChange&&e.onQueryChange(t,n)}($[t],k,A),m[t]&&m[t].status){m[t].ref&&m[t].ref.stop();var T=y.searchStream({type:"*"===v.type?"":v.type,body:A},(function(e){e._id&&i((0,X.pushToStreamHits)(t,e))}),(function(e){$[t]&&$[t].onError&&$[t].onError(e),console.warn(e),i(d(t,e)),i(p(t,!1))}));i(h(t,!0,T))}_=[].concat(a(_),[{preference:t},A])}}})),_.length&&i(g(_,E,!1,e.endsWith("__internal"),void 0,o))}}}));r(ie);ie.setQuery,ie.updateQueryOptions,ie.logQuery,ie.logCombinedQuery,ie.setStreaming,ie.setHeaders,ie.setPromotedResults,ie.executeQuery,ie.setQueryOptions,ie.updateQuery,ie.loadMore,ie.setQueryListener;var ae=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.addComponent=function(e){return{type:v.ADD_COMPONENT,component:e}},t.removeComponent=function(e){return{type:v.REMOVE_COMPONENT,component:e}},t.watchComponent=function(e,t){return function(n){n(function(e,t){return{type:v.WATCH_COMPONENT,component:e,react:t}}(e,t)),n((0,ie.executeQuery)(e))}}}));r(ae);ae.addComponent,ae.removeComponent,ae.watchComponent;var se=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setComponentProps=function(e,t){return{type:v.SET_PROPS,component:e,options:n(t)}},t.updateComponentProps=function(e,t){return{type:v.UPDATE_PROPS,component:e,options:n(t)}},t.removeComponentProps=function(e){return{type:v.REMOVE_PROPS,component:e}};var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach((function(n){$.validProps.includes(n)&&(t[n]=e[n])})),t}}));r(se);se.setComponentProps,se.updateComponentProps,se.removeComponentProps;var ue=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setSuggestionsSearchValue=function(e){return{type:v.SET_SUGGESTIONS_SEARCH_VALUE,value:e}},t.clearSuggestionsSearchValue=function(){return{type:v.CLEAR_SUGGESTIONS_SEARCH_VALUE}},t.updateAnalyticsConfig=function(e){return{type:v.UPDATE_ANALYTICS_CONFIG,analyticsConfig:e}}}));r(ue);ue.setSuggestionsSearchValue,ue.clearSuggestionsSearchValue;var le=ue.updateAnalyticsConfig,ce=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(ae).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return ae[e]}})})),Object.keys(X).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return X[e]}})})),Object.keys(ne).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return ne[e]}})})),Object.keys(ie).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return ie[e]}})})),Object.keys(J).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return J[e]}})})),Object.keys(se).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return se[e]}})})),Object.keys(ue).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return ue[e]}})}))}));r(ce);var pe=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(e){switch(typeof e){case"string":return e;case"object":return Array.isArray(e)?function e(t){return t.reduce((function(t,n){return t.concat(Array.isArray(n)?e(n):n)}),[])}(e):null;default:return e}};t.default=function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],u=[],l=[],c=function(e,t,i){if(a.trim().split(" ").some((function(t){return String(e).toLowerCase().includes(t)}))&&!l.includes(e)){var c={label:e,value:e,source:i},p={};Array.isArray(s)&&s.length>0&&s.forEach((function(e){t.hasOwnProperty(e)&&(p=n({},p,o({},e,t[e])))}));var d=n({},c,p);l=[].concat(r(l),[e]),u=[].concat(r(u),[d])}},p=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;if("object"==typeof t){var o=n.split("."),a=t[o[0]];if(a)if(o.length>1){var s=n.substring(o[0].length+1);Array.isArray(a)?a.forEach((function(t){e(t,s,r)})):e(a,s,r)}else{var u=i(a);u&&(Array.isArray(u)?u.forEach((function(e){return c(e,t,r)})):c(u,t,r))}}};return t.forEach((function(t){var r=t._score,o=t._index,i=t._type,a=t._id,s=n({},t._source,{_id:a,_index:o,_score:r,_type:i});e.forEach((function(e){p(s,e)}))})),u}}));if(r(pe),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var i=t[o];if(e.call(r,i,o,t))return i;o++}},configurable:!0,writable:!0}),String.prototype.endsWith||(String.prototype.endsWith=function(e){var t=this.length-e.length;return t>=0&&this.lastIndexOf(e)===t}),"function"!=typeof Event){"undefined"!=typeof window&&(window.Event=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t})}var de=Object.freeze({__proto__:null}),he=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={ENTER_PRESS:"ENTER_PRESS",SUGGESTION_SELECT:"SUGGESTION_SELECT",CLEAR_VALUE:"CLEAR_VALUE"};t.default=n}));r(he);var fe=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.constants=t.Reducers=t.polyfills=t.storeKey=t.Actions=t.suggestions=t.causes=t.helper=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t=n({},e,{config:n({},e.config,{analyticsConfig:e.config&&e.config.analyticsConfig?n({},_.defaultAnalyticsConfig,e.config.analyticsConfig):_.defaultAnalyticsConfig})});return(0,Y.createStore)(o.default,t,I)};var r=b(y),o=b(K),i=m(ce),a=m(ee),s=b(pe),u=b($),l=b(de),c=b(he),p=b(x),d=b(C),h=b(S),f=b(w),g=b(U);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e){return e&&e.__esModule?e:{default:e}}var O=v.STORE_KEY,E=s.default,P=c.default,A={valueReducer:p.default,queryOptionsReducer:h.default,queryReducer:d.default,dependencyTreeReducer:f.default,propsReducer:g.default};t.helper=a,t.causes=P,t.suggestions=E,t.Actions=i,t.storeKey=O,t.polyfills=l.default,t.Reducers=A,t.constants=u.default;var I=("object"==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Y.compose)((0,Y.applyMiddleware)(r.default))})),ge=r(fe),me=(fe.constants,fe.Reducers),ye=(fe.polyfills,fe.storeKey,fe.Actions),ve=fe.suggestions,be=fe.causes,Oe=fe.helper;function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ce(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function Se(e,t){return t||(t=e.slice(0)),e.raw=t,e}function $e(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}
/*!
	 * isobject <https://github.com/jonschlinkert/isobject>
	 *
	 * Copyright (c) 2014-2017, Jon Schlinkert.
	 * Released under the MIT License.
	 */
/*!
	 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
	 *
	 * Copyright (c) 2014-2017, Jon Schlinkert.
	 * Released under the MIT License.
	 */
function Ee(e){return!0==(null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);var t}function _e(e){var t,n;return!1!==Ee(e)&&("function"==typeof(t=e.constructor)&&(!1!==Ee(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}var Pe=Object.prototype,Ae=Pe.toString,Ie=Pe.hasOwnProperty,ke=/^\s*function (\w+)/;function Re(e){var t=null!=e?e.type?e.type:e:null,n=t&&t.toString().match(ke);return n&&n[1]}function xe(){}var Te=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},je=Array.isArray||function(e){return"[object Array]"===Ae.call(e)},Le=function(e){return"[object Function]"===Ae.call(e)};function Ve(e,t,n){var r;return void 0===n&&(n=!1),Object.defineProperty(t,"_vueTypes_name",{enumerable:!1,writable:!1,value:e}),function(e){Object.defineProperty(e,"def",{value:function(e){return void 0!==e||this.default?Le(e)||Qe(this,e)?(je(e)?this.default=function(){return[].concat(e)}:_e(e)?this.default=function(){return Object.assign({},e)}:this.default=e,this):(Me(this._vueTypes_name+' - invalid default value: "'+e+'"',e),this):this},enumerable:!1,writable:!1})}((r=t,Object.defineProperty(r,"isRequired",{get:function(){return this.required=!0,this},enumerable:!1}))),n&&function(e){Object.defineProperty(e,"validate",{value:function(e){return this.validator=e.bind(this),this},enumerable:!1})}(t),Le(t.validator)&&(t.validator=t.validator.bind(t)),t}function Qe(e,t,n){void 0===n&&(n=!1);var r,o=e,i=!0;_e(e)||(o={type:e});var a,s=o._vueTypes_name?o._vueTypes_name+" - ":"";if(Ie.call(o,"type")&&null!==o.type){if(void 0===o.type)throw new TypeError("[VueTypes error]: Setting type to undefined is not allowed.");if(!o.required&&void 0===t)return i;je(o.type)?(i=o.type.some((function(e){return Qe(e,t,!0)})),r=o.type.map((function(e){return Re(e)})).join(" or ")):i="Array"===(r=Re(o))?je(t):"Object"===r?_e(t):"String"===r||"Number"===r||"Boolean"===r||"Function"===r?function(e){if(null==e)return null;var t=e.constructor.toString().match(ke);return t&&t[1]}(t)===r:t instanceof o.type}return i?Ie.call(o,"validator")&&Le(o.validator)?(n&&(a=Me,Me=xe),i=o.validator(t),a&&(Me=a),i||!1!==n||Me(s+"custom validation failed"),i):i:(!1===n&&Me(s+'value "'+t+'" should be of type "'+r+'"'),!1)}var Me=xe;var Fe={get any(){return Ve("any",{type:null},!0)},get func(){return Ve("function",{type:Function},!0).def(Fe.sensibleDefaults.func)},get bool(){return Ve("boolean",{type:Boolean},!0).def(Fe.sensibleDefaults.bool)},get string(){return Ve("string",{type:String},!0).def(Fe.sensibleDefaults.string)},get number(){return Ve("number",{type:Number},!0).def(Fe.sensibleDefaults.number)},get array(){return Ve("array",{type:Array},!0).def(Fe.sensibleDefaults.array)},get object(){return Ve("object",{type:Object},!0).def(Fe.sensibleDefaults.object)},get integer(){return Ve("integer",{type:Number,validator:function(e){return Te(e)}}).def(Fe.sensibleDefaults.integer)},get symbol(){return Ve("symbol",{type:null,validator:function(e){return"symbol"==typeof e}},!0)},extend:function(e){void 0===e&&(e={});var t,n=e,r=n.name,o=n.validate,i=void 0!==o&&o,a=n.getter,s=void 0!==a&&a,u=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(n,["name","validate","getter"]);if(s)t={get:function(){return Ve(r,Object.assign({},u),i)},enumerable:!0,configurable:!1};else{var l=u.validator;t={value:function(){var e=Ve(r,Object.assign({},u),i);if(l){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e.validator=l.bind.apply(l,[e].concat(n))}return e},writable:!1,enumerable:!0,configurable:!1}}return Object.defineProperty(this,r,t)},custom:function(e,t){if(void 0===t&&(t="custom validation failed"),"function"!=typeof e)throw new TypeError("[VueTypes error]: You must provide a function as argument");return Ve(e.name||"<<anonymous function>>",{validator:function(n){var r=e(n);return r||Me(this._vueTypes_name+" - "+t),r}})},oneOf:function(e){if(!je(e))throw new TypeError("[VueTypes error]: You must provide an array as argument");var t='oneOf - value should be one of "'+e.join('", "')+'"',n=e.reduce((function(e,t){return null!=t&&-1===e.indexOf(t.constructor)&&e.push(t.constructor),e}),[]);return Ve("oneOf",{type:n.length>0?n:null,validator:function(n){var r=-1!==e.indexOf(n);return r||Me(t),r}})},instanceOf:function(e){return Ve("instanceOf",{type:e})},oneOfType:function(e){if(!je(e))throw new TypeError("[VueTypes error]: You must provide an array as argument");var t=!1,n=e.reduce((function(e,n){if(_e(n)){if("oneOf"===n._vueTypes_name)return e.concat(n.type||[]);if(n.type&&!Le(n.validator)){if(je(n.type))return e.concat(n.type);e.push(n.type)}else Le(n.validator)&&(t=!0);return e}return e.push(n),e}),[]);if(!t)return Ve("oneOfType",{type:n});var r=e.map((function(e){return e&&je(e.type)?e.type.map(Re):Re(e)})).reduce((function(e,t){return e.concat(je(t)?t:[t])}),[]).join('", "');return this.custom((function(t){var n=e.some((function(e){return"oneOf"===e._vueTypes_name?!e.type||Qe(e.type,t,!0):Qe(e,t,!0)}));return n||Me('oneOfType - value type should be one of "'+r+'"'),n}))},arrayOf:function(e){return Ve("arrayOf",{type:Array,validator:function(t){var n=t.every((function(t){return Qe(e,t)}));return n||Me('arrayOf - value must be an array of "'+Re(e)+'"'),n}})},objectOf:function(e){return Ve("objectOf",{type:Object,validator:function(t){var n=Object.keys(t).every((function(n){return Qe(e,t[n])}));return n||Me('objectOf - value must be an object of "'+Re(e)+'"'),n}})},shape:function(e){var t=Object.keys(e),n=t.filter((function(t){return e[t]&&!0===e[t].required})),r=Ve("shape",{type:Object,validator:function(r){var o=this;if(!_e(r))return!1;var i=Object.keys(r);return n.length>0&&n.some((function(e){return-1===i.indexOf(e)}))?(Me('shape - at least one of required properties "'+n.join('", "')+'" is not present'),!1):i.every((function(n){return-1===t.indexOf(n)?!0===o._vueTypes_isLoose||(Me('shape - object is missing "'+n+'" property'),!1):Qe(e[n],r[n])}))}});return Object.defineProperty(r,"_vueTypes_isLoose",{enumerable:!1,writable:!0,value:!1}),Object.defineProperty(r,"loose",{get:function(){return this._vueTypes_isLoose=!0,this},enumerable:!1}),r}};!function(e){var t={func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0};Object.defineProperty(e,"sensibleDefaults",{enumerable:!1,set:function(e){t=!1===e?{}:!0===e?{func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}:e},get:function(){return t}})}(Fe),Fe.utils={validate:function(e,t){return Qe(t,e,!0)},toType:Ve};var Ne={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function De(e){function t(e,t,r){var o=t.trim().split(f);t=o;var i=o.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<i;++s)t[s]=n(e,t[s],r).trim();break;default:var u=s=0;for(t=[];s<i;++s)for(var l=0;l<a;++l)t[u++]=n(e[l]+" ",o[s],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,i){var a=e+";",s=2*t+3*n+4*i;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===I||2===I&&o(u,1)?"-webkit-"+u+u:u}if(0===I||2===I&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(E,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(p,":-webkit-")+a.replace(p,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(b,"tb");break;case 232:u=a.replace(b,"tb-rl");break;case 220:u=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(C,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(C,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===$.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,i).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+i&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),T(2!==t?r:r.replace(S,"$1"),n,t)}function i(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,o,i,a,s,l,c){for(var p,d=0,h=t;d<x;++d)switch(p=R[d].call(u,e,h,n,r,o,i,a,s,l,c)){case void 0:case!1:case!0:case null:break;default:h=p}if(h!==t)return h}function s(e){return void 0!==(e=e.prefix)&&(T=null,e?"function"!=typeof e?I=1:(I=2,T=e):I=0),s}function u(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<x){var u=a(-1,n,s,s,P,_,0,0,0,0);void 0!==u&&"string"==typeof u&&(n=u)}var p=function e(n,s,u,p,d){for(var h,f,g,b,w,C=0,S=0,$=0,E=0,R=0,T=0,L=g=h=0,V=0,Q=0,M=0,F=0,N=u.length,D=N-1,q="",U="",H="",B="";V<N;){if(f=u.charCodeAt(V),V===D&&0!==S+E+$+C&&(0!==S&&(f=47===S?10:47),E=$=C=0,N++,D++),0===S+E+$+C){if(V===D&&(0<Q&&(q=q.replace(c,"")),0<q.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:q+=u.charAt(V)}f=59}switch(f){case 123:for(h=(q=q.trim()).charCodeAt(0),g=1,F=++V;V<N;){switch(f=u.charCodeAt(V)){case 123:g++;break;case 125:g--;break;case 47:switch(f=u.charCodeAt(V+1)){case 42:case 47:e:{for(L=V+1;L<D;++L)switch(u.charCodeAt(L)){case 47:if(42===f&&42===u.charCodeAt(L-1)&&V+2!==L){V=L+1;break e}break;case 10:if(47===f){V=L+1;break e}}V=L}}break;case 91:f++;case 40:f++;case 34:case 39:for(;V++<D&&u.charCodeAt(V)!==f;);}if(0===g)break;V++}switch(g=u.substring(F,V),0===h&&(h=(q=q.replace(l,"").trim()).charCodeAt(0)),h){case 64:switch(0<Q&&(q=q.replace(c,"")),f=q.charCodeAt(1)){case 100:case 109:case 115:case 45:Q=s;break;default:Q=k}if(F=(g=e(s,Q,g,f,d+1)).length,0<x&&(w=a(3,g,Q=t(k,q,M),s,P,_,F,f,d,p),q=Q.join(""),void 0!==w&&0===(F=(g=w.trim()).length)&&(f=0,g="")),0<F)switch(f){case 115:q=q.replace(O,i);case 100:case 109:case 45:g=q+"{"+g+"}";break;case 107:g=(q=q.replace(m,"$1 $2"))+"{"+g+"}",g=1===I||2===I&&o("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=q+g,112===p&&(U+=g,g="")}else g="";break;default:g=e(s,t(s,q,M),g,p,d+1)}H+=g,g=M=Q=L=h=0,q="",f=u.charCodeAt(++V);break;case 125:case 59:if(1<(F=(q=(0<Q?q.replace(c,""):q).trim()).length))switch(0===L&&(h=q.charCodeAt(0),45===h||96<h&&123>h)&&(F=(q=q.replace(" ",":")).length),0<x&&void 0!==(w=a(1,q,s,n,P,_,U.length,p,d,p))&&0===(F=(q=w.trim()).length)&&(q="\0\0"),h=q.charCodeAt(0),f=q.charCodeAt(1),h){case 0:break;case 64:if(105===f||99===f){B+=q+u.charAt(V);break}default:58!==q.charCodeAt(F-1)&&(U+=r(q,h,f,q.charCodeAt(2)))}M=Q=L=h=0,q="",f=u.charCodeAt(++V)}}switch(f){case 13:case 10:47===S?S=0:0===1+h&&107!==p&&0<q.length&&(Q=1,q+="\0"),0<x*j&&a(0,q,s,n,P,_,U.length,p,d,p),_=1,P++;break;case 59:case 125:if(0===S+E+$+C){_++;break}default:switch(_++,b=u.charAt(V),f){case 9:case 32:if(0===E+C+S)switch(R){case 44:case 58:case 9:case 32:b="";break;default:32!==f&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===E+S+C&&(Q=M=1,b="\f"+b);break;case 108:if(0===E+S+C+A&&0<L)switch(V-L){case 2:112===R&&58===u.charCodeAt(V-3)&&(A=R);case 8:111===T&&(A=T)}break;case 58:0===E+S+C&&(L=V);break;case 44:0===S+$+E+C&&(Q=1,b+="\r");break;case 34:case 39:0===S&&(E=E===f?0:0===E?f:E);break;case 91:0===E+S+$&&C++;break;case 93:0===E+S+$&&C--;break;case 41:0===E+S+C&&$--;break;case 40:if(0===E+S+C){if(0===h)switch(2*R+3*T){case 533:break;default:h=1}$++}break;case 64:0===S+$+E+C+L+g&&(g=1);break;case 42:case 47:if(!(0<E+C+$))switch(S){case 0:switch(2*f+3*u.charCodeAt(V+1)){case 235:S=47;break;case 220:F=V,S=42}break;case 42:47===f&&42===R&&F+2!==V&&(33===u.charCodeAt(F+2)&&(U+=u.substring(F,V+1)),b="",S=0)}}0===S&&(q+=b)}T=R,R=f,V++}if(0<(F=U.length)){if(Q=s,0<x&&(void 0!==(w=a(2,U,Q,n,P,_,F,p,d,p))&&0===(U=w).length))return B+U+H;if(U=Q.join(",")+"{"+U+"}",0!=I*A){switch(2!==I||o(U,2)||(A=0),A){case 111:U=U.replace(v,":-moz-$1")+U;break;case 112:U=U.replace(y,"::-webkit-input-$1")+U.replace(y,"::-moz-$1")+U.replace(y,":-ms-input-$1")+U}A=0}}return B+U+H}(k,s,n,0,0);return 0<x&&(void 0!==(u=a(-2,p,s,s,P,_,p.length,0,0,0))&&(p=u)),"",A=0,_=P=1,p}var l=/^\0+/g,c=/[\0\r\f]/g,p=/: */g,d=/zoo|gra/,h=/([,: ])(transform)/g,f=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,v=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,O=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,C=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,$=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,_=1,P=1,A=0,I=1,k=[],R=[],x=0,T=null,j=0;return u.use=function e(t){switch(t){case void 0:case null:x=R.length=0;break;default:switch(t.constructor){case Array:for(var n=0,r=t.length;n<r;++n)e(t[n]);break;case Function:R[x++]=t;break;case Boolean:j=0|!!t}}return e},u.set=s,void 0!==e&&s(e),u}var qe,Ue,He=o((function(e,t){e.exports=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,o,i,a,s,u,l,c,p){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(o[0]+r),"";default:return r+(0===p?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}})),Be=/[A-Z]|^ms/g,ze=(qe=function(e){return e.replace(Be,"-$&").toLowerCase()},Ue={},function(e){return void 0===Ue[e]&&(Ue[e]=qe(e)),Ue[e]}),Ge=function(e,t){return null==t||"boolean"==typeof t?"":1===Ne[e]||45===e.charCodeAt(1)||isNaN(t)||0===t?t:t+"px"},We=function e(t){for(var n=t.length,r=0,o="";r<n;r++){var i=t[r];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"function":a=e([i()]);break;case"object":if(Array.isArray(i))a=e(i);else for(var s in a="",i)i[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=i}a&&(o&&(o+=" "),o+=a)}}return o},Ye="undefined"!=typeof document;function Ke(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key||""),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),(void 0!==e.container?e.container:document.head).appendChild(t),t}var Je=function(){function e(e){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=e}var t=e.prototype;return t.inject=function(){if(this.injected)throw new Error("already injected!");this.tags[0]=Ke(this.opts),this.injected=!0},t.speedy=function(e){if(0!==this.ctr)throw new Error("cannot change speedy now");this.isSpeedy=!!e},t.insert=function(e,t){if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(this.tags[this.tags.length-1]);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else{var r=Ke(this.opts);this.tags.push(r),r.appendChild(document.createTextNode(e+(t||"")))}this.ctr++,this.ctr%65e3==0&&this.tags.push(Ke(this.opts))},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0,this.injected=!1},e}();var Xe=function(e,t){if(void 0!==e.__SECRET_EMOTION__)return e.__SECRET_EMOTION__;void 0===t&&(t={});var n,r,o=t.key||"css",i=He((function(e){n+=e,Ye&&s.insert(e,l)}));void 0!==t.prefix&&(r={prefix:t.prefix});var a={registered:{},inserted:{},nonce:t.nonce,key:o},s=new Je(t);Ye&&s.inject();var u=new De(r);u.use(t.stylisPlugins)(i);var l="";function c(e,t){if(null==e)return"";switch(typeof e){case"boolean":return"";case"function":if(void 0!==e.__emotion_styles){var n=e.toString();return n}return c.call(this,void 0===this?e():e(this.mergedProps,this.context),t);case"object":return f.call(this,e);default:var r=a.registered[e];return!1===t&&void 0!==r?r:e}}var p,d,h=new WeakMap;function f(e){if(h.has(e))return h.get(e);var t="";return Array.isArray(e)?e.forEach((function(e){t+=c.call(this,e,!1)}),this):Object.keys(e).forEach((function(n){"object"!=typeof e[n]?void 0!==a.registered[e[n]]?t+=n+"{"+a.registered[e[n]]+"}":t+=ze(n)+":"+Ge(n,e[n])+";":Array.isArray(e[n])&&"string"==typeof e[n][0]&&void 0===a.registered[e[n][0]]?e[n].forEach((function(e){t+=ze(n)+":"+Ge(n,e)+";"})):t+=n+"{"+c.call(this,e[n],!1)+"}"}),this),h.set(e,t),t}var g=/label:\s*([^\s;\n{]+)\s*;/g,m=function(e,t){return function(e){for(var t,n=e.length,r=n^n,o=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:r^=(255&e.charCodeAt(o+2))<<16;case 2:r^=(255&e.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(o)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),((r^=r>>>15)>>>0).toString(36)}(e+t)+t},y=function(e){var t=!0,n="",r="";null==e||void 0===e.raw?(t=!1,n+=c.call(this,e,!1)):n+=e[0];for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return i.forEach((function(r,o){n+=c.call(this,r,46===n.charCodeAt(n.length-1)),!0===t&&void 0!==e[o+1]&&(n+=e[o+1])}),this),d=n,n=n.replace(g,(function(e,t){return r+="-"+t,""})),p=m(n,r),n};function v(e,t){void 0===a.inserted[p]&&(n="",u(e,t),a.inserted[p]=n)}var b=function(){var e=y.apply(this,arguments),t=o+"-"+p;return void 0===a.registered[t]&&(a.registered[t]=d),v("."+t,e),t};function O(e,t){var n="";return t.split(" ").forEach((function(t){void 0!==a.registered[t]?e.push(t):n+=t+" "})),n}function w(e,t){var n=[],r=O(n,e);return n.length<2?e:r+b(n,t)}function C(e){a.inserted[e]=!0}if(Ye){var S=document.querySelectorAll("[data-emotion-"+o+"]");Array.prototype.forEach.call(S,(function(e){s.tags[0].parentNode.insertBefore(e,s.tags[0]),e.getAttribute("data-emotion-"+o).split(" ").forEach(C)}))}var $={flush:function(){Ye&&(s.flush(),s.inject()),a.inserted={},a.registered={}},hydrate:function(e){e.forEach(C)},cx:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w(We(t))},merge:w,getRegisteredStyles:O,injectGlobal:function(){var e=y.apply(this,arguments);v("",e)},keyframes:function(){var e=y.apply(this,arguments),t="animation-"+p;return v("","@keyframes "+t+"{"+e+"}"),t},css:b,sheet:s,caches:a};return e.__SECRET_EMOTION__=$,$}(void 0!==i?i:{}),Ze=(Xe.flush,Xe.hydrate,Xe.cx),et=(Xe.merge,Xe.getRegisteredStyles),tt=(Xe.injectGlobal,Xe.keyframes,Xe.css),nt=(Xe.sheet,Xe.caches,function(e){for(var t=arguments,n=1;n<arguments.length;n++)for(var r in arguments[n])e[r]=t[n][r];return e}),rt="__emotion_styles";function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e){return Array.isArray(e)?e.join(" "):"object"===ot(e)?Object.keys(e).filter((function(t){return Boolean(e[t])})).join(" "):e}var at=function(e,t){var n,r,o,i;void 0!==t&&(n=t.e,r=t.label,o=t.target,i=t.props);var a=e.__emotion_real===e,s=void 0===n&&a&&e.__emotion_base||e;return function(){var t=a&&void 0!==e[rt]?e[rt].slice(0):[];if(void 0!==r&&t.push("label:".concat(r,";")),void 0===n){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];if(null===l[0]||void 0===l[0].raw)t.push.apply(t,l);else{t.push(l[0][0]);for(var p=l.length,d=1;d<p;d++)t.push(l[d],l[0][d])}}var h={name:"Styled".concat(e.name||r||"Component"),functional:!0,inject:{theme:{from:"theme_reactivesearch",default:null}},props:i,render:function(r,i){var a=i.data,s=i.children,u=i.props,l=i.injections,c="",p=[],d=it(a.class),h={};for(var f in a.attrs)"$"!==f[0]&&(h[f]=a.attrs[f]);if(d&&(c+=void 0===n?et(p,d):"".concat(d," ")),void 0===n){var g={mergedProps:nt({theme:l.theme},u)};c+=tt.apply(g,t.concat(p))}else c+=n;return void 0!==o&&(c+=" ".concat(o)),r(e,nt({},a,{attrs:h,class:c}),s)}};return h[rt]=t,h.__emotion_base=s,h.__emotion_real=h,Object.defineProperty(h,"toString",{enumerable:!1,value:function(){return".".concat(o)}}),h}};function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ut(e){return Math.round(255*e)}function lt(e,t,n){return ut(e)+","+ut(t)+","+ut(n)}function ct(e,t,n,r){if(void 0===r&&(r=lt),0===t)return r(n,n,n);var o=e%360/60,i=(1-Math.abs(2*n-1))*t,a=i*(1-Math.abs(o%2-1)),s=0,u=0,l=0;o>=0&&o<1?(s=i,u=a):o>=1&&o<2?(s=a,u=i):o>=2&&o<3?(u=i,l=a):o>=3&&o<4?(u=a,l=i):o>=4&&o<5?(s=a,l=i):o>=5&&o<6&&(s=i,l=a);var c=n-i/2;return r(s+c,u+c,l+c)}var pt={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var dt=/^#[a-fA-F0-9]{6}$/,ht=/^#[a-fA-F0-9]{8}$/,ft=/^#[a-fA-F0-9]{3}$/,gt=/^#[a-fA-F0-9]{4}$/,mt=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,yt=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/,vt=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/,bt=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/;function Ot(e){if("string"!=typeof e)throw new Error("Passed an incorrect argument to a color function, please pass a string representation of a color.");var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return pt[t]?"#"+pt[t]:e}(e);if(t.match(dt))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(ht)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(ft))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(gt)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var o=mt.exec(t);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10)};var i=yt.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10),alpha:parseFloat(""+i[4])};var a=vt.exec(t);if(a){var s="rgb("+ct(parseInt(""+a[1],10),parseInt(""+a[2],10)/100,parseInt(""+a[3],10)/100)+")",u=mt.exec(s);if(!u)throw new Error("Couldn't generate valid rgb string from "+t+", it returned "+s+".");return{red:parseInt(""+u[1],10),green:parseInt(""+u[2],10),blue:parseInt(""+u[3],10)}}var l=bt.exec(t);if(l){var c="rgb("+ct(parseInt(""+l[1],10),parseInt(""+l[2],10)/100,parseInt(""+l[3],10)/100)+")",p=mt.exec(c);if(!p)throw new Error("Couldn't generate valid rgb string from "+t+", it returned "+c+".");return{red:parseInt(""+p[1],10),green:parseInt(""+p[2],10),blue:parseInt(""+p[3],10),alpha:parseFloat(""+l[4])}}throw new Error("Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.")}function wt(e){return function(e){var t,n=e.red/255,r=e.green/255,o=e.blue/255,i=Math.max(n,r,o),a=Math.min(n,r,o),s=(i+a)/2;if(i===a)return void 0!==e.alpha?{hue:0,saturation:0,lightness:s,alpha:e.alpha}:{hue:0,saturation:0,lightness:s};var u=i-a,l=s>.5?u/(2-i-a):u/(i+a);switch(i){case n:t=(r-o)/u+(r<o?6:0);break;case r:t=(o-n)/u+2;break;default:t=(n-r)/u+4}return t*=60,void 0!==e.alpha?{hue:t,saturation:l,lightness:s,alpha:e.alpha}:{hue:t,saturation:l,lightness:s}}(Ot(e))}var Ct=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function St(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function $t(e){return St(Math.round(255*e))}function Et(e,t,n){return Ct("#"+$t(e)+$t(t)+$t(n))}function _t(e,t,n){return ct(e,t,n,Et)}function Pt(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return Ct("#"+St(e)+St(t)+St(n));if("object"==typeof e&&void 0===t&&void 0===n)return Ct("#"+St(e.red)+St(e.green)+St(e.blue));throw new Error("Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).")}function At(e,t,n,r){if("string"==typeof e&&"number"==typeof t){var o=Ot(e);return"rgba("+o.red+","+o.green+","+o.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?Pt(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?Pt(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new Error("Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).")}var It=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||void 0===e.alpha)},kt=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha},Rt=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||void 0===e.alpha)},xt=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha},Tt="Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.";function jt(e){if("object"!=typeof e)throw new Error(Tt);if(kt(e))return At(e);if(It(e))return Pt(e);if(xt(e))return function(e,t,n,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?_t(e,t,n):"rgba("+ct(e,t,n)+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?_t(e.hue,e.saturation,e.lightness):"rgba("+ct(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new Error("Passed invalid arguments to hsla, please pass multiple numbers e.g. hsl(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).")}(e);if(Rt(e))return function(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return _t(e,t,n);if("object"==typeof e&&void 0===t&&void 0===n)return _t(e.hue,e.saturation,e.lightness);throw new Error("Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).")}(e);throw new Error(Tt)}function Lt(e){return function e(t,n,r){return function(){var o=r.concat(Array.prototype.slice.call(arguments));return o.length>=n?t.apply(this,o):e(t,n,o)}}(e,e.length,[])}function Vt(e,t,n){return Math.max(e,Math.min(t,n))}function Qt(e,t){var n=wt(t);return jt(st({},n,{lightness:Vt(0,1,n.lightness-parseFloat(e))}))}var Mt=Lt(Qt);function Ft(e,t){var n=wt(t);return jt(st({},n,{lightness:Vt(0,1,n.lightness+parseFloat(e))}))}var Nt=Lt(Ft);function Dt(){var e=Se(["\n\tdisplay: inline-flex;\n\tjustify-content: center;\n\talign-items: center;\n\tborder-radius: 3px;\n\tborder: 1px solid transparent;\n\tmin-height: 30px;\n\tword-wrap: break-word;\n\tpadding: 5px 12px;\n\tline-height: 1.2rem;\n\tbackground-color: ",";\n\tcolor: ",";\n\tcursor: pointer;\n\tuser-select: none;\n\ttransition: all 0.3s ease;\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: ",";\n\t}\n\n\t&:focus {\n\t\toutline: 0;\n\t\tborder-color: ",";\n\t\tbox-shadow: ",";\n\t}\n\n\t",";\n\t",";\n\t",";\n"]);return Dt=function(){return e},e}function qt(){var e=Se(["\n\tbackground-color: ",";\n\tcolor: #ccc;\n\tcursor: not-allowed;\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: ",";\n\t}\n"]);return qt=function(){return e},e}function Ut(){var e=Se(["\n\tmin-height: 40px;\n\tpadding: 10px 20px;\n"]);return Ut=function(){return e},e}function Ht(){var e=Se(["\n\tbackground-color: ",";\n\tcolor: ",";\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: ",";\n\t}\n"]);return Ht=function(){return e},e}function Bt(){var e=Se(["\n\tmargin: 0 -5px;\n\ta {\n\t\tmargin: 5px;\n\t}\n\tspan {\n\t\tmargin: 0 5px;\n\t}\n"]);return Bt=function(){return e},e}function zt(){var e=Se(["\n\tmargin: 0 -3px;\n\tmax-width: 100%;\n\n\ta {\n\t\tmargin: 3px 3px;\n\t}\n"]);return zt=function(){return e},e}function Gt(){var e=Se(["\n\tmargin: 10px -3px;\n\tmax-width: 100%;\n\ttext-align: center;\n\n\ta {\n\t\tmargin: 0 3px;\n\t}\n"]);return Gt=function(){return e},e}function Wt(){var e=Se(["\n\tmargin: 0 -3px;\n\tmax-width: 100%;\n\n\ta {\n\t\tmargin: 2px 3px;\n\t\tpadding: 5px 8px;\n\t\tfont-size: 0.85rem;\n\t\tposition: relative;\n\n\t\tspan:first-child {\n\t\t\tmax-width: 260px;\n\t\t\twhite-space: nowrap;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\tmargin-right: 26px;\n\t\t}\n\n\t\tspan:last-child {\n\t\t\tdisplay: flex;\n\t\t\theight: 100%;\n\t\t\ttop: 0;\n\t\t\tright: 8px;\n\t\t\tposition: absolute;\n\t\t\talign-items: center;\n\t\t\tborder-left: 1px solid ",";\n\t\t\tpadding-left: 8px;\n\t\t\tmargin-left: 8px;\n\t\t}\n\n\t\t&:hover,\n\t\t&:focus {\n\t\t\tspan:first-child {\n\t\t\t\ttext-decoration: line-through;\n\t\t\t}\n\t\t}\n\t}\n"]);return Wt=function(){return e},e}var Yt=function(e){var t=e.colors.borderColor;return tt(Wt(),t||"#fff")},Kt=tt(Gt()),Jt=tt(zt()),Xt=(tt(Bt()),function(e){var t=e.theme;return tt(Ht(),t.colors.primaryColor,t.colors.primaryTextColor,Mt(.1,t.colors.primaryColor))}),Zt=function(){return tt(Ut())},en=function(e){var t=e.theme;return tt(qt(),t.colors.backgroundColor?Nt(.1,t.colors.backgroundColor):"#fafafa",t.colors.backgroundColor?Nt(.2,t.colors.backgroundColor):"#fafafa")},tn=at("a")(Dt(),(function(e){return e.theme.colors.backgroundColor||"#eee"}),(function(e){return e.theme.colors.textColor}),(function(e){var t=e.theme;return t.colors.backgroundColor?Mt(.1,t.colors.backgroundColor):"#ccc"}),(function(e){return At(e.theme.colors.primaryColor,.6)}),(function(e){return"0 0 0 2px "+At(e.theme.colors.primaryColor,.3)}),(function(e){return e.primary?Xt:null}),(function(e){return e.disabled?en:null}),(function(e){return e.large&&Zt})),nn=tt({margin:"5px 0",display:"flex",justifyContent:"center"});Fe.sensibleDefaults=!1;var rn=Fe.oneOfType([Fe.string,Fe.arrayOf(Fe.string),Fe.object,Fe.arrayOf(Fe.object)]);function on(e,t){return isNaN(e[t])?new Error(t+" value must be a VueTypes.number"):"lat"===t&&(e[t]<-90||e[t]>90)?new Error(t+" value should be between -90 and 90."):"lng"===t&&(e[t]<-180||e[t]>180)?new Error(t+" value should be between -180 and 180."):null}var an={any:Fe.any,bool:Fe.bool,boolRequired:Fe.bool.isRequired,components:Fe.arrayOf(Fe.string),children:Fe.any,data:Fe.arrayOf(Fe.object),dataFieldArray:Fe.oneOfType([Fe.string,Fe.arrayOf(Fe.string)]).isRequired,dataNumberBox:Fe.shape({label:Fe.string,start:Fe.number.isRequired,end:Fe.number.isRequired}).isRequired,date:Fe.oneOfType([Fe.string,Fe.arrayOf(Fe.string)]),dateObject:Fe.object,excludeFields:Fe.arrayOf(Fe.string),fieldWeights:Fe.arrayOf(Fe.number),filterLabel:Fe.string,func:Fe.func,funcRequired:Fe.func.isRequired,fuzziness:Fe.oneOf([0,1,2,"AUTO"]),headers:Fe.object,hits:Fe.arrayOf(Fe.object),iconPosition:Fe.oneOf(["left","right"]),includeFields:Fe.arrayOf(Fe.string),labelPosition:Fe.oneOf(["left","right","top","bottom"]),number:Fe.number,options:Fe.oneOfType([Fe.arrayOf(Fe.object),Fe.object]),paginationAt:Fe.oneOf(["top","bottom","both"]),range:Fe.shape({start:Fe.number.isRequired,end:Fe.number.isRequired}),rangeLabels:Fe.shape({start:Fe.string.isRequired,end:Fe.string.isRequired}),react:Fe.shape({and:rn,or:rn,not:rn}),selectedValues:Fe.object,selectedValue:Fe.oneOfType([Fe.string,Fe.arrayOf(Fe.string),Fe.arrayOf(Fe.object),Fe.object,Number,Fe.arrayOf(Number)]),suggestions:Fe.arrayOf(Fe.object),supportedOrientations:Fe.oneOf(["portrait","portrait-upside-down","landscape","landscape-left","landscape-right"]),sortBy:Fe.oneOf(["asc","desc"]),sortOptions:Fe.arrayOf(Fe.shape({label:Fe.string,dataField:Fe.string,sortBy:Fe.string})),sortByWithCount:Fe.oneOf(["asc","desc","count"]),stats:Fe.arrayOf(Fe.object),string:Fe.string,stringArray:Fe.arrayOf(Fe.string),stringOrArray:Fe.oneOfType([Fe.string,Fe.arrayOf(Fe.string)]),stringRequired:Fe.string.isRequired,style:Fe.object,themePreset:Fe.oneOf(["light","dark"]),queryFormatSearch:Fe.oneOf(["and","or"]),queryFormatNumberBox:Fe.oneOf(["exact","lte","gte"]),params:Fe.object.isRequired,props:Fe.object,rangeLabelsAlign:Fe.oneOf(["left","right"]),title:Fe.oneOfType([Fe.string,Fe.any]),tooltipTrigger:Fe.oneOf(["always","none","hover"]),location:Fe.shape({lat:on,lng:on}),unit:Fe.oneOf(["mi","miles","yd","yards","ft","feet","in","inch","km","kilometers","m","meters","cm","centimeters","mm","millimeters","NM","nmi","nauticalmiles"]),value:Fe.string.def(void 0),analyticsConfig:Fe.shape({searchStateHeader:Fe.bool,emptyQuery:Fe.bool,suggestionAnalytics:Fe.bool,userId:Fe.string,customEvents:Fe.object}).def({searchStateHeader:!1,emptyQuery:!0,suggestionAnalytics:!0})},sn=Oe.getClassName,un=Oe.handleA11yAction;function ln(e,t,n){var r=parseInt(e/2,10),o=t-(n?Math.ceil(r/2)-1:r);return o>1?o:2}var cn={name:"Pagination",functional:!0,props:{currentPage:an.number,innerClass:an.style,pages:an.number,setPage:an.func,totalPages:an.number,showEndPage:an.bool},render:function(e,t){var n=arguments[0],r=t.props,o=function(){r.currentPage&&r.setPage(r.currentPage-1)},i=function(){r.currentPage<r.totalPages-1&&r.setPage(r.currentPage+1)};if(!r.totalPages)return null;var a=sn(r.innerClass,"button"),s=0===r.currentPage,u=a||s?a+" "+(s?"active":""):"",l=function(e){var t=r.pages,o=r.currentPage,i=r.totalPages,s=r.setPage,u=r.showEndPage,l="start"===e?ln(t,o,u):Math.max(2,Math.ceil(i-(t-1)/2+1)),c=[];if(l<=i){var p=t<i?l+(t-1):i+1;u&&(p="start"===e?l+(Math.ceil(t/2)-t%2):i+1),o>i-t+2&&(p=(l=Math.max(2,i-t+2))+t);for(var d=function(e){var t=o===e-1,r=n(tn,{class:a||t?a+" "+(t?"active":""):"",attrs:{primary:t,tabIndex:"0",alt:"page-"+e},on:{keyPress:function(t){return un(t,(function(){return s(e-1)}))},click:function(){return s(e-1)}}},[e]);e<=i+1&&c.push(r)},h=l;h<Math.min(i+1,p);h+=1)d(h)}return c},c=function(){var e=r.showEndPage,t=r.currentPage,n=r.totalPages,o=r.pages;return e?t<=n-o+2||n<=o?l("start"):null:l("start")};return n("div",{class:Kt+" "+sn(r.innerClass,"pagination")},[n(tn,{class:sn(r.innerClass,"button")||"",attrs:{disabled:0===r.currentPage,tabIndex:"0"},on:{keyPress:function(e){return un(e,o)},click:o}},["Prev"]),n(tn,{class:u,attrs:{primary:s,tabIndex:"0"},on:{keyPress:function(e){return un(e,(function(){return r.setPage(0)}))},click:function(){return r.setPage(0)}}},["1"]),r.showEndPage&&r.currentPage>=Math.floor(r.pages/2)+!!(r.pages%2)?n("span",["..."]):null,c(),r.showEndPage&&r.pages>2&&r.currentPage<=r.totalPages-Math.ceil(.75*r.pages)?n("span",["..."]):null,r.showEndPage&&r.totalPages>=r.pages&&l("end"),n(tn,{class:sn(r.innerClass,"button")||"",attrs:{disabled:r.currentPage>=r.totalPages-1,tabIndex:"0"},on:{keyPress:function(e){return un(e,i)},click:i}},["Next"])])}};function pn(){var e=Se(["\n\twidth: 110px;\n"]);return pn=function(){return e},e}cn.install=function(e){e.component(cn.name,cn)};var dn=at("img")(pn()),hn={functional:!0,render:function(e){return e("a",{attrs:{href:"https://appbase.io/",target:"_blank",rel:"noopener noreferrer"}},[e(dn,{attrs:{src:"https://cdn.jsdelivr.net/gh/appbaseio/cdn@d2ec210045e59104ee5485841fa17b23fc83f097/appbase/logos/rbc-logo.svg"}})])}};function fn(){return(fn=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}var gn=["attrs","props","domProps"],mn=["class","style","directives"],yn=["on","nativeOn"],vn=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}},bn=function(e){return e.reduce((function(e,t){for(var n in t)if(e[n])if(-1!==gn.indexOf(n))e[n]=fn({},e[n],t[n]);else if(-1!==mn.indexOf(n)){var r=e[n]instanceof Array?e[n]:[e[n]],o=t[n]instanceof Array?t[n]:[t[n]];e[n]=r.concat(o)}else if(-1!==yn.indexOf(n))for(var i in t[n])if(e[n][i]){var a=e[n][i]instanceof Array?e[n][i]:[e[n][i]],s=t[n][i]instanceof Array?t[n][i]:[t[n][i]];e[n][i]=a.concat(s)}else e[n][i]=t[n][i];else if("hook"==n)for(var u in t[n])e[n][u]=e[n][u]?vn(e[n][u],t[n][u]):t[n][u];else e[n]=t[n];else e[n]=t[n];return e}),{})};function On(){var e=Se(["\n\tmargin: 0 0 8px;\n\tfont-size: 1rem;\n\tcolor: ",";\n"]);return On=function(){return e},e}var wn=at("h2")(On(),(function(e){return e.theme.colors.titleColor}));function Cn(){var e=Se(["\n\twidth: 100%;\n\theight: auto;\n\toutline: none;\n\ttext-decoration: none;\n\tborder-radius: 0;\n\tbackground-color: ",";\n\tdisplay: flex;\n\tflex-direction: row;\n\tmargin: 0;\n\tpadding: 10px;\n\tborder-bottom: 1px solid ",";\n\tcolor: ",";\n\t","; all 0.3s ease;\n\n\t&:hover, &:focus {\n\t\tbackground-color: ",";\n\t}\n\n\t&:last-child {\n\t\tborder: 0;\n\t}\n\n\th2 {\n\t\twidth: 100%;\n\t\tline-height: 1.2rem;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tmargin: 0;\n\t\tpadding: 0 0 8px;\n\t}\n\n\tp {\n\t\tmargin: 0;\n\t}\n\n\tarticle {\n\t\twidth: ",";\n\t\tpadding-left: ",";\n\t\tfont-size: 0.9rem;\n\t}\n\n\t&:hover, &:focus {\n\t\tbox-shadow: 0 0 0 0 rgba(0,0,0,0.10);\n\t}\n\n\t@media (max-width: 420px) {\n\t\tmin-width: 0;\n\t\tmargin: 0;\n\t\tborder-radius: 0;\n\t\tbox-shadow: none;\n\t\tborder: 1px solid #eee;\n\n\t\t&:hover, &:focus {\n\t\t\tbox-shadow: 0;\n\t\t}\n\t}\n"]);return Cn=function(){return e},e}function Sn(){var e=Se(["\n\twidth: 160px;\n\theight: 160px;\n\t",";\n\tmargin: 0;\n\tbackground-size: contain;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\tbackground-image: ",";\n"]);return Sn=function(){return e},e}function $n(){var e=Se(["\n\twidth: 100px;\n\theight: 100px;\n"]);return $n=function(){return e},e}function En(){var e=Se(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin: 0;\n\tborder-radius: 0.25rem;\n\toverflow: hidden;\n"]);return En=function(){return e},e}var _n=tt(En()),Pn=tt($n()),An=at("div")(Sn(),(function(e){return e.small?Pn:null}),(function(e){return"url("+e.src+")"})),In=at("a")(Cn(),(function(e){var t=e.theme;return t.colors.backgroundColor?Nt(.1,t.colors.backgroundColor):"#fff"}),(function(e){var t=e.theme;return t.colors.backgroundColor?Nt(.3,t.colors.backgroundColor):Nt(.68,t.colors.textColor)}),(function(e){return e.theme.colors.textColor}),(function(e){return e.href?"cursor: pointer":null}),(function(e){var t=e.theme;return t.colors.backgroundColor?Nt(.2,t.colors.backgroundColor):"#fdfefd"}),(function(e){return e.image?e.small?"calc(100% - 100px)":"calc(100% - 160px)":"100%"}),(function(e){return e.image?"10px":0})),kn={name:"ResultListWrapper",functional:!0,render:function(e,t){var n=t.props,r=t.children,o=arguments[0];return o("div",bn([{attrs:{className:_n}},n]),[r])}};function Rn(){var e=Se(["\n\twidth: auto;\n\tflex-grow: 1;\n\toutline: none;\n\ttext-decoration: none;\n\tmin-width: 240px;\n\tmax-width: 250px;\n\tborder-radius: 0.25rem;\n\tbackground-color: ",";\n\theight: 300px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\tmargin: 8px;\n\tpadding: 10px;\n\toverflow: hidden;\n\tbox-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.2);\n\tcolor: ",";\n\t",";\n\ttransition: all 0.3s ease;\n\n\th2 {\n\t\twidth: 100%;\n\t\tfont-size: 0.9rem;\n\t\tline-height: 1.2rem;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tmargin: 0;\n\t\tpadding: 10px 0 8px;\n\t}\n\n\tp {\n\t\tmargin: 0;\n\t}\n\n\tarticle {\n\t\tflex-grow: 1;\n\t\tfont-size: 0.9rem;\n\t}\n\n\t&:hover,\n\t&:focus {\n\t\tbox-shadow: 0 0 8px 1px rgba(0, 0, 0, 0.3);\n\t}\n\n\t@media (max-width: 420px) {\n\t\twidth: 50%;\n\t\tmin-width: 0;\n\t\theight: 210px;\n\t\tmargin: 0;\n\t\tborder-radius: 0;\n\t\tbox-shadow: none;\n\t\tborder: 1px solid #eee;\n\n\t\t&:hover,\n\t\t&:focus {\n\t\t\tbox-shadow: 0;\n\t\t}\n\t}\n"]);return Rn=function(){return e},e}function xn(){var e=Se(["\n\twidth: calc(100% + 20px);\n\theight: 220px;\n\tmargin: -10px -10px 0;\n\tbackground-color: ",";\n\tbackground-size: contain;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n"]);return xn=function(){return e},e}function Tn(){var e=Se(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\tflex-wrap: wrap;\n\tmargin: 0 -8px;\n\n\t@media (max-width: 420px) {\n\t\tmargin: 0;\n\t}\n"]);return Tn=function(){return e},e}kn.install=function(e){e.component(kn.name,kn)};var jn=tt(Tn()),Ln=at("div")(xn(),(function(e){return e.theme.colors.backgroundColor||"#fcfcfc"})),Vn=at("a")(Rn(),(function(e){var t=e.theme;return t.colors.backgroundColor?Nt(.1,t.colors.backgroundColor):"#fff"}),(function(e){return e.theme.colors.textColor}),(function(e){return e.href?"cursor: pointer":null})),Qn={name:"ResultCardsWrapper",functional:!0,render:function(e,t){var n=t.props,r=t.children,o=arguments[0];return o("div",bn([{attrs:{className:jn}},n]),[r])},install:function(e){e.component(Qn.name,Qn)}},Mn=function(){return Math.random().toString(36).substring(7).split("").join(".")};Mn(),Mn();function Fn(e,t){return function(){return t(e.apply(this,arguments))}}var Nn=Object.prototype.hasOwnProperty;function Dn(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}var qn=function(){return{}},Un={},Hn=function(e,t){return void 0===e&&(e=qn),void 0===t&&(t=Un),function(n){var r=function(e){if("function"==typeof e)return e;if(e===Object(e))return function(t,n){return Object.keys(e).filter((function(t){return"function"==typeof e[t]})).reduce((function(r,o){var i;return we({},r,((i={})[o]=e[o](t,n),i))}),{})};throw new Error("[revux] - mapState provided to connect is invalid")}(e);return{name:"connect-"+n.name,mixins:[n],inject:["$$store"],data:function(){var e=we({},r(this.$$store.getState(),this.$props||{}),{},function(e,t){if("function"==typeof e)return Fn(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=Fn(o,t))}return n}(t,this.$$store.dispatch));return Object.keys(e).reduce((function(t,n){var r;return we({},t,((r={})[n]=e[n],r))}),{})},created:function(){var e,t,n,o,i=this;this._unsubscribe=(e=this.$$store,n=function(e){Object.keys(e).forEach((function(t){i.$set(i,t,e[t])}))},o=(t=function(e){return r(e,i.$props||{})})(e.getState()),e.subscribe((function(){var r=t(e.getState());if(!function(e,t){if(Dn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o+=1)if(!Nn.call(t,n[o])||!Dn(e[n[o]],t[n[o]]))return!1;return!0}(o,r)){var i=o;n(o=r,i)}})))},beforeDestroy:function(){this._unsubscribe()}}}},Bn=function(){return Hn.apply(void 0,arguments)},zn=function(e){return"function"==typeof e};function Gn(e,t){var n=Object.keys(e).map((function(t){return e[t]?t:null}));return n.includes(t)?n.filter((function(e){return e!==t})):[].concat(n,[t])}var Wn=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=(t.$scopedSlots||t.$props).render;return n?n(e):null},Yn=function(e){void 0===e&&(e={});var t=(e.$scopedSlots||e.$props).render;return Boolean(t)},Kn=function(e){return void 0===e&&(e={}),Object.keys(e).filter((function(e){return E.includes(e)}))},Jn=function(e){return!!(e&&e.stopPropagation&&e.preventDefault)};function Xn(){var e=Se(["\n\t\t\tflex-basis: ",";\n\t\t"]);return Xn=function(){return e},e}function Zn(){var e=Se(["\n\t\t\tflex-direction: ",";\n\t\t"]);return Zn=function(){return e},e}function er(){var e=Se(["\n\t\t\tflex: ",";\n\t\t"]);return er=function(){return e},e}function tr(){var e=Se(["\n\t\t\talign-items: ",";\n\t\t"]);return tr=function(){return e},e}function nr(){var e=Se(["\n\t\t\tjustify-content: ",";\n\t\t"]);return nr=function(){return e},e}function rr(){var e=Se(["\n\tdisplay: ",";\n\t",";\n\t",";\n\t",";\n\t",";\n\t",";\n\n\t",";\n\t",";\n\n\t",";\n\t",";\n\t",";\n\n\tsvg.cancel-icon {\n\t\tcursor: pointer;\n\t\tfill: ",";\n\t\tflex-basis: 30px;\n\n\t\t&:hover {\n\t\t\tfill: ",";\n\t\t}\n\t}\n"]);return rr=function(){return e},e}function or(){var e=Se(["\n\tborder: 1px solid ",";\n"]);return or=function(){return e},e}function ir(){var e=Se(["\n\tflex-direction: column-reverse;\n"]);return ir=function(){return e},e}function ar(){var e=Se(["\n\tflex-direction: column;\n"]);return ar=function(){return e},e}function sr(){var e=Se(["\n\tflex-direction: row-reverse;\n\talign-items: center;\n"]);return sr=function(){return e},e}function ur(){var e=Se(["\n\tflex-direction: row;\n\talign-items: center;\n"]);return ur=function(){return e},e}var lr=tt(ur()),cr=tt(sr()),pr=tt(ar()),dr=tt(ir()),hr=function(e){var t=e.theme.colors;return tt(or(),t.borderColor||"#ccc")},fr=at("div")(rr(),(function(e){return e.inline?"inline-flex":"flex"}),(function(e){return("left"===e.labelPosition||"right"===e.iconPosition)&&lr}),(function(e){return("right"===e.labelPosition||"left"===e.iconPosition)&&cr}),(function(e){return"top"===e.labelPosition&&pr}),(function(e){return"bottom"===e.labelPosition&&dr}),(function(e){return e.showBorder&&hr}),(function(e){return e.justifyContent&&tt(nr(),e.justifyContent)}),(function(e){return e.alignItems&&tt(tr(),e.alignItems)}),(function(e){return e.flex&&tt(er(),e.flex)}),(function(e){return e.direction&&tt(Zn(),e.direction)}),(function(e){return e.basis&&tt(Xn(),e.basis)}),(function(e){var t=e.theme.colors;return t.borderColor||Nt(.3,t.textColor)}),(function(e){return e.theme.colors.textColor}));function gr(){var e=Se(["\n\tcolor: #424242;\n\theight: 32px;\n\tfont-size: 0.82rem;\n\tpadding: 0 25px 0 10px;\n\tbackground: url(data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0Ljk1IDEwIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZjt9LmNscy0ye2ZpbGw6IzQ0NDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmFycm93czwvdGl0bGU+PHJlY3QgY2xhc3M9ImNscy0xIiB3aWR0aD0iNC45NSIgaGVpZ2h0PSIxMCIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIxLjQxIDQuNjcgMi40OCAzLjE4IDMuNTQgNC42NyAxLjQxIDQuNjciLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iMy41NCA1LjMzIDIuNDggNi44MiAxLjQxIDUuMzMgMy41NCA1LjMzIi8+PC9zdmc+)\n\t\tno-repeat 95% 50%;\n\tbackground-color: #fff;\n\t-moz-appearance: none;\n\t-webkit-appearance: none;\n\tappearance: none;\n\t-webkit-border-radius: 0;\n\tborder-radius: 0;\n\tborder: 0;\n\toutline: 1px solid #ddd;\n\toutline-offset: -1px;\n"]);return gr=function(){return e},e}function mr(){var e=Se(["\n\tflex-grow: 1;\n\tfont-size: 0.82rem;\n"]);return mr=function(){return e},e}var yr=tt(mr()),vr=tt(gr()),br=ye.addComponent,Or=ye.removeComponent,wr=ye.setStreaming,Cr=ye.watchComponent,Sr=ye.setQueryOptions,$r=ye.updateQuery,Er=ye.loadMore,_r=ye.setValue,Pr=ye.setQueryListener,Ar=ye.updateComponentProps,Ir=Oe.isEqual,kr=Oe.getQueryOptions,Rr=Oe.pushToAndClause,xr=Oe.getClassName,Tr=Oe.parseHits,jr=Oe.getOptionsFromQuery,Lr=Oe.getCompositeAggsQuery,Vr=Oe.checkSomePropChange,Qr={name:"ReactiveList",components:{ResultListWrapper:kn,ResultCardsWrapper:Qn},data:function(){var e=this.$props,t=0;return e.currentPage&&(t=Math.max(e.currentPage-1,0)),this.__state={from:t*e.size,isLoading:!0,$currentPage:t},this.__state},created:function(){var e=this;this.pagination&&this.aggregationField&&console.warn("Pagination is not supported when aggregationField is present. The list will be rendered with infinite scroll"),this.defaultPage>=0&&(this.$currentPage=this.defaultPage,this.from=this.$currentPage*this.$props.size),this.isLoading=!0,this.internalComponent=this.$props.componentId+"__internal";this.setQueryListener(this.$props.componentId,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["queryChange"].concat(n))}),(function(t){e.$emit("error",t)}))},props:{currentPage:Fe.number.def(0),includeFields:an.includeFields.def(["*"]),className:an.string,componentId:an.stringRequired,dataField:an.stringRequired,aggregationField:an.string,defaultQuery:an.func,excludeFields:an.excludeFields.def([]),innerClass:an.style,listClass:Fe.string.def(""),loader:an.title,render:an.func,renderItem:an.func,renderNoResults:Fe.any.def("No Results found."),renderError:an.title,renderResultStats:an.func,pages:Fe.number.def(5),pagination:Fe.bool.def(!1),paginationAt:an.paginationAt.def("bottom"),react:an.react,showResultStats:Fe.bool.def(!0),showEndPage:Fe.bool.def(!1),size:Fe.number.def(10),sortBy:an.sortBy,sortOptions:an.sortOptions,stream:an.bool,URLParams:Fe.bool.def(!1)},computed:{shouldRenderPagination:function(){return this.pagination&&!this.aggregationField},totalPages:function(){return Math.ceil(this.total/this.$props.size)||0},hasPageChangeListener:function(){return this.$listeners&&this.$listeners.pageChange},hasResultStatsListener:function(){return this.$listeners&&this.$listeners.resultStats},stats:function(){var e=this.total,t=this.size,n=this.time,r=this.currentPage,o=this.getAllData().filteredResults;return{numberOfResults:e,numberOfPages:Math.ceil(e/t),time:n,currentPage:r,displayedResults:o.length}},hasCustomRender:function(){return Yn(this)}},watch:{sortOptions:function(e,t){Ir(t,e)||this.updateQueryOptions(this.$props)},sortBy:function(e,t){t!==e&&this.updateQueryOptions(this.$props)},size:function(e,t){t!==e&&this.updateQueryOptions(this.$props)},dataField:function(e,t){t!==e&&this.updateQueryOptions(this.$props)},includeFields:function(e,t){t!==e&&this.updateQueryOptions(this.$props)},excludeFields:function(e,t){t!==e&&this.updateQueryOptions(this.$props)},defaultQuery:function(e,t){if(e&&!Ir(e(),t)){var n=kr(this.$props);n.from=0,this.$defaultQuery=e();var r=this.$defaultQuery,o=r.sort,i=Ce(r,["sort"]);o&&(n.sort=this.$defaultQuery.sort),jr(this.$defaultQuery)&&(n=we({},n,{},jr(this.$defaultQuery))),this.setQueryOptions(this.$props.componentId,we({},n,{},this.getAggsQuery()),!i),this.updateQuery({componentId:this.internalComponent,query:i},!0),this.$currentPage=0,this.from=0}},stream:function(e,t){t!==e&&this.setStreaming(this.$props.componentId,e)},react:function(e,t){Ir(e,t)||this.setReact(this.$props)},streamHits:function(){this.$emit("data",this.getAllData())},hits:function(e,t){this.$emit("data",this.getAllData()),this.shouldRenderPagination?this.isLoading&&(t||e)&&(this.hasPageChangeListener?this.$emit("pageChange",this.$currentPage+1,this.totalPages):window.scrollTo(0,0),this.isLoading=!1):t&&e?t.length===e.length&&e.length!==this.$props.total||(this.isLoading=!1,e.length<t.length&&(window.scrollTo(0,0),this.from=0)):t&&t.length||!e||(this.isLoading=!1)},total:function(e,t){if(this.shouldRenderPagination&&e!==t){var n=this.$data.total?0:this.$currentPage;this.defaultPage>=0&&(n=this.defaultPage),this.$currentPage=n,this.$emit("pageChange",n+1,this.totalPages)}},currentPage:function(e,t){t!==e&&e>0&&e<=this.totalPages&&this.setPage(e-1)},pagination:function(e,t){e!==t&&(e?window.removeEventListener("scroll",this.scrollHandler):window.addEventListener("scroll",this.scrollHandler))},defaultPage:function(e){this.$currentPage!==e&&this.defaultPage!==e&&this.setPage(e>=0?e:0)}},mounted:function(){var e=this;this.addComponent(this.internalComponent),this.addComponent(this.$props.componentId),this.$props.stream&&this.setStreaming(this.$props.componentId,!0);var t,n=kr(this.$props);if(n.from=this.$data.from,this.$props.sortOptions)n.sort=[(t={},t[this.$props.sortOptions[0].dataField]={order:this.$props.sortOptions[0].sortBy},t)];else if(this.$props.sortBy){var r;n.sort=[(r={},r[this.$props.dataField]={order:this.$props.sortBy},r)]}this.$defaultQuery=null,this.$props.defaultQuery&&(this.$defaultQuery=this.$props.defaultQuery(),n=we({},n,{},jr(this.$defaultQuery)),this.$defaultQuery.sort&&(n.sort=this.$defaultQuery.sort));var o=this.$defaultQuery||{},i=(o.sort,Ce(o,["sort"]));this.setQueryOptions(this.$props.componentId,we({},n,{},this.getAggsQuery()),!1),this.$defaultQuery?this.updateQuery({componentId:this.internalComponent,query:i},!1):this.updateQuery({componentId:this.internalComponent,query:null},!1),this.setReact(this.$props),this.shouldRenderPagination||window.addEventListener("scroll",this.scrollHandler);var a=Kn(this.$props);this.updateComponentProps(this.componentId,this.$props),this.$watch(a.join("."),(function(t,n){Vr(t,n,a,(function(){e.updateComponentProps(e.componentId,e.$props)}))}))},beforeDestroy:function(){this.removeComponent(this.$props.componentId),this.removeComponent(this.internalComponent),window.removeEventListener("scroll",this.scrollHandler)},render:function(){var e=this,t=arguments[0],n=this.$props.size,r=this.$data.hits,o=Tr(r)||[],i=Tr(this.$data.streamHits)||[],a=o,s=this.$scopedSlots.renderItem||this.$props.renderItem;if(i.length){var u=i.map((function(e){return e._id}));a=a.filter((function(e){return!u.includes(e._id)}))}return t("div",{style:this.$props.style,class:this.$props.className},[this.isLoading&&this.shouldRenderPagination&&(this.$scopedSlots.loader||this.$props.loader),this.renderErrorComponent(),t(fr,{attrs:{labelPosition:this.$props.sortOptions?"right":"left"},class:xr(this.$props.innerClass,"resultsInfo")},[this.$props.sortOptions?this.renderSortOptions():null,this.$props.showResultStats?this.renderStats():null]),this.isLoading||0!==o.length||0!==i.length?null:this.renderNoResult(),!this.shouldRenderPagination||"top"!==this.$props.paginationAt&&"both"!==this.$props.paginationAt?null:t(cn,{attrs:{pages:this.$props.pages,totalPages:this.totalPages,currentPage:this.$currentPage,setPage:this.setPage,innerClass:this.$props.innerClass}}),this.hasCustomRender?this.getComponent():t("div",{class:this.$props.listClass+" "+xr(this.$props.innerClass,"list")},[[].concat(i,a).map((function(t,r){return s({item:t,triggerClickAnalytics:function(){return e.triggerClickAnalytics(e.$currentPage*n+r)}})}))]),this.isLoading&&!this.shouldRenderPagination?this.$props.loader||t("div",{style:{textAlign:"center",margin:"20px 0",color:"#666"}},["Loading..."]):null,!this.shouldRenderPagination||"bottom"!==this.$props.paginationAt&&"both"!==this.$props.paginationAt?null:t(cn,{attrs:{pages:this.$props.pages,totalPages:Math.ceil(this.$data.total/this.$props.size),currentPage:this.$currentPage,setPage:this.setPage,showEndPage:this.$props.showEndPage,innerClass:this.$props.innerClass}}),this.config.url.endsWith("appbase.io")&&o.length?t(fr,{attrs:{direction:"row-reverse"},class:xr(this.$props.innerClass,"poweredBy")},[t(hn)]):null])},methods:{renderErrorComponent:function(){var e=this.$scopedSlots.renderError||this.$props.renderError;return e&&this.error&&!this.isLoading?zn(e)?e(this.error):e:null},updateQueryOptions:function(e){var t,n=kr(e);if(n.from=this.$data.from,e.sortOptions)n.sort=[(t={},t[e.sortOptions[0].dataField]={order:e.sortOptions[0].sortBy},t)];else if(e.sortBy){var r;n.sort=[(r={},r[e.dataField]={order:e.sortBy},r)]}this.setQueryOptions(this.$props.componentId,we({},n,{},this.getAggsQuery()),!0)},getAggsQuery:function(){var e=this.$props,t=e.size,n=e.aggregationField,r=this.$data.afterKey,o={size:t};return n&&(o.aggs=Lr({},this.$props,r?{after:r}:null,!0).aggs),o},setReact:function(e){var t=e.react;if(t){var n=Rr(t,this.internalComponent);this.watchComponent(e.componentId,n)}else this.watchComponent(e.componentId,{and:this.internalComponent})},scrollHandler:function(){!this.isLoading&&window.innerHeight+window.pageYOffset+300>=document.body.offsetHeight&&this.loadMore()},loadMore:function(){if(!this.aggregationField||this.afterKey)if(this.hits&&!this.shouldRenderPagination&&this.total!==this.hits.length){var e=this.$data.from+this.$props.size,t=we({},kr(this.$props),{},this.getAggsQuery());this.from=e,this.isLoading=!0,this.loadMoreAction(this.$props.componentId,we({},t,{from:e}),!0,!!this.aggregationField)}else this.isLoading&&(this.isLoading=!1)},setPage:function(e){if(e!==this.$currentPage){this.$emit("pageClick",e+1);var t=this.$props.size*e,n=kr(this.$props);n.from=this.$data.from,this.from=t,this.isLoading=!0,this.$currentPage=e,this.loadMoreAction(this.$props.componentId,we({},n,{from:t}),!1),this.$props.URLParams&&this.setPageURL(this.$props.componentId,e+1,this.$props.componentId,!1,!0)}},renderStats:function(){var e=this.$createElement,t=this.$scopedSlots.renderResultStats||this.$props.renderResultStats;return t&&this.$data.total?t(this.stats):this.stats.numberOfResults?e("p",{class:yr+" "+xr(this.$props.innerClass,"resultStats")},[this.stats.numberOfResults," results found in ",this.stats.time,"ms"]):null},renderNoResult:function(){var e=this.$createElement,t=this.$scopedSlots.renderNoResults||this.$props.renderNoResults;return e("p",{class:xr(this.$props.innerClass,"noResults")||null},[zn(t)?t():t])},handleSortChange:function(e){var t,n=e.target.value,r=kr(this.$props);r.from=0,r.sort=[(t={},t[this.$props.sortOptions[n].dataField]={order:this.$props.sortOptions[n].sortBy},t)],this.setQueryOptions(this.$props.componentId,r,!0),this.$currentPage=0,this.from=0},triggerClickAnalytics:function(e){var t=this.config,n=this.analytics.searchId,r=t.url,o=t.app,i=t.credentials;t.analytics&&n&&fetch(r+"/"+o+"/_analytics",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(i),"X-Search-Id":n,"X-Search-Click":!0,"X-Search-ClickPosition":e+1}})},renderSortOptions:function(){var e=this.$createElement;return e("select",{class:vr+" "+xr(this.$props.innerClass,"sortOptions"),attrs:{name:"sort-options"},on:{change:this.handleSortChange}},[this.$props.sortOptions.map((function(t,n){return e("option",{key:t.label,domProps:{value:n}},[t.label])}))])},withClickIds:function(e){var t=this.getAllData().base;return e.map((function(e,n){return we({},e,{_click_id:t+n})}))},getAllData:function(){var e=this.size,t=this.promotedResults,n=this.aggregationData,r=this.currentPage,o=this.hits,i=this.streamHits,a=Tr(o)||[],s=Tr(i)||[],u=a,l=r*e;if(s.length){var c=s.map((function(e){return e._id}));u=u.filter((function(e){return!c.includes(e._id)}))}if(t.length){var p=t.map((function(e){return e._id})).filter(Boolean);p&&(u=u.filter((function(e){return!p.includes(e._id)}))),u=[].concat(s,t,u)}return{results:a,streamResults:s,filteredResults:u,promotedResults:t,aggregationData:n,loadMore:this.loadMore,base:l,triggerClickAnalytics:this.triggerClickAnalytics}},getData:function(){var e=this.getAllData(),t=e.results,n=e.streamResults,r=e.filteredResults,o=e.promotedResults,i=e.aggregationData;return{data:this.withClickIds(r),aggregationData:this.withClickIds(i||[]),streamData:this.withClickIds(n),promotedData:this.withClickIds(o),rawData:this.withClickIds(t),resultStats:this.stats}},getComponent:function(){var e=we({error:this.error,loading:this.isLoading,loadMore:this.loadMore,triggerAnalytics:this.triggerClickAnalytics},this.getData());return Wn(e,this)}}},Mr={addComponent:br,loadMoreAction:Er,removeComponent:Or,setPageURL:_r,setQueryOptions:Sr,setQueryListener:Pr,setStreaming:wr,updateQuery:$r,watchComponent:Cr,updateComponentProps:Ar};Qr.generateQueryOptions=function(e){var t,n=kr(we({includeFields:["*"],excludeFields:[]},e));if(n.from=e.currentPage?(e.currentPage-1)*(e.size||10):0,n.size=e.size||10,e.sortOptions)n.sort=[(t={},t[e.sortOptions[0].dataField]={order:e.sortOptions[0].sortBy},t)];else if(e.sortBy){var r;n.sort=[(r={},r[e.dataField]={order:e.sortBy},r)]}return n};var Fr=Bn((function(e,t){return{defaultPage:e.selectedValues[t.componentId]&&e.selectedValues[t.componentId].value-1||-1,hits:e.hits[t.componentId]&&e.hits[t.componentId].hits,aggregationData:e.compositeAggregations[t.componentId]||[],promotedResults:e.promotedResults,streamHits:e.streamHits[t.componentId],time:e.hits[t.componentId]&&e.hits[t.componentId].time||0,total:e.hits[t.componentId]&&e.hits[t.componentId].total,analytics:e.analytics,config:e.config,error:e.error[t.componentId],afterKey:e.aggregations[t.componentId]&&e.aggregations[t.componentId][t.aggregationField]&&e.aggregations[t.componentId][t.aggregationField].after_key}}),Mr)(Qr);Qr.install=function(e){e.component(Qr.name,Fr),e.component(kn.name,kn),e.component(Qn.name,Qn)};var Nr=function(e){var t=RegExp("^(([^:/?#]*)?://)?(((.*)?@)?([^/?#]*)?)([^?#]*)(\\?([^#]*))?(#(.*))?"),n=e.match(t);return{protocol:n[2],auth:n[5],host:n[6],path:n[7],query:n[9],hash:n[11]}};function Dr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var qr,Ur,Hr,Br,zr=function(e,t,n,r){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(t);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var u=0;u<s;++u){var l,c,p,d,h=e[u].replace(i,"%20"),f=h.indexOf(n);f>=0?(l=h.substr(0,f),c=h.substr(f+1)):(l=h,c=""),p=decodeURIComponent(l),d=decodeURIComponent(c),Dr(o,p)?Array.isArray(o[p])?o[p].push(d):o[p]=[o[p],d]:o[p]=d}return o},Gr=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Wr=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(r){var o=encodeURIComponent(Gr(r))+n;return Array.isArray(e[r])?e[r].map((function(e){return o+encodeURIComponent(Gr(e))})).join(t):o+encodeURIComponent(Gr(e[r]))})).join(t):r?encodeURIComponent(Gr(r))+n+encodeURIComponent(Gr(e)):""},Yr=o((function(e,t){t.decode=t.parse=zr,t.encode=t.stringify=Wr})),Kr=(Yr.decode,Yr.parse,Yr.encode,Yr.stringify,o((function(e){var t=function(e){function t(){this.fetch=!1}return t.prototype=e,new t}("undefined"!=typeof self?self:n);(function(e){!function(e){if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},o=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};c.prototype.append=function(e,t){e=s(e),t=u(t);var n=this.map[e];this.map[e]=n?n+","+t:t},c.prototype.delete=function(e){delete this.map[s(e)]},c.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},c.prototype.set=function(e,t){this.map[s(e)]=u(t)},c.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},c.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),l(e)},c.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},c.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),l(e)},t.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},g.call(m.prototype),g.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];v.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.Headers=c,e.Request=m,e.Response=v,e.fetch=function(e,n){return new Promise((function(r,o){var i=new m(e,n),a=new XMLHttpRequest;a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new c,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;r(new v(o,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===i._bodyInit?null:i._bodyInit)}))},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function c(e){this.map={},e instanceof c?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function h(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,n,r=p(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=d(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(e,t){var n,r,o=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),i.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function y(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function v(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}}(void 0!==e?e:this)}).call(t,void 0);var r=t.fetch;r.Response=t.Response,r.Request=t.Request,r.Headers=t.Headers;e.exports&&(e.exports=r,e.exports.default=r)}))),Jr={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},Xr=function(e){throw{name:"SyntaxError",message:e,at:qr,text:Hr}},Zr=function(e){return e&&e!==Ur&&Xr("Expected '"+e+"' instead of '"+Ur+"'"),Ur=Hr.charAt(qr),qr+=1,Ur},eo=function(){var e,t="";for("-"===Ur&&(t="-",Zr("-"));Ur>="0"&&Ur<="9";)t+=Ur,Zr();if("."===Ur)for(t+=".";Zr()&&Ur>="0"&&Ur<="9";)t+=Ur;if("e"===Ur||"E"===Ur)for(t+=Ur,Zr(),"-"!==Ur&&"+"!==Ur||(t+=Ur,Zr());Ur>="0"&&Ur<="9";)t+=Ur,Zr();if(e=+t,isFinite(e))return e;Xr("Bad number")},to=function(){var e,t,n,r="";if('"'===Ur)for(;Zr();){if('"'===Ur)return Zr(),r;if("\\"===Ur)if(Zr(),"u"===Ur){for(n=0,t=0;t<4&&(e=parseInt(Zr(),16),isFinite(e));t+=1)n=16*n+e;r+=String.fromCharCode(n)}else{if("string"!=typeof Jr[Ur])break;r+=Jr[Ur]}else r+=Ur}Xr("Bad string")},no=function(){for(;Ur&&Ur<=" ";)Zr()};Br=function(){switch(no(),Ur){case"{":return function(){var e,t={};if("{"===Ur){if(Zr("{"),no(),"}"===Ur)return Zr("}"),t;for(;Ur;){if(e=to(),no(),Zr(":"),Object.hasOwnProperty.call(t,e)&&Xr('Duplicate key "'+e+'"'),t[e]=Br(),no(),"}"===Ur)return Zr("}"),t;Zr(","),no()}}Xr("Bad object")}();case"[":return function(){var e=[];if("["===Ur){if(Zr("["),no(),"]"===Ur)return Zr("]"),e;for(;Ur;){if(e.push(Br()),no(),"]"===Ur)return Zr("]"),e;Zr(","),no()}}Xr("Bad array")}();case'"':return to();case"-":return eo();default:return Ur>="0"&&Ur<="9"?eo():function(){switch(Ur){case"t":return Zr("t"),Zr("r"),Zr("u"),Zr("e"),!0;case"f":return Zr("f"),Zr("a"),Zr("l"),Zr("s"),Zr("e"),!1;case"n":return Zr("n"),Zr("u"),Zr("l"),Zr("l"),null}Xr("Unexpected '"+Ur+"'")}()}};var ro,oo,io,ao=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,so={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function uo(e){return ao.lastIndex=0,ao.test(e)?'"'+e.replace(ao,(function(e){var t=so[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}var lo="undefined"!=typeof JSON?JSON:{parse:function(e,t){var n;return Hr=e,qr=0,Ur=" ",n=Br(),no(),Ur&&Xr("Syntax error"),"function"==typeof t?function e(n,r){var o,i,a=n[r];if(a&&"object"==typeof a)for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(void 0!==(i=e(a,o))?a[o]=i:delete a[o]);return t.call(n,r,a)}({"":n},""):n},stringify:function(e,t,n){var r;if(ro="",oo="","number"==typeof n)for(r=0;r<n;r+=1)oo+=" ";else"string"==typeof n&&(oo=n);if(io=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return function e(t,n){var r,o,i,a,s,u=ro,l=n[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof io&&(l=io.call(n,t,l)),typeof l){case"string":return uo(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(ro+=oo,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(a=l.length,r=0;r<a;r+=1)s[r]=e(r,l)||"null";return i=0===s.length?"[]":ro?"[\n"+ro+s.join(",\n"+ro)+"\n"+u+"]":"["+s.join(",")+"]",ro=u,i}if(io&&"object"==typeof io)for(a=io.length,r=0;r<a;r+=1)"string"==typeof(o=io[r])&&(i=e(o,l))&&s.push(uo(o)+(ro?": ":":")+i);else for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(i=e(o,l))&&s.push(uo(o)+(ro?": ":":")+i);return i=0===s.length?"{}":ro?"{\n"+ro+s.join(",\n"+ro)+"\n"+u+"}":"{"+s.join(",")+"}",ro=u,i}}("",{"":e})}},co=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n=t.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var r,o="boolean"==typeof t.cycles&&t.cycles,i=t.replacer||function(e,t){return t},a=t.cmp&&(r=t.cmp,function(e){return function(t,n){var o={key:t,value:e[t]},i={key:n,value:e[n]};return r(o,i)}}),s=[];return function e(t,r,u,l){var c=n?"\n"+new Array(l+1).join(n):"",p=n?": ":":";if(u&&u.toJSON&&"function"==typeof u.toJSON&&(u=u.toJSON()),void 0!==(u=i.call(t,r,u))){if("object"!=typeof u||null===u)return lo.stringify(u);if(po(u)){for(var d=[],h=0;h<u.length;h++){var f=e(u,h,u[h],l+1)||lo.stringify(null);d.push(c+n+f)}return"["+d.join(",")+c+"]"}if(-1!==s.indexOf(u)){if(o)return lo.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}s.push(u);var g=ho(u).sort(a&&a(u));for(d=[],h=0;h<g.length;h++){var m=e(u,r=g[h],u[r],l+1);if(m){var y=lo.stringify(r)+p+m;d.push(c+n+y)}}return s.splice(s.indexOf(u),1),"{"+d.join(",")+c+"}"}}({"":e},"",e,0)},po=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},ho=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in e)t.call(e,r)&&n.push(r);return n},fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function go(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n="",r=0,o=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.charAt(0|o)||(i="=",o%1);n+=i.charAt(63&r>>8-o%1*8)){if((e=t.charCodeAt(o+=.75))>255)throw new Error('"btoa" failed: The string to be encoded contains characters outside of the Latin1 range.');r=r<<8|e}return n}function mo(e,t){var n=[],r={object:null,string:""};Object.keys(t).forEach((function(o){var i=t[o];fo(e[o])===i&&e[o]!==r[i]||n.push(o)}));for(var o="",i=0;i<n.length;i+=1)o+=n[i]+", ";return!(n.length>0)||new Error("fields missing: "+o)}function yo(e){return e||0!==Object.keys(e).length||e.constructor!==Object?JSON.parse(JSON.stringify(e)):null}function vo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={};return t?Object.keys(e).forEach((function(t){n[t]=encodeURI(e[t])})):n=e,n}function bo(e){var t=Nr(e.url||""),n=t.auth,r=void 0===n?null:n,o=t.host,i=void 0===o?"":o,a=t.path,s=void 0===a?"":a,u=t.protocol,l=void 0===u?"":u,c=i+s;if("string"!=typeof c||""===c)throw new Error("URL not present in options.");if("string"!=typeof e.app||""===e.app)throw new Error("App name is not present in options.");if("string"!=typeof l||""===l)throw new Error("Protocol is not present in url. URL should be of the form https://scalr.api.appbase.io");"/"===c.slice(-1)&&(c=c.slice(0,-1));var p=r||null;if("string"==typeof e.credentials&&""!==e.credentials?p=e.credentials:"string"==typeof e.username&&""!==e.username&&"string"==typeof e.password&&""!==e.password&&(p=e.username+":"+e.password),function(e){return function(e,t){return-1!==e.indexOf(t)}(e,"scalr.api.appbase.io")}(c)&&null===p)throw new Error("Authentication information is not present. Did you add credentials?");this.url=c,this.protocol=l,this.app=e.app,this.credentials=p,this.headers={}}function Oo(e){var t=this;return new Promise((function(n,r){var o=yo(e);try{var i=o.method,a=o.path,s=o.params,u=o.body,l=a.endsWith("msearch")||a.endsWith("bulk")?"application/x-ndjson":"application/json",c=Object.assign({},{Accept:"application/json","Content-Type":l},t.headers),p=Date.now();t.credentials&&(c.Authorization="Basic "+go(t.credentials));var d={method:i,headers:c};if(Array.isArray(u)){var h="";u.forEach((function(e){h+=JSON.stringify(e),h+="\n"})),u=h}else u=JSON.stringify(u)||{};0!==Object.keys(u).length&&(d.body=u);var f={},g=t.protocol+"://"+t.url+"/"+t.app+"/"+a+"?"+Yr.stringify(s);return function(e){if(t.transformRequest&&"function"==typeof t.transformRequest){var n=t.transformRequest(e);return n instanceof Promise?n:Promise.resolve(n)}return Promise.resolve(e)}(Object.assign({},{url:g},d)).then((function(e){var t=Object.assign({},e),o=t.url;return delete t.url,Kr(o||g,t).then((function(e){return e.status>=500?r(e):(f=e.headers,e.json().then((function(t){if(e.status>=400)return r(e);if(t&&t.responses instanceof Array&&t.responses.length===t.responses.filter((function(e){return Object.prototype.hasOwnProperty.call(e,"error")})).length)return r(t);var o=Object.assign({},t,{_timestamp:p,_headers:f});return n(o)})))})).catch((function(e){return r(e)}))})).catch((function(e){return r(e)}))}catch(e){return r(e)}}))}var wo="undefined"!=typeof window?window.WebSocket:require("ws");function Co(e,t,n,r){var o=this;try{var i=yo(e),a=i.method,s=i.path,u=i.params,l=e.body;l&&"object"===(void 0===l?"undefined":fo(l))||(l={});return this.wsClosed=function(){r&&r()},this.stop=function(){o.ws.onmessage=void 0,o.ws.onclose=void 0,o.ws.onerror=void 0,o.wsClosed();var e=JSON.parse(JSON.stringify(o.request));e.unsubscribe=!0,!0!==o.unsubscribed&&o.send(e),o.unsubscribed=!0},this.reconnect=function(){return o.stop(),Co(e,t,n,r)},this.processError=function(e){n?n(e):console.warn(e)},this.processMessage=function(e){var r=JSON.parse(JSON.stringify(e));if(r.id||!r.message)return r.id===o.id?r.message?(delete r.id,void(n&&n(r))):(r.query_id&&(o.query_id=r.query_id),r.channel&&(o.channel=r.channel),void(r.body&&""!==r.body&&t&&t(r.body))):void(!r.id&&r.channel&&r.channel===o.channel&&t&&t(r.event));n&&n(r)},o.ws=new wo("wss://"+o.url+"/"+o.app),o.id="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),o.request={id:o.id,path:o.app+"/"+s+"?"+Yr.stringify(u),method:a,body:l},o.credentials&&(o.request.authorization="Basic "+go(o.credentials)),o.result={},o.closeHandler=function(){o.wsClosed()},o.errorHandler=function(e){o.processError.apply(o,[e])},o.messageHandler=function(e){var t=JSON.parse(e.data);t.body&&t.body.status>=400?o.processError.apply(o,[t]):o.processMessage.apply(o,[t])},o.send=function(e){!function e(t,n){setTimeout((function(){1===t.readyState?null!=n&&n():e(t,n)}),5)}(o.ws,(function(){try{o.ws.send(JSON.stringify(e))}catch(e){console.warn(e)}}))},o.ws.onmessage=o.messageHandler,o.ws.onerror=o.errorHandler,o.ws.onclose=o.closeHandler,o.send(o.request),o.result.stop=o.stop,o.result.reconnect=o.reconnect,o.result}catch(e){return n?n(e):console.warn(e),null}}function So(e){var t=yo(e),n=mo(t,{type:"string",body:"object"});if(!0!==n)throw n;var r=t.type,o=t.id,i=t.body;delete t.type,delete t.body,delete t.id;var a=void 0;return a=o?r+"/"+encodeURIComponent(o):r,this.performFetchRequest({method:"POST",path:a,params:t,body:i})}function $o(e){var t=yo(e),n=mo(t,{type:"string",id:"string"});if(!0!==n)throw n;var r=t.type,o=t.id;delete t.type,delete t.id;var i=r+"/"+encodeURIComponent(o);return this.performFetchRequest({method:"GET",path:i,params:t})}function Eo(e){var t=yo(e),n=mo(t,{type:"string",id:"string",body:"object"});if(!0!==n)throw n;var r=t.type,o=t.id,i=t.body;delete t.type,delete t.id,delete t.body;var a=r+"/"+encodeURIComponent(o)+"/_update";return this.performFetchRequest({method:"POST",path:a,params:t,body:i})}function _o(e){var t=yo(e),n=mo(t,{type:"string",id:"string"});if(!0!==n)throw n;var r=t.type,o=t.id;delete t.type,delete t.id;var i=r+"/"+encodeURIComponent(o);return this.performFetchRequest({method:"DELETE",path:i,params:t})}function Po(e){var t=yo(e),n=mo(t,{body:"object"});if(!0!==n)throw n;var r=t.type,o=t.body;delete t.type,delete t.body;var i=void 0;return i=r?r+"/_bulk":"/_bulk",this.performFetchRequest({method:"POST",path:i,params:t,body:o})}function Ao(e){var t=yo(e),n=mo(t,{body:"object"});if(!0!==n)throw n;var r=void 0;r=Array.isArray(t.type)?t.type.join():t.type;var o=t.body;delete t.type,delete t.body;var i=void 0;return i=r?r+"/_search":"_search",this.performFetchRequest({method:"POST",path:i,params:t,body:o})}function Io(e){var t=yo(e),n=mo(t,{body:"object"});if(!0!==n)throw n;var r=void 0;r=Array.isArray(t.type)?t.type.join():t.type;var o=t.body;delete t.type,delete t.body;var i=void 0;return i=r?r+"/_msearch":"_msearch",this.performFetchRequest({method:"POST",path:i,params:t,body:o})}function ko(e){var t=yo(e),n=mo(t,{type:"string",id:"string"});if(!0!==n)throw n;var r=t.type,o=t.id;delete t.type,delete t.id,delete t.stream,!0===t.stream?t.stream="true":(delete t.stream,t.streamonly="true");for(var i=arguments.length,a=Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return this.performWsRequest.apply(this,[{method:"GET",path:r+"/"+encodeURIComponent(o),params:t}].concat(a))}function Ro(e){var t=yo(e),n=mo(t,{body:"object"});if(!0!==n)throw n;if(void 0===t.type||Array.isArray(t.type)&&0===t.type.length)throw new Error("Missing fields: type");var r=void 0;r=Array.isArray(t.type)?t.type.join():t.type;var o=t.body;delete t.type,delete t.body,delete t.stream,t.streamonly="true";for(var i=arguments.length,a=Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return this.performWsRequest.apply(this,[{method:"POST",path:r+"/_search",params:t,body:o}].concat(a))}function xo(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=this,a=yo(e),s=a.body,u=void 0,l=void 0,c=mo(a,{body:"object"});if(!0!==c)throw c;if(void 0===a.type||"string"!=typeof a.type&&!Array.isArray(a.type)||""===a.type||0===a.type.length)throw new Error("fields missing: type");if(!0!==(c=mo(a.body,{query:"object"})))throw c;Array.isArray(a.type)?(u=a.type,l=a.type.join()):(u=[a.type],l=a.type);var p=[],d=s.query;if("string"==typeof t){var h={};h.url=t,h.method="GET",p.push(h)}else if(t.constructor===Array)p=t;else{if(t!==Object(t))throw new Error("fields missing: second argument(webhook) is necessary");p.push(t)}var f=function(){(s={}).webhooks=p,s.query=d,s.type=u};f();var g=".percolator/webhooks-0-"+l+"-0-"+go(co(d));return this.change=function(){if(p=[],"string"==typeof a){var e={};e.url=a,e.method="POST",p.push(e)}else if(a.constructor===Array)p=a;else{if(a!==Object(a))throw new Error("fields missing: one of webhook or url fields is required");p.push(a)}return f(),i.performRequest("POST")},this.stop=function(){return s=void 0,i.performRequest("DELETE")},this.performRequest=function(e){var t=i.performWsRequest.apply(i,[{method:e,path:g,body:s}].concat(r));return t.change=i.change,t.stop=i.stop,t},this.performRequest("POST")}function To(){var e=this;return new Promise((function(t,n){try{return e.performFetchRequest({method:"GET",path:"_mapping"}).then((function(n){var r=Object.keys(n[e.app].mappings).filter((function(e){return"_default_"!==e}));return t(r)}))}catch(e){return n(e)}}))}function jo(){return this.performFetchRequest({method:"GET",path:"_mapping"})}function Lo(e){var t=new bo(e);return bo.prototype.performFetchRequest=Oo,bo.prototype.performWsRequest=Co,bo.prototype.index=So,bo.prototype.get=$o,bo.prototype.update=Eo,bo.prototype.delete=_o,bo.prototype.bulk=Po,bo.prototype.search=Ao,bo.prototype.msearch=Io,bo.prototype.getStream=ko,bo.prototype.searchStream=Ro,bo.prototype.searchStreamToURL=xo,bo.prototype.getTypes=To,bo.prototype.getMappings=jo,bo.prototype.setHeaders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.headers=t?vo(e):e},"undefined"!=typeof window&&(window.Appbase=t),t}
/**
	 *
	 *
	 * @author Jerry Bendy <jerry@icewingcc.com>
	 * @licence MIT
	 *
	 */!function(e){var t,n=e.URLSearchParams&&e.URLSearchParams.prototype.get?e.URLSearchParams:null,r=n&&"a=1"===new n({a:1}).toString(),o=n&&"+"===new n("s=%2B").get("s"),i="__URLSearchParams__",a=!n||((t=new n).append("s"," &"),"s=+%26"===t.toString()),s=p.prototype,u=!(!e.Symbol||!e.Symbol.iterator);if(!(n&&r&&o&&a)){s.append=function(e,t){m(this[i],e,t)},s.delete=function(e){delete this[i][e]},s.get=function(e){var t=this[i];return e in t?t[e][0]:null},s.getAll=function(e){var t=this[i];return e in t?t[e].slice(0):[]},s.has=function(e){return e in this[i]},s.set=function(e,t){this[i][e]=[""+t]},s.toString=function(){var e,t,n,r,o=this[i],a=[];for(t in o)for(n=d(t),e=0,r=o[t];e<r.length;e++)a.push(n+"="+d(r[e]));return a.join("&")};var l=!!o&&n&&!r&&e.Proxy;Object.defineProperty(e,"URLSearchParams",{value:l?new Proxy(n,{construct:function(e,t){return new e(new p(t[0]).toString())}}):p});var c=e.URLSearchParams.prototype;c.polyfill=!0,c.forEach=c.forEach||function(e,t){var n=g(this.toString());Object.getOwnPropertyNames(n).forEach((function(r){n[r].forEach((function(n){e.call(t,n,r,this)}),this)}),this)},c.sort=c.sort||function(){var e,t,n,r=g(this.toString()),o=[];for(e in r)o.push(e);for(o.sort(),t=0;t<o.length;t++)this.delete(o[t]);for(t=0;t<o.length;t++){var i=o[t],a=r[i];for(n=0;n<a.length;n++)this.append(i,a[n])}},c.keys=c.keys||function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},c.values=c.values||function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},c.entries=c.entries||function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},u&&(c[e.Symbol.iterator]=c[e.Symbol.iterator]||c.entries)}function p(e){((e=e||"")instanceof URLSearchParams||e instanceof p)&&(e=e.toString()),this[i]=g(e)}function d(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,(function(e){return t[e]}))}function h(e){return e.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,(function(e){return decodeURIComponent(e)}))}function f(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return u&&(n[e.Symbol.iterator]=function(){return n}),n}function g(e){var t={};if("object"==typeof e)if(y(e))for(var n=0;n<e.length;n++){var r=e[n];if(!y(r)||2!==r.length)throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements");m(t,r[0],r[1])}else for(var o in e)e.hasOwnProperty(o)&&m(t,o,e[o]);else{0===e.indexOf("?")&&(e=e.slice(1));for(var i=e.split("&"),a=0;a<i.length;a++){var s=i[a],u=s.indexOf("=");-1<u?m(t,h(s.slice(0,u)),h(s.slice(u+1))):s&&m(t,h(s),"")}}return t}function m(e,t,n){var r="string"==typeof n?n:null!=n&&"function"==typeof n.toString?n.toString():JSON.stringify(n);t in e?e[t].push(r):e[t]=[r]}function y(e){return!!e&&"[object Array]"===Object.prototype.toString.call(e)}}(void 0!==n?n:"undefined"!=typeof window?window:n);var Vo={name:"Provider",props:{store:{type:Object,required:!0,validator:function(e){if(!e.dispatch&&!e.subscribe&&!e.getState)throw new Error("[reactivesearch-vue] - store provided is not a valid redux store");return!0}}},provide:function(){return{$$store:this.store}},render:function(e){return this.$slots.default.length>1?e("div",this.$slots.default):this.$slots.default[0]}};function Qo(){var e=Se(["\n\tfont-family: ",";\n\tfont-size: ",";\n\tcolor: ",";\n\twidth: 100%;\n\n\tinput,\n\tbutton,\n\ttextarea,\n\tselect {\n\t\tfont-family: ",";\n\t}\n\n\t*,\n\t*:before,\n\t*:after {\n\t\tbox-sizing: border-box;\n\t}\n"]);return Qo=function(){return e},e}var Mo=at({functional:!0,render:function(e,t){var n=t.data.attrs.as,r=void 0===n?"div":n,o=t.data,i=t.children;return delete o.attrs.as,e(r,bn([{},o]),[i])}})(Qo(),(function(e){return e.theme.typography.fontFamily}),(function(e){return e.theme.typography.fontSize}),(function(e){return e.theme.colors.textColor}),(function(e){return e.theme.typography.fontFamily})),Fo=ye.setHeaders,No=ye.setValue,Do=Oe.isEqual,qo={name:"URLParamsProvider",props:{className:an.string,headers:an.headers,getSearchParams:an.func,setSearchParams:an.func,as:an.string.def("div")},mounted:function(){var e=this;this.init(),window.onpopstate=function(){e.init();var t=Array.from(e.params.keys());Object.keys(e.currentSelectedState).filter((function(e){return!t.includes(e)})).forEach((function(t){e.setValue(t,null)})),Array.from(e.params.entries()).forEach((function(t){try{var n=t[0],r=t[1],o=e.selectedValues[n]||{label:n},i=o.label,a=o.showFilter,s=o.URLParams;e.setValue(n,JSON.parse(r),i,a,s)}catch(e){console.error(e)}}))}},watch:{$route:function(){this.checkForURLParamsChange()},selectedValues:function(e,t){var n=this;if(this.currentSelectedState=e,!Do(e,t)){this.searchString=this.$props.getSearchParams?this.$props.getSearchParams():window.location.search,this.params=new URLSearchParams(this.searchString);var r=Object.keys(e),o=Array.from(this.params.keys());r.filter((function(t){return e[t].URLParams})).forEach((function(r){if(n.hasValidValue(e[r])||n.hasValidValue(t[r])){var i=e[r];i.URLParams?i.category?n.setURL(r,n.getValue({category:i.category,value:i.value})):n.setURL(r,n.getValue(i.value)):(n.params.delete(r),n.pushToHistory())}else!n.hasValidValue(e[r])&&o.includes(r)&&(n.params.delete(r),n.pushToHistory())})),Object.keys(e).filter((function(e){return!r.includes(e)})).forEach((function(e){n.params.delete(e),n.pushToHistory()})),r.length||(Array.from(this.params.keys()).forEach((function(e){n.params.delete(e)})),this.pushToHistory())}},headers:function(e,t){Do(t,e)||this.setHeaders(e)}},methods:{init:function(){this.searchString=this.$props.getSearchParams?this.$props.getSearchParams():window.location.search,this.params=new URLSearchParams(this.searchString),this.currentSelectedState=this.selectedValues||{}},checkForURLParamsChange:function(){var e;window&&((this.$props.getSearchParams?this.$props.getSearchParams():window.location.search)!==this.searchString&&("function"==typeof Event?e=new Event("popstate"):(e=document.createEvent("Event")).initEvent("popstate",!0,!0),window.dispatchEvent(e)))},hasValidValue:function(e){return!!e&&(Array.isArray(e.value)?!!e.value.length:!!e.value)},getValue:function(e){var t=this;return Array.isArray(e)&&e.length?e.map((function(e){return t.getValue(e)})):e&&"object"==typeof e?e.location?e:e.category?e:e.label||e.key||null:e},setURL:function(e,t){if(this.searchString=this.$props.getSearchParams?this.$props.getSearchParams():window.location.search,this.params=new URLSearchParams(this.searchString),!t||"string"==typeof t&&""===t.trim()||Array.isArray(t)&&0===t.length)this.params.delete(e),this.pushToHistory();else{var n=JSON.stringify(this.getValue(t));n!==this.params.get(e)&&(this.params.set(e,n),this.pushToHistory())}},pushToHistory:function(){var e=this.params.toString()?"?"+this.params.toString():"",t=""+window.location.href.split("?")[0]+e;this.$props.setSearchParams?this.$props.setSearchParams(t):window.history.pushState&&window.history.pushState({path:t},"",t),this.init()}},render:function(){var e=arguments[0],t=this.$slots.default;return e(Mo,{attrs:{as:this.$props.as},class:this.$props.className},[t])}},Uo={setHeaders:Fo,setValue:No};qo.install=function(e){e.component(qo.name,qo)};var Ho=Bn((function(e){return{selectedValues:e.selectedValues}}),Uo)(qo),Bo={fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Noto Sans", "Ubuntu", "Droid Sans", "Helvetica Neue", sans-serif',fontSize:"16px"},zo={typography:Bo,colors:{textColor:"#424242",primaryTextColor:"#fff",primaryColor:"#0B6AFF",titleColor:"#424242",alertColor:"#d9534f"}},Go={typography:Bo,colors:{textColor:"#fff",backgroundColor:"#212121",primaryTextColor:"#fff",primaryColor:"#2196F3",titleColor:"#fff",alertColor:"#d9534f",borderColor:"#666"}};var Wo={name:"ReactiveBase",data:function(){return this.state={key:"__REACTIVE_BASE__"},this.state},created:function(){this.setStore(this.$props)},props:{app:an.stringRequired,analytics:Fe.bool.def(!1),analyticsConfig:an.analyticsConfig,credentials:an.string,headers:an.headers,queryParams:an.string,theme:Fe.object.def({}),themePreset:Fe.string.def("light"),type:an.string,url:an.string,mapKey:an.string,className:an.string,initialState:Fe.object.def({}),transformRequest:an.func,transformResponse:an.func,as:Fe.string.def("div")},provide:function(){return{theme_reactivesearch:(n=this.$props.themePreset,e="light"===n?zo:Go,t=this.$props.theme,void 0===e&&(e={}),void 0===t&&(t={}),{typography:we({},e.typography,{},t.typography),colors:we({},e.colors,{},t.colors),component:we({},e.component,{},t.component)}),store:this.store};var e,t,n},watch:{app:function(){this.updateState(this.$props)},url:function(){this.updateState(this.$props)},type:function(){this.updateState(this.$props)},credentials:function(){this.updateState(this.$props)},mapKey:function(){this.updateState(this.$props)},headers:function(){this.updateState(this.$props)},analyticsConfig:function(e,t){te(e,t)||this.store&&this.store.dispatch(le(e))}},methods:{updateState:function(e){this.setStore(e),this.key=this.state.key+"-0"},setStore:function(e){var t=e.url&&""!==e.url.trim()&&!e.credentials?null:e.credentials,n={url:e.url&&""!==e.url.trim()?e.url:"https://scalr.api.appbase.io",app:e.app,credentials:t,type:e.type?e.type:"*",transformRequest:e.transformRequest,transformResponse:e.transformResponse,analytics:e.analytics,analyticsConfig:e.analyticsConfig},r="";r="undefined"!=typeof window?window.location.search:e.queryParams||"";var o=new URLSearchParams(r),i={};Array.from(o.keys()).forEach((function(e){try{var t,n=JSON.parse(o.get(e)),r={};n.value?r.value=n.value:r.value=n,n.category&&(r.category=n.category),i=we({},i,((t={})[e]=r,t))}catch(e){}}));var a=e.headers,s=void 0===a?{}:a,u=e.themePreset,l=Lo(n);this.$props.transformRequest&&(l.transformRequest=this.$props.transformRequest),this.$props.transformResponse&&(l.transformResponse=this.$props.transformResponse);var c=we({config:we({},n,{mapKey:e.mapKey,themePreset:u}),appbaseRef:l,selectedValues:i,headers:s},this.$props.initialState);this.store=ge(c)}},render:function(){var e=arguments[0],t=this.$slots.default,n=this.$props,r=n.headers,o=n.style,i=n.className;return e(Vo,{attrs:{store:this.store}},[e(Ho,{attrs:{as:this.$props.as,headers:r,className:i},style:o},[t])])}};function Yo(){var e=Se(["\n\tdisplay: block;\n\twidth: 100%;\n\tborder: 1px solid #ccc;\n\tbackground-color: #fff;\n\tfont-size: 0.9rem;\n\tz-index: 3;\n\tposition: absolute;\n\ttop: 41px;\n\tmargin: 0;\n\tpadding: 0;\n\tlist-style: none;\n\tmax-height: 260px;\n\toverflow-y: auto;\n\n\t&.small {\n\t\ttop: 30px;\n\t}\n\n\tli {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tpadding: 10px;\n\t\tuser-select: none;\n\n\t\t& > .trim {\n\t\t\tdisplay: block;\n\t\t\tdisplay: -webkit-box;\n\t\t\twidth: 100%;\n\t\t\tmax-height: 2.3rem;\n\t\t\tline-height: 1.2rem;\n\t\t\t-webkit-line-clamp: 2;\n\t\t\t-webkit-box-orient: vertical;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\t}\n\n\t","\n"]);return Yo=function(){return e},e}function Ko(){var e=Se(["\n\tposition: relative;\n\t.cancel-icon {\n\t\tcursor: pointer;\n\t}\n"]);return Ko=function(){return e},e}function Jo(){var e=Se(["\n\tdisplay: block;\n\twidth: 100%;\n\tborder: 1px solid #ccc;\n\tbackground-color: #fff;\n\tfont-size: 0.9rem;\n\tz-index: 3;\n\tposition: absolute;\n\ttop: 41px;\n\tmargin: 0;\n\tpadding: 0;\n\tlist-style: none;\n\tmax-height: 260px;\n\toverflow-y: auto;\n\n\t&.small {\n\t\ttop: 30px;\n\t}\n\n\tli {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tcursor: pointer;\n\t\tpadding: 10px;\n\t\tuser-select: none;\n\n\t\t& > .trim {\n\t\t\tdisplay: block;\n\t\t\tdisplay: -webkit-box;\n\t\t\twidth: 100%;\n\t\t\tmax-height: 2.3rem;\n\t\t\tline-height: 1.2rem;\n\t\t\t-webkit-line-clamp: 2;\n\t\t\t-webkit-box-orient: vertical;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t&:hover,\n\t\t&:focus {\n\t\t\tbackground-color: #eee;\n\t\t}\n\t}\n\n\t",";\n"]);return Jo=function(){return e},e}function Xo(){var e=Se(["\n\t\t\tpadding-right: 48px;\n\t\t"]);return Xo=function(){return e},e}function Zo(){var e=Se(["\n\t\t\tpadding-right: 32px;\n\t\t"]);return Zo=function(){return e},e}function ei(){var e=Se(["\n\t\t\tpadding-right: 32px;\n\t\t"]);return ei=function(){return e},e}function ti(){var e=Se(["\n\t\t\tpadding-left: 32px;\n\t\t"]);return ti=function(){return e},e}function ni(){var e=Se(["\n\t",";\n\t",";\n\n\t",";\n\n\t",";\n\n\t",";\n\n\t",";\n\n\t",";\n"]);return ni=function(){return e},e}function ri(){var e=Se(["\n\tbackground-color: ",";\n\tcolor: ",";\n\t",";\n\n\t&:focus {\n\t\tbackground-color: ",";\n\t}\n"]);return ri=function(){return e},e}function oi(){var e=Se(["\n\tborder-color: ",";\n"]);return oi=function(){return e},e}function ii(){var e=Se(["\n\twidth: 100%;\n\theight: 42px;\n\tpadding: 8px 12px;\n\tborder: 1px solid #ccc;\n\tbackground-color: #fafafa;\n\tfont-size: 0.9rem;\n\toutline: none;\n\n\t&:focus {\n\t\tbackground-color: #fff;\n\t}\n"]);return ii=function(){return e},e}function ai(){var e=Se(["\n\tborder: 1px solid ",";\n"]);return ai=function(){return e},e}Wo.install=function(e){e.component(Wo.name,Wo)};var si=function(e){var t=e.theme;return tt(ai(),t.colors.alertColor)},ui=tt(ii()),li=function(e){return tt(oi(),e.colors.borderColor)},ci=function(e){var t=e.theme;return tt(ri(),t.colors.backgroundColor,t.colors.textColor,li(t),t.colors.backgroundColor)},pi=at("input")(ni(),ui,(function(e){return"dark"===e.themePreset&&ci}),(function(e){return e.showIcon&&"left"===e.iconPosition&&tt(ti())}),(function(e){return e.showIcon&&"right"===e.iconPosition&&tt(ei())}),(function(e){return e.showClear&&tt(Zo())}),(function(e){return e.showClear&&e.showIcon&&"right"===e.iconPosition&&tt(Xo())}),(function(e){return e.alert&&si})),di=function(e,t){return tt(Jo(),"dark"===e&&li(t))},hi=tt(Ko()),fi=function(e,t){return tt(Yo(),"dark"===e&&li(t))};function gi(){var e=Se(["\n\tposition: absolute;\n\ttop: calc(50%);\n\ttransform: translateY(-50%);\n\t",";\n\t",";\n\n\tsvg.search-icon {\n\t\tfill: ",";\n\t}\n\n\tsvg.cancel-icon {\n\t\tfill: ",";\n\t}\n"]);return gi=function(){return e},e}function mi(){var e=Se(["\n\tpadding-right: 32px;\n\tright: 0;\n\ttop: calc(50% - 2px);\n"]);return mi=function(){return e},e}function yi(){var e=Se(["\n\tpadding-right: 12px;\n\tright: 0;\n"]);return yi=function(){return e},e}function vi(){var e=Se(["\n\tpadding-left: 12px;\n\tleft: 0;\n"]);return vi=function(){return e},e}var bi=tt(vi()),Oi=tt(yi()),wi=tt(mi()),Ci=at("div")(gi(),(function(e){var t=e.iconPosition;return"left"===t?bi:"right"===t?Oi:null}),(function(e){return e.clearIcon&&wi}),(function(e){return e.theme.colors.primaryColor}),(function(e){return e.theme.colors.borderColor}));function Si(e){return null!=e&&"object"==typeof e&&1===e.nodeType}function $i(e,t){return(!t||"hidden"!==e)&&("visible"!==e&&"clip"!==e)}function Ei(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return $i(n.overflowY,t)||$i(n.overflowX,t)}return!1}function _i(e,t,n,r,o,i,a,s){return i<e&&a>t||i>e&&a<t?0:i<=e&&s<=n||a>=t&&s>=n?i-e-r:a>t&&s<n||i<e&&s>n?a-t+o:0}var Pi=function(e,t){null!==e&&function(e,t){var n=t.scrollMode,r=t.block,o=t.inline,i=t.boundary,a=t.skipOverflowHiddenElements,s="function"==typeof i?i:function(e){return e!==i};if(!Si(e))throw new TypeError("Invalid target");for(var u=document.scrollingElement||document.documentElement,l=[],c=e;Si(c)&&s(c);){if((c=c.parentNode)===u){l.push(c);break}c===document.body&&Ei(c)&&!Ei(document.documentElement)||Ei(c,a)&&l.push(c)}for(var p=window.visualViewport?visualViewport.width:innerWidth,d=window.visualViewport?visualViewport.height:innerHeight,h=window.scrollX||pageXOffset,f=window.scrollY||pageYOffset,g=e.getBoundingClientRect(),m=g.height,y=g.width,v=g.top,b=g.right,O=g.bottom,w=g.left,C="start"===r||"nearest"===r?v:"end"===r?O:v+m/2,S="center"===o?w+y/2:"end"===o?b:w,$=[],E=0;E<l.length;E++){var _=l[E],P=_.getBoundingClientRect(),A=P.height,I=P.width,k=P.top,R=P.right,x=P.bottom,T=P.left;if("if-needed"===n&&v>=0&&w>=0&&O<=d&&b<=p&&v>=k&&O<=x&&w>=T&&b<=R)return $;var j=getComputedStyle(_),L=parseInt(j.borderLeftWidth,10),V=parseInt(j.borderTopWidth,10),Q=parseInt(j.borderRightWidth,10),M=parseInt(j.borderBottomWidth,10),F=0,N=0,D="offsetWidth"in _?_.offsetWidth-_.clientWidth-L-Q:0,q="offsetHeight"in _?_.offsetHeight-_.clientHeight-V-M:0;if(u===_)F="start"===r?C:"end"===r?C-d:"nearest"===r?_i(f,f+d,d,V,M,f+C,f+C+m,m):C-d/2,N="start"===o?S:"center"===o?S-p/2:"end"===o?S-p:_i(h,h+p,p,L,Q,h+S,h+S+y,y),F=Math.max(0,F+f),N=Math.max(0,N+h);else{F="start"===r?C-k-V:"end"===r?C-x+M+q:"nearest"===r?_i(k,x,A,V,M+q,C,C+m,m):C-(k+A/2)+q/2,N="start"===o?S-T-L:"center"===o?S-(T+I/2)+D/2:"end"===o?S-R+Q+D:_i(T,R,I,L,Q+D,S,S+y,y);var U=_.scrollLeft,H=_.scrollTop;C+=H-(F=Math.max(0,Math.min(H+F,_.scrollHeight-A+q))),S+=U-(N=Math.max(0,Math.min(U+N,_.scrollWidth-I+D)))}$.push({el:_,top:F,left:N})}return $}(e,{boundary:t,block:"nearest",scrollMode:"if-needed"}).forEach((function(e){var t=e.el,n=e.top,r=e.left;t.scrollTop=n,t.scrollLeft=r}))},Ai={props:["isOpen","inputValue","selectedItem","highlightedIndex","handleChange","itemToString","handleMouseup"],data:function(){return{isMouseDown:!1,internal_isOpen:!1,internal_inputValue:"",internal_selectedItem:null,internal_highlightedIndex:null}},computed:{mergedState:function(){var e=this;return Object.keys(this.$props).reduce((function(t,n){var r;return we({},t,((r={})[n]=e.isControlledProp(n)?e.$props[n]:e["internal_"+n],r))}),{})},internalItemCount:function(){return this.items.length}},mounted:function(){window.addEventListener("mousedown",this.handleWindowMousedown),window.addEventListener("mouseup",this.handleWindowMouseup)},beforeDestroy:function(){window.removeEventListener("mousedown",this.handleWindowMousedown),window.removeEventListener("mouseup",this.handleWindowMouseup)},methods:{handleWindowMousedown:function(){this.isMouseDown=!0},handleWindowMouseup:function(e){this.isMouseDown=!1,e.target!==this.$refs.rootNode&&this.$refs.rootNode.contains(e.target)||!this.mergedState.isOpen||this.isMouseDown||(this.reset(),this.$props.handleMouseup&&this.$props.handleMouseup({isOpen:!1}))},keyDownArrowDown:function(e){e.preventDefault();var t=e.shiftKey?5:1;this.mergedState.isOpen?this.changeHighlightedIndex(t):(this.setState({isOpen:!0}),this.setHighlightedIndex())},keyDownArrowUp:function(e){e.preventDefault();var t=e.shiftKey?-5:-1;this.mergedState.isOpen?this.changeHighlightedIndex(t):(this.setState({isOpen:!0}),this.setHighlightedIndex())},keyDownEnter:function(e){this.mergedState.isOpen&&(e.preventDefault(),this.selectHighlightedItem())},keyDownEscape:function(e){e.preventDefault(),this.reset()},selectHighlightedItem:function(){return this.selectItemAtIndex(this.mergedState.highlightedIndex)},selectItemAtIndex:function(e){var t=this.items[e];null!=t&&this.selectItem(t)},selectItem:function(e){this.$props.handleChange&&this.$props.handleChange(e),this.setState({isOpen:!1,highlightedIndex:null,selectedItem:e,inputValue:this.isControlledProp("selectedItem")?"":e})},changeHighlightedIndex:function(e){if(!(this.internalItemCount<0)){var t=this.mergedState.highlightedIndex;null===t&&(t=e>0?-1:this.internalItemCount+1);var n=t+e;n<0?n=this.internalItemCount:n>this.internalItemCount&&(n=0),this.setHighlightedIndex(n)}},setHighlightedIndex:function(e){void 0===e&&(e=null),this.setState({highlightedIndex:e});var t=document.getElementById("Downshift"+e);Pi(t,this.rootNode)},reset:function(){var e=this.mergedState.selectedItem;this.setState({isOpen:!1,highlightedIndex:null,inputValue:e})},getItemProps:function(e){var t=e.index,n=e.item,r=t;return void 0===t?(this.$props.itemToString?this.items.push(this.$props.itemToString(n)):this.items.push(n),r=this.items.indexOf(n)):this.items[r]=n,{id:"Downshift"+r}},getItemEvents:function(e){var t=e.index,n=e.item,r=t;void 0===t&&(r=this.items.indexOf(n));var o=this;return{mouseenter:function(){o.setHighlightedIndex(r)},click:function(e){e.stopPropagation(),o.selectItemAtIndex(r)}}},getInputProps:function(e){var t=e.value,n=this.mergedState.inputValue;return t!==n&&this.setState({inputValue:t}),{value:n}},getButtonProps:function(e){var t=this,n=e.onClick,r=e.onKeyDown,o=e.onKeyUp,i=e.onBlur;return{click:function(e){t.setState({isOpen:!0,inputValue:e.target.value}),n&&n(e)},keydown:function(e){e.key&&t["keyDown"+e.key]&&t["keyDown"+e.key].call(t,e),r&&r(e)},keyup:function(e){o&&o(e)},blur:function(e){i&&i(e)}}},getInputEvents:function(e){var t=this,n=e.onInput,r=e.onBlur,o=e.onFocus,i=e.onKeyPress,a=e.onKeyDown,s=e.onKeyUp;return{input:function(e){t.setState({isOpen:!0,inputValue:e.target.value}),n&&n(e)},focus:function(e){o&&o(e)},keydown:function(e){e.key&&t["keyDown"+e.key]&&t["keyDown"+e.key].call(t,e),a&&a(e)},keypress:function(e){i&&i(e)},keyup:function(e){s&&s(e)},blur:function(e){r&&r(e)}}},getHelpersAndState:function(){return we({getItemProps:this.getItemProps,getItemEvents:this.getItemEvents,getInputProps:this.getInputProps,getInputEvents:this.getInputEvents,getButtonProps:this.getButtonProps},this.mergedState)},isControlledProp:function(e){return void 0!==this.$props[e]},setState:function(e){var t=this;Object.keys(e).map((function(n){t.isControlledProp(n)?t.$emit(n+"Change",e[n]):t["internal_"+n]=e[n]})),this.$emit("stateChange",this.mergedState)}},render:function(){var e=arguments[0];return this.items=[],e("div",{ref:"rootNode"},[this.$scopedSlots.default&&this.$scopedSlots.default(we({},this.getHelpersAndState()))])}};function Ii(){var e=Se(["\n\t",";\n"]);return Ii=function(){return e},e}var ki=at("div")(Ii(),(function(e){return e.theme.component})),Ri=Oe.getClassName,xi={name:"SuggestionWrapper",props:{innerClassName:an.string,themePreset:an.themePreset,innerClass:an.style},render:function(){var e=arguments[0],t=this.$props,n=t.themePreset,r=t.innerClass,o=t.innerClassName;return e("div",{class:fi(n)+" "+Ri(r,o||"")},[e("li",[this.$scopedSlots.default()])])}},Ti=o((function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);Object.defineProperty(t,"combineChunks",{enumerable:!0,get:function(){return r.combineChunks}}),Object.defineProperty(t,"fillInChunks",{enumerable:!0,get:function(){return r.fillInChunks}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return r.findAll}}),Object.defineProperty(t,"findChunks",{enumerable:!0,get:function(){return r.findChunks}})},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.findAll=function(e){var t=e.autoEscape,i=e.caseSensitive,a=void 0!==i&&i,s=e.findChunks,u=void 0===s?r:s,l=e.sanitize,c=e.searchWords,p=e.textToHighlight;return o({chunksToHighlight:n({chunks:u({autoEscape:t,caseSensitive:a,sanitize:l,searchWords:c,textToHighlight:p})}),totalLength:p?p.length:0})};var n=t.combineChunks=function(e){var t=e.chunks;return t=t.sort((function(e,t){return e.start-t.start})).reduce((function(e,t){if(0===e.length)return[t];var n=e.pop();if(t.start<=n.end){var r=Math.max(n.end,t.end);e.push({highlight:!1,start:n.start,end:r})}else e.push(n,t);return e}),[])},r=function(e){var t=e.autoEscape,n=e.caseSensitive,r=e.sanitize,o=void 0===r?i:r,a=e.searchWords,s=e.textToHighlight;return s=o(s),a.filter((function(e){return e})).reduce((function(e,r){r=o(r),t&&(r=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}(r));for(var i=new RegExp(r,n?"g":"gi"),a=void 0;a=i.exec(s);){var u=a.index,l=i.lastIndex;l>u&&e.push({highlight:!1,start:u,end:l}),a.index===i.lastIndex&&i.lastIndex++}return e}),[])};t.findChunks=r;var o=t.fillInChunks=function(e){var t=e.chunksToHighlight,n=e.totalLength,r=[],o=function(e,t,n){t-e>0&&r.push({start:e,end:t,highlight:n})};if(0===t.length)o(0,n,!1);else{var i=0;t.forEach((function(e){o(i,e.start,!1),o(e.start,e.end,!0),i=e.end})),o(i,n,!1)}return r};function i(e){return e}}])}));r(Ti);var ji=Ti.findAll;
/*!
	 * vue-highlight-words  Yichang Liu, 2019
	 *
	 * Version: 1.2.0
	 *
	 * LICENCE: MIT
	 *
	 * https://github.com/Astray-git/vue-highlight-words
	 *
	*/function Li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vi={functional:!0,props:{activeClassName:String,activeIndex:Number,activeStyle:Object,autoEscape:Boolean,findChunks:Function,highlightClassName:String,highlightStyle:Object,highlightTag:[Object,Function,String],sanitize:Function,searchWords:{type:Array,validator:function(e){return e.every((function(e){return"string"==typeof e}))},required:!0},textToHighlight:{type:String,required:!0},unhighlightClassName:String,unhighlightStyle:Object},render:function(e,t){var n,r=t.props,o=r.activeClassName,i=void 0===o?"":o,a=r.activeIndex,s=void 0===a?-1:a,u=r.activeStyle,l=r.autoEscape,c=r.caseSensitive,p=void 0!==c&&c,d=r.findChunks,h=r.highlightClassName,f=void 0===h?"":h,g=r.highlightStyle,m=void 0===g?{}:g,y=r.highlightTag,v=void 0===y?"mark":y,b=r.sanitize,O=r.searchWords,w=r.textToHighlight,C=r.unhighlightClassName,S=void 0===C?"":C,$=r.unhighlightStyle,E=t.data,_=ji({autoEscape:l,caseSensitive:p,findChunks:d,sanitize:b,searchWords:O,textToHighlight:w}),P=v,A=-1,I="";return e("span",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Li(e,t,n[t])}))}return e}({},E),_.map((function(t,r){var o=w.substr(t.start,t.end-t.start);if(t.highlight){var a=++A===+s;I="".concat(f," ").concat(a?i:""),n=!0===a&&null!=u?Object.assign({},m,u):m;var l={class:I,key:r,style:n};return"string"!=typeof P&&(l.props={highlightIndex:A}),E.scopedSlots?e(P,l,[E.scopedSlots.default({children:o,highlightIndex:A})]):e(P,l,o)}return e("span",{class:S,key:r,style:$},o)})))}},Qi={fontWeight:600,padding:0,backgroundColor:"transparent",color:"inherit"},Mi={name:"SuggestionItem",props:{currentValue:an.string,suggestion:an.any},render:function(){var e=arguments[0],t=this.suggestion,n=t.label,r=t.value,o=t.title,i=t.description,a=t.image;return n?"string"==typeof n?e("div",{class:"trim"},[e(Vi,{attrs:{searchWords:this.currentValue.split(" "),textToHighlight:n,autoEscape:!0,highlightStyle:Qi}})]):n:o||a||i?e(fr,{attrs:{alignItems:"center",css:{width:"100%"}}},[a&&e("div",{attrs:{css:{margin:"auto",marginRight:10}}},[e("img",{attrs:{src:a,alt:" ",height:"50px",width:"50px",css:{objectFit:"contain"}}})]),e(fr,{attrs:{direction:"column",css:{width:a?"calc(100% - 60px)":"100%"}}},[o&&e("div",{class:"trim"},[e(Vi,{attrs:{searchWords:this.currentValue.split(" "),textToHighlight:o,highlightStyle:Qi},class:tt({fontSize:"1rem"})})]),i&&e("div",{class:Ze("trim",tt({marginTop:3}))},[e(Vi,{attrs:{searchWords:this.currentValue.split(" "),textToHighlight:i,highlightStyle:Qi}})])])]):r}},Fi={functional:!0,render:function(e){return e("svg",{attrs:{alt:"Search",height:"14",width:"10",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 15"},class:"search-icon"},[e("title",["Search"]),e("path",{attrs:{d:"M6.02945,10.20327a4.17382,4.17382,0,1,1,4.17382-4.17382A4.15609,4.15609,0,0,1,6.02945,10.20327Zm9.69195,4.2199L10.8989,9.59979A5.88021,5.88021,0,0,0,12.058,6.02856,6.00467,6.00467,0,1,0,9.59979,10.8989l4.82338,4.82338a.89729.89729,0,0,0,1.29912,0,.89749.89749,0,0,0-.00087-1.29909Z"}})])}},Ni={functional:!0,render:function(e){return e("svg",{attrs:{alt:"Clear",height:"10",width:"8",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 212.982 212.982"},class:"cancel-icon"},[e("title",["Clear"]),e("path",{attrs:{d:"M131.804,106.491l75.936-75.936c6.99-6.99,6.99-18.323,0-25.312c-6.99-6.99-18.322-6.99-25.312,0l-75.937,75.937L30.554,5.242c-6.99-6.99-18.322-6.99-25.312,0c-6.989,6.99-6.989,18.323,0,25.312l75.937,75.936L5.242,182.427c-6.989,6.99-6.989,18.323,0,25.312c6.99,6.99,18.322,6.99,25.312,0l75.937-75.937l75.937,75.937c6.989,6.99,18.322,6.99,25.312,0c6.99-6.99,6.99-18.322,0-25.312L131.804,106.491z"}})])}},Di=ye.addComponent,qi=ye.removeComponent,Ui=ye.watchComponent,Hi=ye.updateQuery,Bi=ye.setQueryOptions,zi=ye.setQueryListener,Gi=ye.updateComponentProps,Wi=Oe.debounce,Yi=Oe.pushToAndClause,Ki=Oe.checkValueChange,Ji=Oe.getClassName,Xi=Oe.getOptionsFromQuery,Zi=Oe.checkSomePropChange,ea=Oe.isEqual,ta=Oe.getCompositeAggsQuery,na=Oe.withClickIds,ra={name:"DataSearch",data:function(){var e=this.$props;return this.__state={currentValue:"",isOpen:!1,normalizedSuggestions:[],isPending:!1},this.internalComponent=e.componentId+"__internal",this.locked=!1,this.__state},inject:{theme:{from:"theme_reactivesearch"}},created:function(){var e=this;this.currentValue=this.selectedValue||"",this.handleTextChange=Wi((function(t){e.$props.autosuggest?e.updateQueryHandler(e.internalComponent,t,e.$props):e.updateQueryHandler(e.$props.componentId,t,e.$props)}),this.$props.debounce);this.setQueryListener(this.$props.componentId,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["queryChange"].concat(n))}),(function(t){e.$emit("error",t)}))},computed:{suggestionsList:function(){var e=[];return!this.$data.currentValue&&this.$props.defaultSuggestions&&this.$props.defaultSuggestions.length?e=this.$props.defaultSuggestions:this.$data.currentValue&&(e=this.normalizedSuggestions),na(e)},hasCustomRenderer:function(){return Yn(this)}},props:{options:an.options,autoFocus:an.bool,autosuggest:Fe.bool.def(!0),beforeValueChange:an.func,className:Fe.string.def(""),clearIcon:an.children,componentId:an.stringRequired,customHighlight:an.func,customQuery:an.func,dataField:an.dataFieldArray,aggregationField:an.string,size:Fe.number.def(20),debounce:Fe.number.def(0),defaultValue:an.string,value:an.value,defaultSuggestions:an.suggestions,fieldWeights:an.fieldWeights,filterLabel:an.string,fuzziness:an.fuzziness,highlight:an.bool,highlightField:an.stringOrArray,icon:an.children,iconPosition:Fe.oneOf(["left","right"]).def("left"),innerClass:an.style,innerRef:an.func,render:an.func,parseSuggestion:an.func,renderNoSuggestion:an.title,renderError:an.title,placeholder:Fe.string.def("Search"),queryFormat:Fe.oneOf(["and","or"]).def("or"),react:an.react,showClear:Fe.bool.def(!0),showFilter:Fe.bool.def(!0),showIcon:Fe.bool.def(!0),title:an.title,theme:an.style,URLParams:Fe.bool.def(!1),strictSelection:Fe.bool.def(!1),nestedField:an.string},beforeMount:function(){if(this.addComponent(this.$props.componentId,"DATASEARCH"),this.addComponent(this.internalComponent),this.$props.highlight){var e=ra.highlightQuery(this.$props)||{};this.queryOptions=we({},e,{},this.getBasicQueryOptions()),this.setQueryOptions(this.$props.componentId,this.queryOptions)}else this.queryOptions=this.getBasicQueryOptions(),this.setQueryOptions(this.$props.componentId,this.queryOptions);this.setReact(this.$props),this.selectedValue?this.setValue(this.selectedValue,!0):this.$props.value?this.setValue(this.$props.value,!0):this.$props.defaultValue&&this.setValue(this.$props.defaultValue,!0)},mounted:function(){var e=this,t=Kn(this.$props);this.updateComponentProps(this.componentId,this.$props),this.$watch(t.join("."),(function(n,r){Zi(n,r,t,(function(){e.updateComponentProps(e.componentId,e.$props)}))}))},beforeDestroy:function(){this.removeComponent(this.$props.componentId),this.removeComponent(this.internalComponent)},watch:{highlight:function(){this.updateQueryOptions()},dataField:function(){this.updateQueryOptions(),this.updateQueryHandler(this.$props.componentId,this.$data.currentValue,this.$props)},highlightField:function(){this.updateQueryOptions()},react:function(){this.setReact(this.$props)},fieldWeights:function(){this.updateQueryHandler(this.$props.componentId,this.$data.currentValue,this.$props)},fuzziness:function(){this.updateQueryHandler(this.$props.componentId,this.$data.currentValue,this.$props)},queryFormat:function(){this.updateQueryHandler(this.$props.componentId,this.$data.currentValue,this.$props)},defaultValue:function(e){this.setValue(e,!0,this.$props)},value:function(e,t){ea(e,t)||this.setValue(e,!0,this.$props)},suggestions:function(e){Array.isArray(e)&&this.$data.currentValue.trim().length&&(this.$emit("suggestions",e),this.normalizedSuggestions=this.onSuggestions(e))},selectedValue:function(e,t){t!==e&&this.$data.currentValue!==e&&this.setValue(e||"",!0,this.$props)}},methods:{updateQueryOptions:function(){var e=ra.highlightQuery(this.$props)||{};this.queryOptions=we({},e,{},this.getBasicQueryOptions()),this.setQueryOptions(this.$props.componentId,this.queryOptions)},getComponent:function(e){void 0===e&&(e={});var t=this.$data.currentValue,n={error:this.error,loading:this.isLoading,downshiftProps:e,data:this.suggestionsList,aggregationData:this.aggregationData,rawData:this.suggestions||[],value:t,triggerClickAnalytics:this.triggerClickAnalytics};return Wn(n,this)},getBasicQueryOptions:function(){var e=this.$props,t=e.aggregationField,n={size:e.size};return t&&(n.aggs=ta({},this.$props,null,!0).aggs),n},setReact:function(e){var t=this.$props.react;if(t){var n=Yi(t,this.internalComponent);this.watchComponent(e.componentId,n)}else this.watchComponent(e.componentId,{and:this.internalComponent})},onSuggestions:function(e){var t=this.$props.parseSuggestion,n=Array.isArray(this.$props.dataField)?this.$props.dataField:[this.$props.dataField],r=ve(n,e,this.$data.currentValue.toLowerCase());return t?r.map((function(e){return t(e)})):r},setValue:function(e,t,n,r){var o=this;if(void 0===t&&(t=!1),void 0===n&&(n=this.$props),!n.beforeValueChange||!this.locked){this.locked=!0;Ki(n.componentId,e,n.beforeValueChange,(function(){o.currentValue=e,o.normalizedSuggestions=[],t?(o.$props.autosuggest&&(o.isOpen=!1,o.updateQueryHandler(o.internalComponent,e,n)),n.strictSelection?r===be.SUGGESTION_SELECT||""===e?o.updateQueryHandler(n.componentId,e,n):o.setValue("",!0):o.updateQueryHandler(n.componentId,e,n)):o.handleTextChange(e),o.locked=!1,o.$emit("valueChange",e)}))}},updateQueryHandler:function(e,t,n){var r,o=n.customQuery,i=n.filterLabel,a=n.showFilter,s=n.URLParams,u=ra.defaultQuery(t,n);if(o){var l=o(t,n),c=l.query;c&&(u=[c]),r=Xi(l),this.setQueryOptions(e,we({},this.queryOptions,{},r))}this.isPending||this.updateQuery({componentId:e,query:u,value:t,label:i,showFilter:a,URLParams:s,componentType:"DATASEARCH"})},handleFocus:function(e){this.isOpen=!0,this.$props.onFocus&&this.$emit("focus",e)},triggerQuery:function(){void 0!==this.$props.value&&(this.isPending=!1,this.setValue(this.$props.value,!0))},triggerClickAnalytics:function(e){var t=this.config,n=this.analytics.suggestionsSearchId,r=this.headers,o=t.url,i=t.app,a=t.credentials;t.analytics&&n&&fetch(o+"/"+i+"/_analytics",{method:"POST",headers:we({},r,{"Content-Type":"application/json",Authorization:"Basic "+btoa(a),"X-Search-Id":n,"X-Search-Suggestions-Click":!0},void 0!==e&&{"X-Search-Suggestions-ClickPosition":e+1})})},clearValue:function(){this.isPending=!1,this.setValue("",!0),this.onValueSelectedHandler(null,be.CLEAR_VALUE)},handleKeyDown:function(e,t){void 0!==this.$props.value&&(this.isPending=!0),"Enter"===e.key&&null===t&&(this.setValue(e.target.value,!0),this.onValueSelectedHandler(e.target.value,be.ENTER_PRESS)),this.$props.onKeyDown&&this.$emit("keyDown",e)},onInputChange:function(e){var t=e.target.value;this.$data.isOpen||(this.isOpen=!0),void 0===this.$props.value?this.setValue(t):(this.isPending=!0,this.$emit("change",t,this.triggerQuery,e))},onSuggestionSelected:function(e){void 0===this.$props.value?this.setValue(e.value,!0,this.$props,be.SUGGESTION_SELECT):this.$emit("change",e.value,this.triggerQuery),this.triggerClickAnalytics(e._click_id),this.onValueSelectedHandler(e.value,be.SUGGESTION_SELECT,e.source)},onValueSelectedHandler:function(e){void 0===e&&(e=this.$data.currentValue);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.$emit.apply(this,["valueSelected",e].concat(n))},handleStateChange:function(e){var t=e.isOpen;this.isOpen=t},getBackgroundColor:function(e,t){return"dark"===this.themePreset?e===t?"#555":"#424242":e===t?"#eee":"#fff"},renderIcon:function(){var e=this.$createElement;return this.$props.showIcon?this.$props.icon||e(Fi):null},renderErrorComponent:function(){var e=this.$createElement,t=this.$scopedSlots.renderError||this.$props.renderError;return this.error&&t&&this.$data.currentValue&&!this.isLoading?e(xi,{attrs:{innerClass:this.$props.innerClass,innerClassName:"error",theme:this.theme,themePreset:this.themePreset}},[zn(t)?t(this.error):t]):null},renderCancelIcon:function(){var e=this.$createElement;return this.$props.showClear?this.$props.clearIcon||e(Ni):null},renderNoSuggestions:function(e){void 0===e&&(e=[]);var t=this.$createElement,n=this.$props,r=n.theme,o=n.innerClass,i=this.$scopedSlots.renderNoSuggestion||this.$props.renderNoSuggestion,a=this.$scopedSlots.renderError||this.$props.renderError,s=this.$data,u=s.isOpen,l=s.currentValue;return!i||!u||e.length||this.isLoading||!l||a&&this.error?null:t(xi,{attrs:{innerClass:o,themePreset:this.themePreset,theme:r,innerClassName:"noSuggestion"},scopedSlots:{default:function(){return"function"==typeof i?i(l):i}}})},renderIcons:function(){var e=this.$createElement;return e("div",[this.$data.currentValue&&this.$props.showClear&&e(Ci,{on:{click:this.clearValue},attrs:{iconPosition:"right",clearIcon:"right"===this.$props.iconPosition}},[this.renderCancelIcon()]),e(Ci,{attrs:{iconPosition:this.$props.iconPosition}},[this.renderIcon()])])}},render:function(){var e=this,t=arguments[0],n=this.$props.theme;return t(ki,{class:this.$props.className},[this.$props.title&&t(wn,{class:Ji(this.$props.innerClass,"title")||""},[this.$props.title]),this.$props.defaultSuggestions||this.$props.autosuggest?t(Ai,{attrs:{id:this.$props.componentId+"-downshift",handleChange:this.onSuggestionSelected,handleMouseup:this.handleStateChange,isOpen:this.$data.isOpen},scopedSlots:{default:function(r){var o=r.getInputEvents,i=r.getInputProps,a=r.getItemProps,s=r.getItemEvents,u=r.isOpen,l=r.highlightedIndex;return t("div",{class:hi},[t(pi,{attrs:{id:e.$props.componentId+"-input",showIcon:e.$props.showIcon,showClear:e.$props.showClear,iconPosition:e.$props.iconPosition,innerRef:e.$props.innerRef,placeholder:e.$props.placeholder,themePreset:e.themePreset},class:Ji(e.$props.innerClass,"input"),on:we({},o({onInput:e.onInputChange,onBlur:function(t){e.$emit("blur",t,e.triggerQuery)},onFocus:e.handleFocus,onKeyPress:function(t){e.$emit("keyPress",t,e.triggerQuery)},onKeyDown:function(t){return e.handleKeyDown(t,l)},onKeyUp:function(t){e.$emit("keyUp",t,e.triggerQuery)}})),domProps:we({},i({value:null===e.$data.currentValue?"":e.$data.currentValue}))}),e.renderIcons(),e.hasCustomRenderer&&e.getComponent({isOpen:u,getItemProps:a,getItemEvents:s,highlightedIndex:l}),e.renderErrorComponent(),!e.hasCustomRenderer&&u&&e.suggestionsList.length?t("ul",{class:di(e.themePreset,n)+" "+Ji(e.$props.innerClass,"list")},[e.suggestionsList.slice(0,10).map((function(n,r){return t("li",{domProps:we({},a({item:n})),on:we({},s({item:n})),key:r+1+"-"+n.value,style:{backgroundColor:e.getBackgroundColor(l,r)}},[t(Mi,{attrs:{currentValue:e.currentValue,suggestion:n}})])}))]):e.renderNoSuggestions(e.suggestionsList)," "])}}}):t("div",{class:hi},[t(pi,{class:Ji(this.$props.innerClass,"input")||"",attrs:{placeholder:this.$props.placeholder,iconPosition:this.$props.iconPosition,showIcon:this.$props.showIcon,showClear:this.$props.showClear,innerRef:this.$props.innerRef,themePreset:this.themePreset},on:we({},{blur:function(t){e.$emit("blur",t,e.triggerQuery)},keypress:function(t){e.$emit("keyPress",t,e.triggerQuery)},input:this.onInputChange,focus:function(t){e.$emit("focus",t,e.triggerQuery)},keydown:function(t){e.$emit("keyDown",t,e.triggerQuery)},keyup:function(t){e.$emit("keyUp",t,e.triggerQuery)}}),domProps:we({},{autofocus:this.$props.autoFocus,value:this.$data.currentValue?this.$data.currentValue:""})}),this.renderIcons()])])},defaultQuery:function(e,t){var n,r=null;return e&&(n=Array.isArray(t.dataField)?t.dataField:[t.dataField],r={bool:{should:ra.shouldQuery(e,n,t),minimum_should_match:"1"}}),""===e&&(r=null),r&&t.nestedField?{query:{nested:{path:t.nestedField,query:r}}}:r},shouldQuery:function(e,t,n){var r=t.map((function(e,t){return e+(Array.isArray(n.fieldWeights)&&n.fieldWeights[t]?"^"+n.fieldWeights[t]:"")}));return"and"===n.queryFormat?[{multi_match:{query:e,fields:r,type:"cross_fields",operator:"and"}},{multi_match:{query:e,fields:r,type:"phrase_prefix",operator:"and"}}]:[{multi_match:{query:e,fields:r,type:"best_fields",operator:"or",fuzziness:n.fuzziness?n.fuzziness:0}},{multi_match:{query:e,fields:r,type:"phrase_prefix",operator:"or"}}]},highlightQuery:function(e){if(e.customHighlight)return e.customHighlight(e);if(!e.highlight)return null;var t={},n=e.highlightField?e.highlightField:e.dataField;return"string"==typeof n?t[n]={}:Array.isArray(n)&&n.forEach((function(e){t[e]={}})),{highlight:we({pre_tags:["<mark>"],post_tags:["</mark>"],fields:t},e.highlightField&&{require_field_match:!1})}}},oa=Bn((function(e,t){return{selectedValue:e.selectedValues[t.componentId]&&e.selectedValues[t.componentId].value||null,suggestions:e.hits[t.componentId]&&e.hits[t.componentId].hits,aggregationData:e.compositeAggregations[t.componentId]||[],isLoading:e.isLoading[t.componentId],themePreset:e.config.themePreset,error:e.error[t.componentId],analytics:e.analytics,config:e.config,headers:e.appbaseRef.headers}}),{addComponent:Di,removeComponent:qi,setQueryOptions:Bi,updateQuery:Hi,watchComponent:Ui,setQueryListener:zi,updateComponentProps:Gi})(ra);function ia(){var e=Se(["\n\tlist-style: none;\n\tpadding: 0;\n\tmargin: 0;\n\tmax-height: 240px;\n\tposition: relative;\n\toverflow-y: auto;\n\tpadding-bottom: 12px;\n\n\tli {\n\t\theight 30px;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tpadding-left: 2px;\n\t}\n"]);return ia=function(){return e},e}function aa(){var e=Se(["\n\t",";\n\t",";\n\n\t+ label {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-radius: 0;\n\t\t}\n\n\t\t&::after {\n\t\t\tbackground-color: transparent;\n\t\t\ttop: 50%;\n\t\t\tleft: calc(1px + "," / 5);\n\t\t\twidth: calc("," / 2);\n\t\t\theight: calc("," / 5);\n\t\t\tmargin-top: calc("," / -2 / 2 * 0.8);\n\t\t\tborder-style: solid;\n\t\t\tborder-color: ",";\n\t\t\tborder-width: 0 0 2px 2px;\n\t\t\tborder-radius: 0;\n\t\t\tborder-image: none;\n\t\t\ttransform: rotate(-45deg) scale(0);\n\t\t\ttransition: none;\n\t\t}\n\t}\n\n\t&:checked {\n\t\t+ label {\n\t\t\t&::before {\n\t\t\t\tborder-color: ",";\n\t\t\t}\n\n\t\t\t&::after {\n\t\t\t\tcontent: '';\n\t\t\t\ttransform: rotate(-45deg) scale(1);\n\t\t\t\ttransition: transform 200ms ease-out;\n\t\t\t}\n\t\t}\n\t}\n"]);return aa=function(){return e},e}function sa(){var e=Se(["\n\t",";\n\t",";\n\n\t+ label {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-radius: 50%;\n\t\t}\n\t}\n\n\t&:checked {\n\t\t&:active,\n\t\t&:focus {\n\t\t\t+ label {\n\t\t\t\tcolor: ",";\n\n\t\t\t\t&::before {\n\t\t\t\t\tanimation: none;\n\t\t\t\t\tfilter: none;\n\t\t\t\t\ttransition: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t+ label {\n\t\t\t&::before {\n\t\t\t\tanimation: none;\n\t\t\t\tbackground-color: #fff;\n\t\t\t\tborder-color: ",";\n\t\t}\n\n\t\t&::after {\n\t\t\ttransform: scale(1);\n\t\t}\n\t}\n"]);return sa=function(){return e},e}function ua(){var e=Se(["\n\t",";\n\n\t&:focus {\n\t\t+ label {\n\t\t\t&::before {\n\t\t\t\tbox-shadow: 0 0 0 2px ",";\n\t\t\t}\n\t\t}\n\t}\n\n\t&:hover {\n\t\t+ label {\n\t\t\t&::before {\n\t\t\t\tborder-color: ",";\n\t\t\t}\n\t\t}\n\t}\n\n\t&:active {\n\t\t+ label {\n\t\t\t&::before {\n\t\t\t\ttransition-duration: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t+ label {\n\t\tposition: relative;\n\t\tuser-select: none;\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\talign-items: center;\n\t\tcursor: pointer;\n\n\t\t&::before {\n\t\t\tbackground-color: #fff;\n\t\t\tborder: 1px solid ",";\n\t\t\tbox-sizing: content-box;\n\t\t\tcontent: '';\n\t\t\tcolor: ",";\n\t\t\tmargin-right: calc("," * 0.5);\n\t\t\ttop: 50%;\n\t\t\tleft: 0;\n\t\t\twidth: ",";\n\t\t\theight: ",";\n\t\t\tdisplay: inline-block;\n\t\t\tvertical-align: middle;\n\t\t}\n\n\t\t&::after {\n\t\t\tbox-sizing: content-box;\n\t\t\tcontent: '';\n\t\t\tbackground-color: ",";\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: calc(1px + "," / 2);\n\t\t\twidth: calc("," - ",");\n\t\t\theight: calc("," - ",");\n\t\t\tmargin-top: calc("," / -2 - "," / -2);\n\t\t\ttransform: scale(0);\n\t\t\ttransform-origin: 50%;\n\t\t\ttransition: transform 200ms ease-out;\n\t\t}\n\t}\n"]);return ua=function(){return e},e}function la(){var e=Se(["\n\t+ label {\n\t\tpadding-left: 0;\n\n\t\t&::before,\n\t\t&::after {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder: 0;\n\t\t\tmargin: 0;\n\t\t\tvisibility: hidden;\n\t\t}\n\t}\n\n\t&:checked {\n\t\t+ label {\n\t\t\tfont-weight: bold;\n\t\t}\n\t}\n"]);return la=function(){return e},e}function ca(){var e=Se(["\n\tborder: 0;\n\tclip: rect(1px, 1px, 1px, 1px);\n\tclip-path: inset(50%);\n\theight: 1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tposition: absolute;\n\twidth: 1px;\n\twhite-space: nowrap;\n"]);return ca=function(){return e},e}ra.install=function(e){e.component(ra.name,oa)};var pa="15px",da="15px",ha="4px",fa=tt(ca()),ga=tt(la()),ma=function(e){var t=e.theme;return tt(ua(),fa,Nt(.4,t.colors.primaryColor),t.colors.primaryColor,t.colors.borderColor||Nt(.1,t.colors.textColor),t.colors.primaryColor,pa,pa,da,t.colors.primaryColor,ha,pa,ha,da,ha,da,ha)},ya=at("input")(sa(),ma,(function(e){return e.show?null:ga}),(function(e){return e.theme.colors.primaryColor}),(function(e){return e.theme.colors.primaryColor})),va=at("input")(aa(),ma,(function(e){return e.show?null:ga}),pa,pa,pa,da,(function(e){return e.theme.colors.primaryColor}),(function(e){return e.theme.colors.primaryColor})),ba=at("ul")(ia()),Oa=Oe.getAggsOrder,wa=function(e){var t={};if(e){var n=e();n&&(n.query&&(t.query=n.query),n.aggs&&(t.aggs=n.aggs))}return t},Ca=function(e,t){var n,r=e,o=t.dataField,i=t.size,a=t.sortBy,s=t.showMissing,u=t.missingLabel;return r.size=0,r.aggs=((n={})[o]={terms:we({field:o,size:i,order:Oa(a||"count")},s?{missing:u}:{})},n),t.nestedField&&(r.aggs={reactivesearch_nested:{nested:{path:t.nestedField},aggs:r.aggs}}),we({},r,{},wa(t.defaultQuery))},Sa=function(e,t,n){var r,o,i=e,a=t.dataField,s=t.size,u=t.sortBy,l=t.showMissing,c="count"===u?{}:{order:u};return i.aggs=((o={})[a]={composite:we({sources:[(r={},r[a]={terms:we({field:a},c,{},l?{missing_bucket:!0}:{})},r)],size:s},n)},o),i.size=0,t.nestedField&&(i.aggs={reactivesearch_nested:{nested:{path:t.nestedField},aggs:i.aggs}}),we({},i,{},wa(t.defaultQuery))},$a=ye.addComponent,Ea=ye.removeComponent,_a=ye.watchComponent,Pa=ye.updateQuery,Aa=ye.setQueryOptions,Ia=ye.setQueryListener,ka=ye.updateComponentProps,Ra=Oe.getQueryOptions,xa=Oe.pushToAndClause,Ta=Oe.checkValueChange,ja=Oe.getClassName,La=Oe.getOptionsFromQuery,Va=Oe.isEqual,Qa=Oe.checkSomePropChange,Ma={name:"SingleList",props:{beforeValueChange:an.func,className:an.string.def(""),componentId:an.stringRequired,customQuery:an.func,dataField:an.stringRequired,defaultValue:an.string,value:an.value,defaultQuery:an.func,filterLabel:an.string,innerClass:an.style,placeholder:Fe.string.def("Search"),react:an.react,render:an.func,renderItem:an.func,transformData:an.func,selectAllLabel:an.string,showCount:Fe.bool.def(!0),showFilter:Fe.bool.def(!0),showRadio:Fe.bool.def(!0),showSearch:Fe.bool.def(!0),size:Fe.number.def(100),sortBy:Fe.oneOf(["asc","desc","count"]).def("count"),title:an.title,URLParams:Fe.bool.def(!1),showMissing:Fe.bool.def(!1),missingLabel:Fe.string.def("N/A"),nestedField:an.string},data:function(){var e=this.$props;return this.__state={currentValue:"",modifiedOptions:e.options&&e.options[e.dataField]?e.options[e.dataField].buckets:[],searchTerm:""},this.locked=!1,this.internalComponent=e.componentId+"__internal",this.__state},created:function(){var e=this;this.setQueryListener(this.$props.componentId,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["queryChange"].concat(n))}),(function(t){e.$emit("error",t)}))},mounted:function(){var e=this,t=Kn(this.$props);this.updateComponentProps(this.componentId,this.$props),this.$watch(t.join("."),(function(n,r){Qa(n,r,t,(function(){e.updateComponentProps(e.componentId,e.$props)}))}))},beforeMount:function(){this.addComponent(this.internalComponent),this.addComponent(this.$props.componentId),this.updateQueryHandlerOptions(this.$props),this.setReact(this.$props),this.selectedValue?this.setValue(this.selectedValue):this.$props.value?this.setValue(this.$props.value):this.$props.defaultValue&&this.setValue(this.$props.defaultValue)},beforeDestroy:function(){this.removeComponent(this.$props.componentId),this.removeComponent(this.internalComponent)},watch:{react:function(){this.setReact(this.$props)},options:function(e){this.modifiedOptions=e[this.$props.dataField]?e[this.$props.dataField].buckets:[]},size:function(){this.updateQueryHandlerOptions(this.$props)},sortBy:function(){this.updateQueryHandlerOptions(this.$props)},dataField:function(){this.updateQueryHandlerOptions(this.$props),this.updateQueryHandler(this.$data.currentValue,this.$props)},defaultValue:function(e){this.setValue(e)},value:function(e,t){Va(e,t)||this.setValue(e)},selectedValue:function(e){this.$data.currentValue!==e&&this.setValue(e||"")}},render:function(){var e=this,t=arguments[0],n=this.$props,r=n.selectAllLabel,o=n.renderItem,i=n.renderError,a=this.$scopedSlots.renderItem||o,s=this.$scopedSlots.renderError||i;if(s&&this.error)return zn(s)?s(this.error):s;if(!this.hasCustomRenderer&&0===this.modifiedOptions.length)return null;var u=this.$data.modifiedOptions;return this.$props.transformData&&(u=this.$props.transformData(u)),t(ki,{class:this.$props.className},[this.$props.title&&t(wn,{class:ja(this.$props.innerClass,"title")||""},[this.$props.title]),this.renderSearch(),this.hasCustomRenderer?this.getComponent():t(ba,{class:ja(this.$props.innerClass,"list")||""},[r?t("li",{key:r,class:this.$data.currentValue===r?"active":""},[t(ya,{class:ja(this.$props.innerClass,"radio"),attrs:{id:this.$props.componentId+"-"+r,name:this.$props.componentId,value:r,readOnly:!0,show:this.$props.showRadio},on:{click:this.handleClick},domProps:we({},{checked:this.$data.currentValue===r})}),t("label",{class:ja(this.$props.innerClass,"label")||null,attrs:{for:this.$props.componentId+"-"+r}},[r])]):null,u.filter((function(t){return!!String(t.key).length&&(!e.$props.showSearch||!e.$data.searchTerm||String(t.key).toLowerCase().includes(e.$data.searchTerm.toLowerCase()))})).map((function(n){return t("li",{key:n.key,class:e.currentValue===String(n.key)?"active":""},[t(ya,{class:ja(e.$props.innerClass,"radio"),attrs:{id:e.$props.componentId+"-"+n.key,name:e.$props.componentId,value:n.key,readOnly:!0,type:"radio",show:e.$props.showRadio},on:{click:e.handleClick},domProps:we({},{checked:e.currentValue===String(n.key)})}),t("label",{class:ja(e.$props.innerClass,"label")||null,attrs:{for:e.$props.componentId+"-"+n.key}},[a?a({label:n.key,count:n.doc_count,isChecked:e.currentValue===String(n.key)}):t("span",[n.key,e.$props.showCount&&t("span",{class:ja(e.$props.innerClass,"count")||null},["(",n.doc_count,")"])])])])}))])])},methods:{setReact:function(e){var t=e.react;if(t){var n=xa(t,this.internalComponent);this.watchComponent(e.componentId,n)}else this.watchComponent(e.componentId,{and:this.internalComponent})},setValue:function(e,t){var n=this;if(void 0===t&&(t=this.$props),!t.beforeValueChange||!this.locked){this.locked=!0;var r=e;e===this.$data.currentValue&&(r="");Ta(t.componentId,r,t.beforeValueChange,(function(){n.currentValue=r,n.updateQueryHandler(r,t),n.locked=!1,n.$emit("valueChange",r)}))}},updateQueryHandler:function(e,t){var n,r=t.customQuery,o=Ma.defaultQuery(e,t);r&&(o=(r(e,t)||{}).query,n=La(r(e,t)));this.setQueryOptions(t.componentId,n),this.updateQuery({componentId:t.componentId,query:o,value:e,label:t.filterLabel,showFilter:t.showFilter,URLParams:t.URLParams,componentType:"SINGLELIST"})},generateQueryOptions:function(e){var t=Ra(e);return Ca(t,e)},updateQueryHandlerOptions:function(e){var t=Ma.generateQueryOptions(e);if(e.defaultQuery){var n=this.$data.currentValue,r=La(e.defaultQuery(n,e));this.setQueryOptions(this.internalComponent,we({},t,{},r))}else this.setQueryOptions(this.internalComponent,t)},handleInputChange:function(e){var t=e.target.value;this.searchTerm=t},renderSearch:function(){var e=this.$createElement;return this.$props.showSearch?e(pi,{class:ja(this.$props.innerClass,"input")||"",on:{input:this.handleInputChange},attrs:{value:this.$data.searchTerm,placeholder:this.$props.placeholder,themePreset:this.$props.themePreset},style:{margin:"0 0 8px"}}):null},getComponent:function(){var e=this.$data,t=e.currentValue,n=e.modifiedOptions,r=this.$props.transformData,o=n;r&&(o=r(o));var i={error:this.error,loading:this.isLoading,value:t,data:o,handleChange:this.handleClick};return Wn(i,this)},handleClick:function(e){var t=e;Jn(e)&&(t=e.target.value),void 0===this.$props.value?this.setValue(t):this.$emit("change",t)}},computed:{hasCustomRenderer:function(){return Yn(this)}},generateQueryOptions:function(e){var t=Ra(e);return Ca(t,e)},defaultQuery:function(e,t){var n,r=null;(t.selectAllLabel&&t.selectAllLabel===e&&(t.showMissing&&(r={match_all:{}}),r={exists:{field:t.dataField}}),e)&&(t.showMissing&&t.missingLabel===e&&(r={bool:{must_not:{exists:{field:t.dataField}}}}),r={term:(n={},n[t.dataField]=e,n)});return r&&t.nestedField?{query:{nested:{path:t.nestedField,query:r}}}:r}},Fa=Bn((function(e,t){return{options:t.nestedField&&e.aggregations[t.componentId]?e.aggregations[t.componentId].reactivesearch_nested:e.aggregations[t.componentId],isLoading:e.isLoading[t.componentId],selectedValue:e.selectedValues[t.componentId]&&e.selectedValues[t.componentId].value||"",themePreset:e.config.themePreset,error:e.error[t.componentId]}}),{addComponent:$a,removeComponent:Ea,setQueryOptions:Aa,setQueryListener:Ia,updateQuery:Pa,watchComponent:_a,updateComponentProps:ka})(Ma);Ma.install=function(e){e.component(Ma.name,Fa)};var Na=ye.addComponent,Da=ye.removeComponent,qa=ye.watchComponent,Ua=ye.updateQuery,Ha=ye.setQueryOptions,Ba=ye.setQueryListener,za=ye.updateComponentProps,Ga=Oe.isEqual,Wa=Oe.getQueryOptions,Ya=Oe.pushToAndClause,Ka=Oe.checkValueChange,Ja=Oe.getClassName,Xa=Oe.getOptionsFromQuery,Za=Oe.checkSomePropChange,es={name:"MultiList",props:{defaultValue:an.stringArray,value:an.stringArray,queryFormat:Fe.oneOf(["and","or"]).def("or"),showCheckbox:Fe.bool.def(!0),beforeValueChange:an.func,className:an.string.def(""),componentId:an.stringRequired,customQuery:an.func,dataField:an.stringRequired,defaultQuery:an.func,filterLabel:an.string,innerClass:an.style,placeholder:Fe.string.def("Search"),react:an.react,render:an.func,renderItem:an.func,renderError:an.title,transformData:an.func,selectAllLabel:an.string,showCount:Fe.bool.def(!0),showFilter:Fe.bool.def(!0),showSearch:Fe.bool.def(!0),size:Fe.number.def(100),sortBy:Fe.oneOf(["asc","desc","count"]).def("count"),title:an.title,URLParams:Fe.bool.def(!1),showMissing:Fe.bool.def(!1),missingLabel:Fe.string.def("N/A"),nestedField:an.string},data:function(){var e=this.$props;return this.__state={currentValue:{},modifiedOptions:e.options&&e.options[e.dataField]?e.options[e.dataField].buckets:[],searchTerm:""},this.locked=!1,this.internalComponent=e.componentId+"__internal",this.__state},created:function(){var e=this;this.setQueryListener(this.$props.componentId,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["queryChange"].concat(n))}),(function(t){e.$emit("error",t)}))},mounted:function(){var e=this,t=Kn(this.$props);this.updateComponentProps(this.componentId,this.$props),this.$watch(t.join("."),(function(n,r){Za(n,r,t,(function(){e.updateComponentProps(e.componentId,e.$props)}))}))},beforeMount:function(){this.addComponent(this.internalComponent),this.addComponent(this.$props.componentId),this.updateQueryHandlerOptions(this.$props),this.setReact(this.$props),this.selectedValue?this.setValue(this.selectedValue):this.$props.value?this.setValue(this.$props.value,!0):this.$props.defaultValue&&this.setValue(this.$props.defaultValue,!0)},beforeDestroy:function(){this.removeComponent(this.$props.componentId),this.removeComponent(this.internalComponent)},watch:{react:function(){this.setReact(this.$props)},options:function(e){this.modifiedOptions=e[this.$props.dataField]?e[this.$props.dataField].buckets:[]},size:function(){this.updateQueryHandlerOptions(this.$props)},sortBy:function(){this.updateQueryHandlerOptions(this.$props)},dataField:function(){this.updateQueryHandlerOptions(this.$props),this.updateQueryHandler(this.$data.currentValue,this.$props)},value:function(e,t){Ga(t,e)||this.setValue(e,!0)},defaultValue:function(e,t){Ga(t,e)||this.setValue(e,!0)},selectedValue:function(e){var t=this,n=Object.keys(this.$data.currentValue);this.$props.selectAllLabel&&(n=n.filter((function(e){return e!==t.$props.selectAllLabel})),this.$data.currentValue[this.$props.selectAllLabel]&&(n=[this.$props.selectAllLabel])),Ga(n,e)||this.setValue(e||[],!0)}},render:function(){var e=this,t=arguments[0],n=this.$props,r=n.selectAllLabel,o=n.renderItem,i=n.renderError,a=this.$scopedSlots.renderItem||o,s=this.$scopedSlots.renderError||i;if(s&&this.error)return zn(s)?s(this.error):s;if(!this.hasCustomRenderer&&0===this.modifiedOptions.length)return null;var u=this.$data.modifiedOptions;return this.$props.transformData&&(u=this.$props.transformData(u)),t(ki,{class:this.$props.className},[this.$props.title&&t(wn,{class:Ja(this.$props.innerClass,"title")},[this.$props.title]),this.renderSearch(),this.hasCustomRenderer?this.getComponent():t(ba,{class:Ja(this.$props.innerClass,"list")},[r?t("li",{key:r,class:this.currentValue[r]?"active":""},[t(va,{attrs:{type:"checkbox",id:this.$props.componentId+"-"+r,name:r,value:r,show:this.$props.showCheckbox},class:Ja(this.$props.innerClass,"checkbox"),on:{click:this.handleClick},domProps:we({},{checked:!!this.currentValue[r]})}),t("label",{class:Ja(this.$props.innerClass,"label"),attrs:{for:this.$props.componentId+"-"+r}},[r])]):null,u.filter((function(t){return!!String(t.key).length&&(!e.$props.showSearch||!e.$data.searchTerm||String(t.key).toLowerCase().includes(e.$data.searchTerm.toLowerCase()))})).map((function(n){return t("li",{key:n.key,class:e.$data.currentValue[n.key]?"active":""},[t(va,{attrs:{type:"checkbox",id:e.$props.componentId+"-"+n.key,name:e.$props.componentId,value:n.key,show:e.$props.showCheckbox},class:Ja(e.$props.innerClass,"checkbox"),on:{click:e.handleClick},domProps:we({},{checked:!!e.$data.currentValue[n.key]})}),t("label",{class:Ja(e.$props.innerClass,"label"),attrs:{for:e.$props.componentId+"-"+n.key}},[a?a({label:n.key,count:n.doc_count,isChecked:!!e.$data.currentValue[n.key]}):t("span",[n.key,e.$props.showCount&&t("span",{class:Ja(e.$props.innerClass,"count")},["(",n.doc_count,")"])])])])}))])])},methods:{setReact:function(e){var t=e.react;if(t){var n=Ya(t,this.internalComponent);this.watchComponent(e.componentId,n)}else this.watchComponent(e.componentId,{and:this.internalComponent})},setValue:function(e,t,n){var r=this;if(void 0===t&&(t=!1),void 0===n&&(n=this.$props),!n.beforeValueChange||!this.locked){this.locked=!0;var o=this.$props.selectAllLabel,i=this.$data.currentValue,a=null;if(o&&(Array.isArray(e)&&e.includes(o)||"string"==typeof e&&e===o))i[o]?(i={},a=[]):(this.$data.modifiedOptions.forEach((function(e){i[e.key]=!0})),i[o]=!0,a=[o]);else if(t){if(a=e,i={},e&&e.length&&e.forEach((function(e){i[e]=!0})),o&&o in i){var s=i,u=(s[o],Ce(s,[o].map($e)));i=we({},u)}}else{if(i[e]){var l=i,c=(l[e],Ce(l,[e].map($e)));i=we({},c)}else i[e]=!0;if(o&&o in i){var p=i,d=(p[o],Ce(p,[o].map($e)));i=we({},d)}a=Object.keys(i)}Ka(n.componentId,a,n.beforeValueChange,(function(){r.currentValue=Object.assign({},i),r.updateQueryHandler(a,n),r.locked=!1,r.$emit("valueChange",a)}))}},updateQueryHandler:function(e,t){var n,r=t.customQuery,o=es.defaultQuery(e,t);r&&(o=(r(e,t)||{}).query,n=Xa(r(e,t)));this.setQueryOptions(t.componentId,n),this.updateQuery({componentId:t.componentId,query:o,value:e,label:t.filterLabel,showFilter:t.showFilter,URLParams:t.URLParams,componentType:"MULTILIST"})},generateQueryOptions:function(e){var t=Wa(e);return Ca(t,e)},updateQueryHandlerOptions:function(e){var t=es.generateQueryOptions(e);if(e.defaultQuery){var n=Object.keys(this.$data.currentValue),r=Xa(e.defaultQuery(n,e));this.setQueryOptions(this.internalComponent,we({},t,{},r))}else this.setQueryOptions(this.internalComponent,t)},handleInputChange:function(e){var t=e.target.value;this.searchTerm=t},renderSearch:function(){var e=this.$createElement;return this.$props.showSearch?e(pi,{class:Ja(this.$props.innerClass,"input")||"",on:{input:this.handleInputChange},attrs:{value:this.$data.searchTerm,placeholder:this.$props.placeholder,themePreset:this.$props.themePreset},style:{margin:"0 0 8px"}}):null},handleClick:function(e){var t=e;Jn(e)&&(t=e.target.value);var n=this.$props.value;if(void 0===n)this.setValue(t);else{var r=Gn(n,t);this.$emit("change",r)}},getComponent:function(){var e=this.$data,t=e.currentValue,n=e.modifiedOptions,r=this.$props.transformData,o=n;r&&(o=r(o));var i={error:this.error,loading:this.isLoading,value:t,data:o,handleChange:this.handleClick};return Wn(i,this)}},computed:{hasCustomRenderer:function(){return Yn(this)}},defaultQuery:function(e,t){var n=null,r="or"===t.queryFormat?"terms":"term";if(!Array.isArray(e)||0===e.length)return null;if(t.selectAllLabel&&e.includes(t.selectAllLabel))n=t.showMissing?{match_all:{}}:{exists:{field:t.dataField}};else if(e){var o;if("or"===t.queryFormat)if(t.showMissing){var i,a,s=e.includes(t.missingLabel),u=[(a={},a[r]=(i={},i[t.dataField]=e.filter((function(e){return e!==t.missingLabel})),i),a)];s&&(u=u.concat({bool:{must_not:{exists:{field:t.dataField}}}})),o={bool:{should:u}}}else{var l,c;(c={})[r]=((l={})[t.dataField]=e,l),o=c}else o={bool:{must:e.map((function(e){var n,o;return(o={})[r]=((n={})[t.dataField]=e,n),o}))}};n=e.length?o:null}return n&&t.nestedField&&(n={query:{nested:{path:t.nestedField,query:n}}}),n},generateQueryOptions:function(e){var t=Wa(e);return Ca(t,e)}},ts=Bn((function(e,t){return{options:t.nestedField&&e.aggregations[t.componentId]?e.aggregations[t.componentId].reactivesearch_nested:e.aggregations[t.componentId],isLoading:e.isLoading[t.componentId],selectedValue:e.selectedValues[t.componentId]&&e.selectedValues[t.componentId].value||null,themePreset:e.config.themePreset,error:e.error[t.componentId]}}),{addComponent:Na,removeComponent:Da,setQueryOptions:Ha,setQueryListener:Ba,updateQuery:Ua,watchComponent:qa,updateComponentProps:za})(es);function ns(){var e=Se(["\n\twidth: 16px;\n\theight: 16px;\n\tdisplay: inline-block;\n\tposition: relative;\n\tuser-select: none;\n\talign-items: center;\n\n\t&::after {\n\t\tbox-sizing: content-box;\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tbackground-color: transparent;\n\t\ttop: 50%;\n\t\tleft: 0;\n\t\twidth: 8px;\n\t\theight: 4px;\n\t\tmargin-top: -4px;\n\t\tborder-style: solid;\n\t\tborder-color: ",";\n\t\tborder-width: 0 0 2px 2px;\n\t\tborder-radius: 0;\n\t\tborder-image: none;\n\t\ttransform: rotate(-45deg) scale(1);\n\t\ttransition: all 200ms ease-out;\n\t}\n"]);return ns=function(){return e},e}function rs(){var e=Se(["\n\twidth: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmin-height: 42px;\n\tborder-radius: 0;\n\toutline: none;\n\tpadding: 5px 12px;\n\tfont-size: 0.9rem;\n\tline-height: 1.2rem;\n\tbackground-color: #fff;\n\tborder: 1px solid #ccc;\n\tcolor: #424242;\n\tcursor: pointer;\n\tuser-select: none;\n\ttransition: all 0.3s ease;\n\n\t",";\n\n\t& > div {\n\t\twidth: calc(100% - 24px);\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\ttext-align: left;\n\t}\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: #fcfcfc;\n\t}\n\n\t",";\n"]);return rs=function(){return e},e}function os(){var e=Se(["\n\tbackground-color: ",";\n\tborder-color: ",";\n\tcolor: ",";\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: ",";\n\t}\n"]);return os=function(){return e},e}function is(){var e=Se(["\n\tmin-height: 0;\n\theight: 30px;\n\tborder: 0;\n\tbox-shadow: rgba(0, 0, 0, 0.3) 0px 1px 4px -1px;\n\tborder-radius: 2px;\n"]);return is=function(){return e},e}es.install=function(e){e.component(es.name,ts)};var as=tt(is()),ss=function(e){var t=e.theme;return tt(os(),t.colors.backgroundColor,t.colors.borderColor,t.colors.textColor,t.colors.backgroundColor)},us=at("button")(rs(),(function(e){return e.small?as:null}),(function(e){return"dark"===e.themePreset&&ss})),ls=at("span")(ns(),(function(e){return e.theme.colors.primaryColor}));function cs(){var e=Se(["\n\t&::before {\n\t\tcontent: '';\n\t\tborder-style: solid;\n\t\tborder-width: 0.15em 0.15em 0 0;\n\t\tdisplay: inline-block;\n\t\theight: 0.45em;\n\t\tposition: relative;\n\t\ttop: 0.35em;\n\t\tleft: 0;\n\t\ttransform: rotate(135deg);\n\t\tvertical-align: top;\n\t\twidth: 0.45em;\n\n\t\t",";\n\t}\n"]);return cs=function(){return e},e}function ps(){var e=Se(["\n\ttop: 0.55em;\n\ttransform: rotate(-45deg);\n"]);return ps=function(){return e},e}var ds=tt(ps()),hs=at("span")(cs(),(function(e){return e.open?ds:null})),fs=Oe.getClassName,gs={data:function(){return this.__state={isOpen:!1,searchTerm:""},this.__state},inject:{theme:{from:"theme_reactivesearch"}},props:{innerClass:an.style,items:an.data,keyField:Fe.string.def("key"),labelField:Fe.string.def("label"),multi:an.bool,placeholder:an.string,returnsObject:an.bool,customLabelRenderer:an.func,hasCustomRenderer:an.bool,customRenderer:an.func,renderItem:an.func,handleChange:an.func,transformData:an.func,selectedItem:an.selectedValue,showCount:an.bool,single:an.bool,small:Fe.bool.def(!1),themePreset:an.themePreset,showSearch:an.bool},render:function(){var e=this,t=arguments[0],n=this.$props,r=n.items,o=n.selectedItem,i=n.placeholder,a=n.labelField,s=n.keyField,u=n.themePreset,l=n.renderItem,c=n.transformData,p=n.footer,d=n.customLabelRenderer,h=n.hasCustomRenderer,f=n.customRenderer,g=r;return c&&(g=c(g)),t(Ai,{attrs:{isOpen:this.$data.isOpen,selectedItem:o,handleChange:this.onChange,handleMouseup:this.handleStateChange},scopedSlots:{default:function(n){var r=n.getItemProps,c=n.isOpen,m=n.highlightedIndex,y=n.getButtonProps,v=n.getItemEvents;return t("div",{class:hi},[t(us,{on:we({},we({},y({onClick:e.toggle}))),class:fs(e.$props.innerClass,"select")||"",attrs:{title:o?e.renderToString(o):i,small:e.$props.small,themePreset:e.$props.themePreset}},[d?d(o):t("div",[o?e.renderToString(o):i]),t(hs,{attrs:{open:c}})]),h?f(g,{getItemProps:r,isOpen:c,highlightedIndex:m,getButtonProps:y,getItemEvents:v}):c&&g.length?t("ul",{class:di(u,e.theme)+" "+(e.$props.small?"small":"")+" "+fs(e.$props.innerClass,"list")},[e.$props.showSearch?t(pi,{attrs:{id:e.$props.componentId+"-input",showIcon:!1,placeholder:"Type here to search...",value:e.$data.searchTerm,themePreset:u},style:{border:0,borderBottom:"1px solid #ddd"},class:fs(e.$props.innerClass,"input"),on:{change:e.handleInputChange}}):null,g.filter((function(t){return!!String(t[a]).length&&(!e.$props.showSearch||!e.$data.searchTerm||String(t[a]).toLowerCase().includes(e.$data.searchTerm.toLowerCase()))})).map((function(n,i){var u=e.$props.multi&&(o&&!!o[n[s]]||Array.isArray(o)&&o.find((function(e){return e[a]===n[a]})));return e.$props.multi||(u=n.key===o),t("li",{domProps:we({},r({item:n})),on:we({},v({item:n})),key:n[s],class:u?"active":"",style:{backgroundColor:e.getBackgroundColor(m===i,u)}},[l?l({label:n[a],count:n.doc_count,isChecked:u&&e.$props.multi}):t("div",["string"==typeof n[a]?t("span",{domProps:{innerHTML:n[a]}}):n[a],e.$props.showCount&&n.doc_count&&t("span",{class:fs(e.$props.innerClass,"count")||""},["(",n.doc_count,")"])]),u&&e.$props.multi?t(ls,{class:fs(e.$props.innerClass,"icon")||""}):null])})),p]):null])}}})},methods:{toggle:function(){this.isOpen=!this.$data.isOpen},close:function(){this.isOpen=!1},onChange:function(e){this.$props.returnsObject?this.$props.handleChange(e):this.$props.handleChange(e[this.$props.keyField]),this.$props.multi||(this.isOpen=!1)},handleStateChange:function(e){var t=e.isOpen;this.isOpen=t},getBackgroundColor:function(e,t){var n="dark"===this.$props.themePreset;return e?n?"#555":"#eee":t?n?"#686868":"#fafafa":n?"#424242":"#fff"},handleInputChange:function(e){var t=e.target.value;this.searchTerm=t},renderToString:function(e){var t=this,n=this.$props.customLabelRenderer;if(n){var r=n(e);if("string"==typeof r)return r}return Array.isArray(e)&&e.length?e.map((function(e){return t.renderToString(e)})).join(", "):e&&"object"==typeof e?e[this.$props.labelField]?e[this.$props.labelField]:Object.keys(e).length?this.renderToString(Object.keys(e)):this.$props.placeholder:e}}},ms=ye.addComponent,ys=ye.removeComponent,vs=ye.watchComponent,bs=ye.updateQuery,Os=ye.setQueryOptions,ws=ye.setQueryListener,Cs=ye.updateComponentProps,Ss=Oe.getQueryOptions,$s=Oe.pushToAndClause,Es=Oe.checkValueChange,_s=Oe.checkPropChange,Ps=Oe.getClassName,As=Oe.getOptionsFromQuery,Is=Oe.isEqual,ks=Oe.checkSomePropChange,Rs={name:"SingleDropdownList",data:function(){var e=this.$props;return this.__state={currentValue:"",modifiedOptions:[],after:{},isLastBucket:!1},this.locked=!1,this.internalComponent=e.componentId+"__internal",this.__state},props:{beforeValueChange:an.func,className:Fe.string.def(""),componentId:an.stringRequired,customQuery:an.func,dataField:an.stringRequired,defaultQuery:an.func,defaultValue:an.string,value:an.value,filterLabel:an.string,innerClass:an.style,placeholder:Fe.string.def("Select a value"),react:an.react,renderLabel:an.func,render:an.func,renderItem:an.func,renderError:an.title,transformData:an.func,selectAllLabel:an.string,showCount:Fe.bool.def(!0),showFilter:Fe.bool.def(!0),size:Fe.number.def(100),sortBy:Fe.oneOf(["asc","desc","count"]).def("count"),title:an.title,URLParams:Fe.bool.def(!1),showMissing:Fe.bool.def(!1),missingLabel:Fe.string.def("N/A"),showSearch:Fe.bool.def(!1),showLoadMore:Fe.bool.def(!1),loadMoreLabel:Fe.oneOfType([Fe.string,Fe.any]).def("Load More"),nestedField:an.string},created:function(){var e=this;this.setQueryListener(this.$props.componentId,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["queryChange"].concat(n))}),(function(t){e.$emit("error",t)}))},mounted:function(){var e=this,t=Kn(this.$props);this.updateComponentProps(this.componentId,this.$props),this.$watch(t.join("."),(function(n,r){ks(n,r,t,(function(){e.updateComponentProps(e.componentId,e.$props)}))}))},beforeMount:function(){this.addComponent(this.internalComponent),this.addComponent(this.$props.componentId),this.updateQueryOptions(this.$props),this.setReact(this.$props),this.selectedValue?this.setValue(this.selectedValue):this.$props.value?this.setValue(this.$props.value):this.$props.defaultValue&&this.setValue(this.$props.defaultValue)},beforeDestroy:function(){this.removeComponent(this.$props.componentId),this.removeComponent(this.internalComponent)},watch:{react:function(){this.setReact(this.$props)},options:function(e,t){var n=this;_s(t,e,(function(){var t=n.$props,r=t.showLoadMore,o=t.dataField,i=n.$data.modifiedOptions;if(r){var a=e[o].buckets,s=[].concat(i,a.map((function(e){return{key:e.key[o],doc_count:e.doc_count}}))),u=e[o].after_key,l=!a.length;n.after={after:u},n.isLastBucket=l,n.modifiedOptions=s}else n.modifiedOptions=e[n.$props.dataField]?e[n.$props.dataField].buckets:[]}))},size:function(){this.updateQueryOptions(this.$props)},dataField:function(){this.updateQueryOptions(this.$props),this.updateQueryHandler(this.$data.currentValue,this.$props)},defaultValue:function(e){this.setValue(e)},value:function(e,t){Is(e,t)||this.setValue(e)},selectedValue:function(e){this.$data.currentValue!==e&&this.setValue(e||"")}},render:function(){var e=arguments[0],t=this.$props,n=t.showLoadMore,r=t.loadMoreLabel,o=t.renderItem,i=t.renderError,a=t.renderLabel,s=this.$data.isLastBucket,u=[],l=this.$scopedSlots.renderItem||o,c=this.$scopedSlots.renderError||i,p=this.$scopedSlots.renderLabel||a;return c&&this.error?zn(c)?c(this.error):c:this.hasCustomRenderer||0!==this.$data.modifiedOptions.length?(this.$props.selectAllLabel&&(u=[{key:this.$props.selectAllLabel}]),e(ki,{class:this.$props.className},[this.$props.title&&e(wn,{class:Ps(this.$props.innerClass,"title")||""},[this.$props.title]),e(gs,{attrs:{innerClass:this.$props.innerClass,items:[].concat(u,this.$data.modifiedOptions.filter((function(e){return String(e.key).trim().length})).map((function(e){return we({},e,{key:String(e.key)})}))),handleChange:this.handleChange,selectedItem:this.$data.currentValue,placeholder:this.$props.placeholder,labelField:"key",showCount:this.$props.showCount,hasCustomRenderer:this.hasCustomRenderer,customRenderer:this.getComponent,renderItem:l,themePreset:this.themePreset,showSearch:this.$props.showSearch,transformData:this.$props.transformData,footer:n&&!s&&e("div",{attrs:{css:nn}},[e(tn,{on:{click:this.handleLoadMore}},[r])]),customLabelRenderer:p}})])):null},methods:{setReact:function(e){var t=e.react;if(t){var n=$s(t,this.internalComponent);this.watchComponent(e.componentId,n)}else this.watchComponent(e.componentId,{and:this.internalComponent})},setValue:function(e,t){var n=this;if(void 0===t&&(t=this.$props),!t.beforeValueChange||!this.locked){this.locked=!0;Es(t.componentId,e,t.beforeValueChange,(function(){n.currentValue=e,n.updateQueryHandler(e,t),n.locked=!1,n.$emit("valueChange",e)}))}},handleChange:function(e){void 0===this.$props.value?this.setValue(e):this.$emit("change",e)},updateQueryHandler:function(e,t){var n,r=t.customQuery,o=Rs.defaultQuery(e,t);r&&(o=(r(e,t)||{}).query,n=As(r(e,t)));this.setQueryOptions(t.componentId,n),this.updateQuery({componentId:t.componentId,query:o,value:e,label:t.filterLabel,showFilter:t.showFilter,URLParams:t.URLParams,componentType:"SINGLEDROPDOWNLIST"})},generateQueryOptions:function(e,t){var n=Ss(e);return e.showLoadMore?Sa(n,e,t):Ca(n,e)},updateQueryOptions:function(e,t){void 0===t&&(t=!1),e.showLoadMore&&!t&&(this.modifiedOptions=[]);var n=Rs.generateQueryOptions(e,t?this.$data.after:{});if(e.defaultQuery){var r=this.$data.currentValue,o=As(e.defaultQuery(r,e));this.setQueryOptions(this.internalComponent,we({},n,{},o))}else this.setQueryOptions(this.internalComponent,n)},handleLoadMore:function(){this.updateQueryOptions(this.$props,!0)},getComponent:function(e,t){void 0===t&&(t={});var n=this.$data.currentValue,r={error:this.error,loading:this.isLoading,value:n,data:e||[],handleChange:this.handleChange,downshiftProps:t};return Wn(r,this)}},computed:{hasCustomRenderer:function(){return Yn(this)}},defaultQuery:function(e,t){var n=null;if(t.selectAllLabel&&t.selectAllLabel===e)t.showMissing&&(n={match_all:{}}),n={exists:{field:t.dataField}};else if(e){var r;t.showMissing&&t.missingLabel===e&&(n={bool:{must_not:{exists:{field:t.dataField}}}}),n={term:(r={},r[t.dataField]=e,r)}}return n&&t.nestedField?{query:{nested:{path:t.nestedField,query:n}}}:n},generateQueryOptions:function(e,t){var n=Ss(e);return e.showLoadMore?Sa(n,e,t):Ca(n,e)}},xs=Bn((function(e,t){return{options:t.nestedField&&e.aggregations[t.componentId]?e.aggregations[t.componentId].reactivesearch_nested:e.aggregations[t.componentId],isLoading:e.isLoading[t.componentId],selectedValue:e.selectedValues[t.componentId]&&e.selectedValues[t.componentId].value||"",themePreset:e.config.themePreset,error:e.error[t.componentId]}}),{addComponent:ms,removeComponent:ys,setQueryOptions:Os,setQueryListener:ws,updateQuery:bs,watchComponent:vs,updateComponentProps:Cs})(Rs);Rs.install=function(e){e.component(Rs.name,xs)};var Ts=ye.addComponent,js=ye.removeComponent,Ls=ye.watchComponent,Vs=ye.updateQuery,Qs=ye.setQueryOptions,Ms=ye.setQueryListener,Fs=ye.updateComponentProps,Ns=Oe.isEqual,Ds=Oe.getQueryOptions,qs=Oe.pushToAndClause,Us=Oe.checkValueChange,Hs=Oe.checkPropChange,Bs=Oe.getClassName,zs=Oe.getOptionsFromQuery,Gs=Oe.checkSomePropChange,Ws={name:"MultiDropdownList",data:function(){var e=this.$props;return this.__state={currentValue:{},modifiedOptions:[],after:{},isLastBucket:!1},this.locked=!1,this.internalComponent=e.componentId+"__internal",this.__state},props:{beforeValueChange:an.func,className:Fe.string.def(""),componentId:an.stringRequired,customQuery:an.func,dataField:an.stringRequired,defaultValue:an.stringArray,value:an.stringArray,defaultQuery:an.func,filterLabel:an.string,innerClass:an.style,placeholder:Fe.string.def("Select values"),queryFormat:Fe.oneOf(["and","or"]).def("or"),react:an.react,renderLabel:an.func,render:an.func,renderItem:an.func,renderError:an.title,transformData:an.func,selectAllLabel:an.string,showCount:Fe.bool.def(!0),showFilter:Fe.bool.def(!0),size:Fe.number.def(100),sortBy:Fe.oneOf(["asc","desc","count"]).def("count"),title:an.title,URLParams:Fe.bool.def(!1),showMissing:Fe.bool.def(!1),missingLabel:Fe.string.def("N/A"),showSearch:Fe.bool.def(!1),showLoadMore:Fe.bool.def(!1),loadMoreLabel:Fe.oneOfType([Fe.string,Fe.any]).def("Load More"),nestedField:an.string},created:function(){var e=this;this.setQueryListener(this.$props.componentId,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["queryChange"].concat(n))}),(function(t){e.$emit("error",t)}))},mounted:function(){var e=this,t=Kn(this.$props);this.updateComponentProps(this.componentId,this.$props),this.$watch(t.join("."),(function(n,r){Gs(n,r,t,(function(){e.updateComponentProps(e.componentId,e.$props)}))}))},beforeMount:function(){this.addComponent(this.internalComponent),this.addComponent(this.$props.componentId),this.updateQueryOptions(this.$props),this.setReact(this.$props),this.selectedValue?this.setValue(this.selectedValue,!0):this.$props.value?this.setValue(this.$props.value,!0):this.$props.defaultValue&&this.setValue(this.$props.defaultValue,!0)},beforeDestroy:function(){this.removeComponent(this.$props.componentId),this.removeComponent(this.internalComponent)},watch:{react:function(){this.setReact(this.$props)},selectedValue:function(e){var t=this,n=Object.keys(this.$data.currentValue);this.$props.selectAllLabel&&(n=n.filter((function(e){return e!==t.$props.selectAllLabel})),this.$data.currentValue[this.$props.selectAllLabel]&&(n=[this.$props.selectAllLabel])),Ns(n,e)||this.setValue(e||[],!0)},options:function(e,t){var n=this;Hs(t,e,(function(){var t=n.$props,r=t.showLoadMore,o=t.dataField,i=n.$data.modifiedOptions;if(r){var a=e[o].buckets,s=[].concat(i,a.map((function(e){return{key:e.key[o],doc_count:e.doc_count}}))),u=e[o].after_key,l=!a.length;n.after={after:u},n.isLastBucket=l,n.modifiedOptions=s}else n.modifiedOptions=e[n.$props.dataField]?e[n.$props.dataField].buckets:[]}))},size:function(){this.updateQueryOptions(this.$props)},dataField:function(){this.updateQueryOptions(this.$props),this.updateQueryHandler(this.$data.currentValue,this.$props)},defaultValue:function(e){this.setValue(e,!0)},value:function(e,t){Ns(e,t)||this.setValue(e,!0)}},render:function(){var e=arguments[0],t=this.$props,n=t.showLoadMore,r=t.loadMoreLabel,o=t.renderItem,i=t.renderError,a=t.renderLabel,s=this.$scopedSlots.renderItem||o,u=this.$scopedSlots.renderError||i,l=this.$scopedSlots.renderLabel||a,c=this.$data.isLastBucket,p=[];return u&&this.error?zn(u)?u(this.error):u:this.hasCustomRenderer||0!==this.$data.modifiedOptions.length?(this.$props.selectAllLabel&&(p=[{key:this.$props.selectAllLabel}]),e(ki,{class:this.$props.className},[this.$props.title&&e(wn,{class:Bs(this.$props.innerClass,"title")||""},[this.$props.title]),e(gs,{attrs:{innerClass:this.$props.innerClass,items:[].concat(p,this.$data.modifiedOptions.filter((function(e){return String(e.key).trim().length})).map((function(e){return we({},e,{key:String(e.key)})}))),hasCustomRenderer:this.hasCustomRenderer,customRenderer:this.getComponent,handleChange:this.handleChange,selectedItem:this.$data.currentValue,placeholder:this.$props.placeholder,labelField:"key",multi:!0,showCount:this.$props.showCount,themePreset:this.themePreset,renderItem:s,showSearch:this.$props.showSearch,transformData:this.$props.transformData,footer:n&&!c&&e("div",{attrs:{css:nn}},[e(tn,{on:{click:this.handleLoadMore}},[r])]),customLabelRenderer:l}})])):null},methods:{setReact:function(e){var t=e.react;if(t){var n=qs(t,this.internalComponent);this.watchComponent(e.componentId,n)}else this.watchComponent(e.componentId,{and:this.internalComponent})},handleChange:function(e){if(void 0===this.$props.value)this.setValue(e);else{var t=Gn(this.currentValue,e);this.$emit("change",t)}},setValue:function(e,t,n){var r=this;if(void 0===t&&(t=!1),void 0===n&&(n=this.$props),!n.beforeValueChange||!this.locked){this.locked=!0;var o=this.$props.selectAllLabel,i=this.$data.currentValue,a=null;if(o&&e.includes(o))i[o]?(i={},a=[]):(this.$data.modifiedOptions.forEach((function(e){i[e.key]=!0})),i[o]=!0,a=[o]);else if(t){if(a=e,i={},Array.isArray(e)&&e.forEach((function(e){i[e]=!0})),o&&o in i){var s=i,u=(s[o],Ce(s,[o].map($e)));i=we({},u)}}else{if(i[e]){var l=i,c=(l[e],Ce(l,[e].map($e)));i=we({},c)}else i[e]=!0;if(o&&o in i){var p=i,d=(p[o],Ce(p,[o].map($e)));i=we({},d)}a=Object.keys(i)}Us(n.componentId,a,n.beforeValueChange,(function(){r.currentValue=i,r.updateQueryHandler(a,n),r.locked=!1,r.$emit("valueChange",a)}))}},updateQueryHandler:function(e,t){var n,r=t.customQuery,o=Ws.defaultQuery(e,t);r&&(o=(r(e,t)||{}).query,n=zs(r(e,t)));this.setQueryOptions(t.componentId,n),this.updateQuery({componentId:t.componentId,query:o,value:e,label:t.filterLabel,showFilter:t.showFilter,URLParams:t.URLParams,componentType:"MULTIDROPDOWNLIST"})},generateQueryOptions:function(e,t){var n=Ds(e);return e.showLoadMore?Sa(n,e,t):Ca(n,e)},updateQueryOptions:function(e,t){void 0===t&&(t=!1),e.showLoadMore&&!t&&(this.modifiedOptions=[]);var n=Ws.generateQueryOptions(e,t?this.$data.after:{});if(e.defaultQuery){var r=Object.keys(this.$data.currentValue),o=zs(e.defaultQuery(r,e));this.setQueryOptions(this.internalComponent,we({},n,{},o))}else this.setQueryOptions(this.internalComponent,n)},handleLoadMore:function(){this.updateQueryOptions(this.$props,!0)},getComponent:function(e,t){void 0===t&&(t={});var n=this.$data.currentValue,r={error:this.error,loading:this.isLoading,value:n,data:e||[],handleChange:this.handleChange,downshiftProps:t};return Wn(r,this)}},computed:{hasCustomRenderer:function(){return Yn(this)}},defaultQuery:function(e,t){var n=null,r="or"===t.queryFormat?"terms":"term";if(!Array.isArray(e)||0===e.length)return null;if(t.selectAllLabel&&e.includes(t.selectAllLabel))n=t.showMissing?{match_all:{}}:{exists:{field:t.dataField}};else if(e){var o;if("or"===t.queryFormat)if(t.showMissing){var i,a,s=e.includes(t.missingLabel),u=[(a={},a[r]=(i={},i[t.dataField]=e.filter((function(e){return e!==t.missingLabel})),i),a)];s&&(u=u.concat({bool:{must_not:{exists:{field:t.dataField}}}})),o={bool:{should:u}}}else{var l,c;(c={})[r]=((l={})[t.dataField]=e,l),o=c}else o={bool:{must:e.map((function(e){var n,o;return(o={})[r]=((n={})[t.dataField]=e,n),o}))}};n=e.length?o:null}return n&&t.nestedField?{query:{nested:{path:t.nestedField,query:n}}}:n},generateQueryOptions:function(e,t){var n=Ds(e);return e.showLoadMore?Sa(n,e,t):Ca(n,e)}},Ys=Bn((function(e,t){return{options:t.nestedField&&e.aggregations[t.componentId]?e.aggregations[t.componentId].reactivesearch_nested:e.aggregations[t.componentId],isLoading:e.isLoading[t.componentId],selectedValue:e.selectedValues[t.componentId]&&e.selectedValues[t.componentId].value||null,themePreset:e.config.themePreset,error:e.error[t.componentId]}}),{addComponent:Ts,removeComponent:js,setQueryOptions:Qs,setQueryListener:Ms,updateQuery:Vs,watchComponent:Ls,updateComponentProps:Fs})(Ws);Ws.install=function(e){e.component(Ws.name,Ys)};var Ks=ye.addComponent,Js=ye.removeComponent,Xs=ye.updateQuery,Zs=ye.watchComponent,eu=ye.setQueryListener,tu=ye.setQueryOptions,nu=Oe.isEqual,ru=Oe.checkValueChange,ou=Oe.getClassName,iu=Oe.getOptionsFromQuery,au=Oe.handleA11yAction,su={name:"ToggleButton",props:{componentId:an.stringRequired,data:an.data,dataField:an.stringRequired,defaultValue:an.stringOrArray,value:an.stringOrArray,filterLabel:an.string,nestedField:an.string,innerClass:an.style,multiSelect:an.bool,react:an.react,showFilter:an.bool,title:an.title,URLParams:an.bool,renderItem:an.func},data:function(){var e=this.$props,t=this.selectedValue||e.value||e.defaultValue||[],n=su.parseValue(t,e);return this.__state={currentValue:n},this.locked=!1,this.__state},beforeMount:function(){var e=this.$props;this.$data.currentValue.length&&this.handleToggle(this.$data.currentValue,!0,e,!1),this.addComponent(e.componentId),this.setReact(e)},created:function(){var e=this;this.setQueryListener(this.$props.componentId,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["queryChange"].concat(n))}),(function(t){e.$emit("error",t)}))},beforeDestroy:function(){this.removeComponent(this.$props.componentId)},watch:{defaultValue:function(e){this.setValue(su.parseValue(e,this.$props))},react:function(){this.setReact(this.$props)},dataField:function(){this.updateQuery(this.$data.currentValue,this.$props)},nestedField:function(){this.updateQuery(this.$data.currentValue,this.$props)},value:function(e,t){nu(e,t)||this.handleToggle(e,!0,this.$props)},selectedValue:function(e,t){if(this.$props.multiSelect)nu(this.$data.currentValue,e)||nu(t,e)||this.handleToggle(e||[],!0,this.$props);else{var n=this.$data.currentValue[0]?this.$data.currentValue[0].value:null;nu(n,this.selectedValue)||nu(t,this.selectedValue)||this.handleToggle(this.selectedValue||[],!0,this.$props)}}},methods:{handleToggle:function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=this.$props),void 0===r&&(r=!0);var o=this.$data.currentValue,i=e,a=[];a=t?su.parseValue(i,n):this.$props.multiSelect?o.some((function(e){return e.value===i.value}))?o.filter((function(e){return e.value!==i.value})):o.concat(i):o.some((function(e){return e.value===i.value}))?[]:[i],this.setValue(a,n,r)},setReact:function(e){e.react&&this.watchComponent(e.componentId,e.react)},setValue:function(e,t,n){var r=this;if(void 0===t&&(t=this.$props),void 0===n&&(n=!0),!t.beforeValueChange||!this.locked){this.locked=!0;ru(t.componentId,t.multiSelect?e:e[0],t.beforeValueChange,(function(){var o=function(){r.updateQuery(e,t),r.locked=!1,r.$emit("valueChange",e)};n?(r.currentValue=e,o()):o()}))}},updateQuery:function(e,t){var n=e;t.multiSelect||(n=e[0]?e[0].value:null);var r=t.customQuery,o=su.defaultQuery(e,t);r&&(o=(r(e,t)||{}).query,this.setQueryOptions(t.componentId,iu(r(e,t))));this.updateQueryHandler({componentId:t.componentId,query:o,value:n,label:t.filterLabel,showFilter:t.showFilter,URLParams:t.URLParams,componentType:"TOGGLEBUTTON"})},handleClick:function(e){void 0===this.$props.value?this.handleToggle(e):this.$emit("change",e.value)},renderButton:function(e){var t=this,n=this.$createElement,r=this.$scopedSlots.renderItem||this.renderItem,o=this.$data.currentValue.some((function(t){return t.value===e.value}));return n(tn,{class:ou(this.$props.innerClass,"button")+" "+(o?"active":""),on:{click:function(){return t.handleClick(e)},keypress:function(n){return au(n,(function(){return t.handleClick(e)}))}},key:e.value,attrs:{primary:o,large:!0,tabIndex:o?"-1":"0"}},[r?r({item:e,isSelected:o}):e.label])}},render:function(){var e=this,t=arguments[0];return t(ki,{class:Jt},[this.$props.title&&t(wn,{class:ou(this.$props.innerClass,"title")},[this.$props.title]),this.$props.data.map((function(t){return e.renderButton(t)}))])},parseValue:function(e,t){return Array.isArray(e)?"string"==typeof e[0]?t.data.filter((function(t){return e.includes(t.value)})):e:t.data.filter((function(t){return t.value===e}))},defaultQuery:function(e,t){var n=null;return e&&e.length&&(n={bool:{boost:1,minimum_should_match:1,should:e.map((function(e){var n;return{term:(n={},n[t.dataField]=e.value,n)}}))}}),n&&t.nestedField?{query:{nested:{path:t.nestedField,query:n}}}:n}},uu=Bn((function(e,t){return{selectedValue:e.selectedValues[t.componentId]&&e.selectedValues[t.componentId].value||null}}),{addComponent:Ks,removeComponent:Js,updateQueryHandler:Xs,watchComponent:Zs,setQueryListener:eu,setQueryOptions:tu})(su);su.install=function(e){e.component(su.name,uu)};var lu=ye.addComponent,cu=ye.removeComponent,pu=ye.watchComponent,du=ye.updateQuery,hu=ye.setQueryOptions,fu=ye.setQueryListener,gu=Oe.pushToAndClause,mu=Oe.parseHits,yu=Oe.isEqual,vu=Oe.getCompositeAggsQuery,bu=Oe.getOptionsFromQuery,Ou={name:"ReactiveComponent",props:{componentId:an.stringRequired,aggregationField:an.string,size:Fe.number.def(20),defaultQuery:an.func,customQuery:an.func,filterLabel:an.string,react:an.react,showFilter:Fe.bool.def(!0),URLParams:Fe.bool.def(!1)},created:function(){var e=this,t=this.$props;this.internalComponent=null,this.$defaultQuery=null;this.setQueryListener(t.componentId,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["queryChange"].concat(n))}),(function(t){e.$emit("error",t)}));var n=t.customQuery,r=t.componentId,o=t.filterLabel,i=t.showFilter,a=t.URLParams;if(n){var s=n(t),u=(s||{}).query,l=s?bu(s):null;l?this.setQueryOptions(r,we({},l,{},this.getAggsQuery()),!1):this.setQueryOptions(r,this.getAggsQuery(),!1),this.updateQuery({componentId:r,query:u,value:this.selectedValue||null,label:o,showFilter:i,URLParams:a})}this.setQuery=function(n){var r=n.options,o=Ce(n,["options"]);r&&e.setQueryOptions(t.componentId,we({},r,{},e.getAggsQuery()),!1),e.updateQuery(we({},o,{componentId:t.componentId,label:t.filterLabel,showFilter:t.showFilter,URLParams:t.URLParams}))},t.defaultQuery&&(this.internalComponent=t.componentId+"__internal")},beforeMount:function(){if(this.addComponent(this.$props.componentId),this.internalComponent&&this.addComponent(this.internalComponent),this.setReact(this.$props),this.internalComponent&&this.$props.defaultQuery){this.$defaultQuery=this.$props.defaultQuery();var e=this.$defaultQuery||{},t=e.query,n=Ce(e,["query"]);n?this.setQueryOptions(this.internalComponent,we({},n,{},this.getAggsQuery()),!1):this.setQueryOptions(this.internalComponent,this.getAggsQuery(),!1),this.updateQuery({componentId:this.internalComponent,query:t||null})}},beforeDestroy:function(){this.removeComponent(this.$props.componentId),this.internalComponent&&this.removeComponent(this.internalComponent)},watch:{hits:function(e,t){yu(e,t)||this.$emit("data",this.getData())},aggregations:function(e,t){yu(e,t)||this.$emit("data",this.getData())},aggregationData:function(e,t){yu(e,t)||this.$emit("data",this.getData())},defaultQuery:function(e,t){if(e&&!yu(e(),t)){this.$defaultQuery=e();var n=this.$defaultQuery||{},r=n.query,o=Ce(n,["query"]);o?this.setQueryOptions(this.internalComponent,we({},o,{},this.getAggsQuery()),!1):this.setQueryOptions(this.internalComponent,this.getAggsQuery(),!1),this.updateQuery({componentId:this.internalComponent,query:r||null})}},customQuery:function(e,t){if(e&&!yu(e,t)){var n=this.$props.componentId;this.$customQuery=e(this.$props);var r=this.$customQuery||{},o=r.query,i=Ce(r,["query"]);i?this.setQueryOptions(n,we({},i,{},this.getAggsQuery()),!1):this.setQueryOptions(n,this.getAggsQuery(),!1),this.updateQuery({componentId:n,query:o||null})}},react:function(){this.setReact(this.$props)}},render:function(){var e=arguments[0];try{var t=this.$scopedSlots.default,n=this.error,r=this.isLoading,o=this.selectedValue,i=we({error:n,loading:r},this.getData(),{value:o,setQuery:this.setQuery});return e("div",[t(i)])}catch(e){return null}},methods:{setReact:function(e){var t=e.react;if(t)if(this.internalComponent){var n=gu(t,this.internalComponent);this.watchComponent(e.componentId,n)}else this.watchComponent(e.componentId,t);else this.internalComponent&&this.watchComponent(e.componentId,{and:this.internalComponent})},getAggsQuery:function(){return this.aggregationField?{aggs:vu({},this.$props,null,!0).aggs}:{}},getData:function(){var e=this.hits,t=this.aggregations,n=this.aggregationData;return{data:mu(e),aggregationData:n,rawData:e,aggregations:t}}}},wu=Bn((function(e,t){return{aggregations:e.aggregations[t.componentId]&&e.aggregations[t.componentId]||null,aggregationData:e.compositeAggregations[t.componentId]||[],hits:e.hits[t.componentId]&&e.hits[t.componentId].hits||[],error:e.error[t.componentId],isLoading:e.isLoading[t.componentId],selectedValue:e.selectedValues[t.componentId]&&e.selectedValues[t.componentId].value||null}}),{addComponent:lu,removeComponent:cu,setQueryOptions:hu,setQueryListener:fu,updateQuery:du,watchComponent:pu})(Ou);Ou.install=function(e){e.component(Ou.name,wu)};var Cu=ye.patchValue,Su=ye.clearValues,$u=Oe.getClassName,Eu=Oe.handleA11yAction,_u={name:"SelectedFilters",props:{className:Fe.string.def(""),clearAllLabel:Fe.string.def("Clear All"),innerClass:an.style,showClearAll:Fe.bool.def(!0),title:an.title},inject:{theme:{from:"theme_reactivesearch"}},render:function(){var e=this,t=arguments[0];if(this.$scopedSlots.default)return this.$scopedSlots.default(this.$props);var n=this.renderFilters(),r=!!n.length;return t(ki,{class:Yt(this.theme)+" "+(this.$props.className||"")},[this.$props.title&&r&&t(wn,{class:$u(this.$props.innerClass,"title")||""},[this.$props.title]),n,this.$props.showClearAll&&r?t(tn,{class:$u(this.$props.innerClass,"button")||"",on:we({},{click:this.clearValues,keypress:function(t){return Eu(t,(function(){return e.clearValues()}))}}),attrs:{tabIndex:"0"}},[this.$props.clearAllLabel]):null])},methods:{remove:function(e,t){void 0===t&&(t=null),this.patchValue(e,{value:null}),this.$emit("clear",e,t)},clearValues:function(){this.clearValuesAction(),this.$emit("clear",null)},renderValue:function(e,t){var n=this;if(t&&e.length)return e.map((function(e){return n.renderValue(e)})).join(", ");if(e&&"object"==typeof e){var r=("string"==typeof e.label?e.label:e.value)||e.key||e.distance||null;return e.location&&(r=e.location+" - "+r),r}return e},renderFilters:function(){var e=this,t=this.$createElement,n=this.selectedValues;return Object.keys(n).filter((function(t){return e.components.includes(t)&&n[t].showFilter})).map((function(r,o){var i=n[r],a=i.label,s=i.value,u=Array.isArray(s);if(a&&(u&&s.length||!u&&s)){var l=e.renderValue(s,u);return t(tn,{class:$u(e.$props.innerClass,"button")||"",key:r+"-"+(o+1),on:we({},{click:function(){return e.remove(r,s)},keypress:function(t){return Eu(t,(function(){return e.remove(r,s)}))}}),attrs:{tabIndex:"0"}},[t("span",[n[r].label,": ",l]),t("span",[""])])}return null})).filter(Boolean)}},watch:{selectedValues:function(e){this.$emit("change",e)}}},Pu=Bn((function(e){return{components:e.components,selectedValues:e.selectedValues}}),{clearValuesAction:Su,patchValue:Cu})(_u);_u.install=function(e){e.component(_u.name,Pu)};var Au=ye.addComponent,Iu=ye.removeComponent,ku=ye.watchComponent,Ru=ye.updateQuery,xu=ye.setQueryListener,Tu=ye.setQueryOptions,ju=Oe.isEqual,Lu=Oe.checkValueChange,Vu=Oe.getClassName,Qu=Oe.getOptionsFromQuery,Mu={name:"SingleRange",data:function(){return this.__state={currentValue:null},this.type="range",this.locked=!1,this.__state},props:{beforeValueChange:an.func,className:Fe.string.def(""),componentId:an.stringRequired,customQuery:an.func,data:an.data,dataField:an.stringRequired,defaultValue:an.string,value:an.value,filterLabel:an.string,innerClass:an.style,react:an.react,showFilter:Fe.bool.def(!0),showRadio:Fe.bool.def(!0),title:an.title,URLParams:Fe.bool.def(!1),nestedField:an.string},created:function(){var e=this;this.setQueryListener(this.$props.componentId,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["queryChange"].concat(n))}),null)},beforeMount:function(){this.addComponent(this.$props.componentId),this.setReact(this.$props),this.selectedValue?this.setValue(this.selectedValue):this.$props.value?this.setValue(this.$props.value):this.$props.defaultValue&&this.setValue(this.$props.defaultValue)},beforeDestroy:function(){this.removeComponent(this.$props.componentId)},watch:{react:function(){this.setReact(this.$props)},dataField:function(){this.updateQueryHandler(this.$data.currentValue,this.$props)},defaultValue:function(e){this.setValue(e)},value:function(e,t){ju(e,t)||this.setValue(e)},selectedValue:function(e){ju(this.$data.currentValue,e)||this.setValue(e)}},render:function(){var e=this,t=arguments[0];return t(ki,{class:this.$props.className},[this.$props.title&&t(wn,{class:Vu(this.$props.innerClass,"title")},[this.$props.title]),t(ba,{class:Vu(this.$props.innerClass,"list")},[this.$props.data.map((function(n){var r=!!e.$data.currentValue&&e.$data.currentValue.label===n.label;return t("li",{key:n.label,class:r?"active":""},[t(ya,{class:Vu(e.$props.innerClass,"radio"),attrs:{id:e.$props.componentId+"-"+n.label,name:e.$props.componentId,value:n.label,type:"radio",checked:r,show:e.$props.showRadio},on:{change:e.handleChange}}),t("label",{class:Vu(e.$props.innerClass,"label"),attrs:{for:e.$props.componentId+"-"+n.label}},[n.label])])}))])])},methods:{setReact:function(e){e.react&&this.watchComponent(e.componentId,e.react)},setValue:function(e,t){var n=this;if(void 0===t&&(t=this.$props),!t.beforeValueChange||!this.locked){this.locked=!0;var r=Mu.parseValue(e,t);Lu(t.componentId,r,t.beforeValueChange,(function(){n.currentValue=r,n.updateQueryHandler(r,t),n.locked=!1,n.$emit("valueChange",r)}))}},updateQueryHandler:function(e,t){var n,r=t.customQuery,o=Mu.defaultQuery(e,t);r&&(o=(r(e,t)||{}).query,n=Qu(r(e,t)));this.setQueryOptions(t.componentId,n),this.updateQuery({componentId:t.componentId,query:o,value:e,label:t.filterLabel,showFilter:t.showFilter,URLParams:t.URLParams,componentType:"SINGLERANGE"})},handleChange:function(e){void 0===this.$props.value?this.setValue(e.target.value):this.$emit("change",e.target.value)}},parseValue:function(e,t){return t.data.find((function(t){return t.label===e}))||null},defaultQuery:function(e,t){var n,r=null;e&&(r={range:(n={},n[t.dataField]={gte:e.start,lte:e.end,boost:2},n)});return r&&t.nestedField?{query:{nested:{path:t.nestedField,query:r}}}:r}},Fu=Bn((function(e,t){return{selectedValue:e.selectedValues[t.componentId]&&e.selectedValues[t.componentId].value||null}}),{addComponent:Au,removeComponent:Iu,updateQuery:Ru,watchComponent:ku,setQueryListener:xu,setQueryOptions:Tu})(Mu);Mu.install=function(e){e.component(Mu.name,Fu)};var Nu=ye.addComponent,Du=ye.removeComponent,qu=ye.watchComponent,Uu=ye.updateQuery,Hu=ye.setQueryListener,Bu=ye.setQueryOptions,zu=Oe.isEqual,Gu=Oe.checkValueChange,Wu=Oe.getClassName,Yu=Oe.getOptionsFromQuery,Ku={name:"MultiRange",data:function(){return this.state={currentValue:[],showModal:!1,selectedValues:{}},this.type="range",this.locked=!1,this.state},props:{beforeValueChange:an.func,className:Fe.string.def(""),componentId:an.stringRequired,customQuery:an.func,data:an.data,dataField:an.stringRequired,defaultValue:an.stringArray,value:an.stringArray,filterLabel:an.string,innerClass:an.style,react:an.react,showFilter:Fe.bool.def(!0),showCheckbox:Fe.bool.def(!0),title:an.title,URLParams:Fe.bool.def(!1),nestedField:an.string},methods:{setReact:function(e){e.react&&this.watchComponent(e.componentId,e.react)},handleClick:function(e){if(void 0===this.$props.value)this.selectItem(e.target.value);else{var t=Gn(this.selectedValues,e.target.value);this.$emit("change",t)}},selectItem:function(e,t,n,r){var o=this;if(void 0===t&&(t=!1),void 0===n&&(n=this.$props),void 0===r&&(r=!1),!n.beforeValueChange||!this.locked){this.locked=!0;var i=this.currentValue,a=this.selectedValues;if(e)if(t){i=Ku.parseValue(e,n);var s={};i.forEach((function(e){s[[e.label]]=!0})),a=r?s:we({},a,{},s)}else if(a[e]){i=i.filter((function(t){return t.label!==e}));var u=a,l=(u[e],Ce(u,[e].map($e)));a=l}else{var c,p=n.data.find((function(t){return e===t.label}));i=[].concat(i,[p]),a=we({},a,((c={})[e]=!0,c))}else i=[],a={};Gu(n.componentId,i,n.beforeValueChange,(function(){o.currentValue=i,o.selectedValues=a,o.updateQueryHandler(i,n),o.locked=!1,o.$emit("valueChange",Object.keys(a))}))}},updateQueryHandler:function(e,t){var n,r=t.customQuery,o=Ku.defaultQuery(e,t);r&&(o=(r(e,t)||{}).query,n=Yu(r(e,t)));this.setQueryOptions(t.componentId,n),this.updateQuery({componentId:t.componentId,query:o,value:e,label:t.filterLabel,showFilter:t.showFilter,URLParams:t.URLParams,componentType:"MULTIRANGE"})}},watch:{react:function(){this.setReact(this.$props)},dataField:function(){this.updateQueryHandler(this.$data.currentValue,this.$props)},defaultValue:function(e){this.selectItem(e,!0,void 0,!0)},value:function(e,t){zu(e,t)||this.selectItem(e,!0,void 0,!0)},selectedValue:function(e){zu(this.$data.currentValue,e)||this.selectItem(e)}},created:function(){var e=this;this.setQueryListener(this.$props.componentId,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["queryChange"].concat(n))}),null)},beforeMount:function(){this.addComponent(this.$props.componentId),this.setReact(this.$props),this.selectedValue?this.selectItem(this.selectedValue,!0):this.$props.value?this.selectItem(this.$props.value,!0):this.$props.defaultValue&&this.selectItem(this.$props.defaultValue,!0)},beforeDestroy:function(){this.removeComponent(this.$props.componentId)},render:function(){var e=this,t=arguments[0];return t(ki,{class:this.$props.className},[this.$props.title&&t(wn,{class:Wu(this.$props.innerClass,"title")},[this.$props.title]),t(ba,{class:Wu(this.$props.innerClass,"list")},[this.$props.data.map((function(n){var r=!!e.$data.currentValue&&e.$data.currentValue.label===n.label;return t("li",{key:n.label,class:r?"active":""},[t(va,{class:Wu(e.$props.innerClass,"checkbox"),attrs:{id:e.$props.componentId+"-"+n.label,name:e.$props.componentId,value:n.label,type:"Checkbox",show:e.$props.showCheckbox},domProps:we({},{checked:e.selectedValues[n.label]}),on:we({},{click:e.handleClick})}),t("label",{class:Wu(e.$props.innerClass,"label"),attrs:{for:e.$props.componentId+"-"+n.label}},[n.label])])}))])])},parseValue:function(e,t){return e?t.data.filter((function(t){return e.includes(t.label)})):null},defaultQuery:function(e,t){var n,r,o=null;return e&&e.length&&(o={bool:{should:(n=t.dataField,r=e,r.length>0?r.map((function(e){var t;return{range:(t={},t[n]={gte:e.start,lte:e.end,boost:2},t)}})):null),minimum_should_match:1,boost:1}}),o&&t.nestedField?{query:{nested:{path:t.nestedField,query:o}}}:o}},Ju=Bn((function(e,t){return{selectedValue:e.selectedValues[t.componentId]&&e.selectedValues[t.componentId].value||null}}),{addComponent:Nu,removeComponent:Du,updateQuery:Uu,watchComponent:qu,setQueryListener:Hu,setQueryOptions:Bu})(Ku);Ku.install=function(e){e.component(Ku.name,Ju)};var Xu={name:"ResultCardTitle",render:function(){var e=arguments[0],t=this.$slots.default;return e(wn,bn([{},this.$props]),[t])},install:function(e){e.component(Xu.name,Xu)}},Zu={name:"ResultCardImage",props:{src:Fe.string.isRequired},render:function(){var e=arguments[0],t=this.$props,n=t.src,r=Ce(t,["src"]);return e(Ln,bn([{style:{backgroundImage:"url("+n+")"}},r]))},install:function(e){e.component(Zu.name,Zu)}},el={name:"ResultCardDescription",functional:!0,render:function(e,t){var n=t.props,r=t.children,o=arguments[0];return o("article",bn([{},n]),[r])},install:function(e){e.component(el.name,el)}},tl={name:"ResultCard",components:{ResultCardTitle:Xu,ResultCardImage:Zu,ResultCardDescription:el},props:{target:Fe.string.def("_blank"),href:an.string},render:function(){var e=arguments[0],t=this.$slots.default,n=this.$props,r=n.href,o=n.target,i=Ce(n,["href","target"]);return e(Vn,bn([{attrs:{href:r,target:o,rel:"_blank"===o?"noopener noreferrer":null}},i]),[t])},install:function(e){e.component(tl.name,tl),e.component(Xu.name,Xu),e.component(Zu.name,Zu),e.component(el.name,el)}},nl={name:"ResultListContent",functional:!0,render:function(e,t){var n=t.props,r=t.children,o=arguments[0];return o("article",bn([{},n]),[r])},install:function(e){e.component(nl.name,nl)}},rl={name:"ResultListDescription",functional:!0,render:function(e,t){var n=t.props,r=t.children,o=arguments[0];return o("div",bn([{},n]),[r])},install:function(e){e.component(rl.name,rl)}},ol={name:"ResultListImage",props:{src:Fe.string.isRequired,small:Fe.bool.def(!1)},render:function(){var e=arguments[0],t=this.$props,n=t.src,r=t.small,o=Ce(t,["src","small"]);return e(An,bn([{attrs:{src:n,small:r}},o]))},install:function(e){e.component(ol.name,ol)}},il={name:"ResultListTitle",render:function(){var e=arguments[0],t=this.$slots.default;return e(wn,bn([{},this.$props]),[t])},install:function(e){e.component(il.name,il)}},al={name:"ResultList",props:{href:an.string,target:Fe.string.def("_blank")},components:{ResultListContent:nl,ResultListDescription:rl,ResultListImage:ol,ResultListTitle:il},data:function(){return this.__state={hasImage:!1,isSmall:!1},this.__state},mounted:function(){var e=this.$slots.default.find((function(e){return e.componentOptions&&e.componentOptions.tag===ol.name}));e&&e.componentOptions&&e.componentOptions.propsData&&(this.hasImage=!0,e.componentOptions.propsData.small&&(this.isSmall=!0))},render:function(){var e=arguments[0],t=this.$props,n=t.href,r=t.target,o=Ce(t,["href","target"]),i=this.hasImage,a=this.isSmall,s=this.$slots.default;return e(In,bn([{attrs:{href:n,image:i,small:a,target:r,rel:"_blank"===r?"noopener noreferrer":null}},o]),[s])},install:function(e){e.component(al.name,al),e.component(nl.name,nl),e.component(rl.name,rl),e.component(ol.name,ol),e.component(il.name,il)}},sl={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var n=t.parent,r=t.slots,o=t.props,i=r(),a=i.default;void 0===a&&(a=[]);var s=i.placeholder;return n._isMounted?a:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||s)?e(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||s):a.length>0?a.map((function(){return e(!1)})):e(!1))}};function ul(){var e=Se(['\n\tmargin-top: 30px;\n\tpadding: 10px;\n\n\t/* component style */\n\t.vue-slider-disabled {\n\t\topacity: 0.5;\n\t\tcursor: not-allowed;\n\t}\n\n\t/* rail style */\n\t.vue-slider-rail {\n\t\tbackground-color: #ccc;\n\t\tborder-radius: 15px;\n\t\theight: 4px;\n\t}\n\n\t/* process style */\n\t.vue-slider-process {\n\t\tbackground-color: #0b6aff;\n\t\tborder-radius: 15px;\n\t}\n\n\t/* mark style */\n\t.vue-slider-mark {\n\t\tz-index: 4;\n\t}\n\n\t.vue-slider-mark:first-child .vue-slider-mark-step,\n\t.vue-slider-mark:last-child .vue-slider-mark-step {\n\t\tdisplay: none;\n\t}\n\n\t.vue-slider-mark-step {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tborder-radius: 50%;\n\t\tbackground-color: rgba(0, 0, 0, 0.16);\n\t}\n\n\t.vue-slider-mark-label {\n\t\tfont-size: 14px;\n\t\twhite-space: nowrap;\n\t}\n\n\t/* dot style */\n\t.vue-slider-dot{\n\t\tz-index: 2;\n\t}\n\n\t.vue-slider-dot-handle {\n\t\tcursor: pointer;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tborder-radius: 50%;\n\t\tbackground-color: #fff;\n\t\tbox-sizing: border-box;\n\t\tborder: 1px solid #9a9a9a;\n\t\tz-index: 2;\n\t}\n\n\t.vue-slider-dot-handle-disabled {\n\t\tcursor: not-allowed;\n\t\tbackground-color: #ccc;\n\t}\n\n\t.vue-slider-dot-tooltip-inner {\n\t\tfont-size: 14px;\n\t\twhite-space: nowrap;\n\t\tpadding: 2px 5px;\n\t\tmin-width: 20px;\n\t\ttext-align: center;\n\t\tcolor: #fff;\n\t\tborder-radius: 5px;\n\t\tborder-color: #000;\n\t\tbackground-color: #000;\n\t\tbox-sizing: content-box;\n\t}\n\n\t.vue-slider-dot-tooltip-inner::after {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t}\n\n\t.vue-slider-dot -tooltip-inner-top::after {\n\t\ttop: 100%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, 0);\n\t\theight: 0;\n\t\twidth: 0;\n\t\tborder-color: transparent;\n\t\tborder-style: solid;\n\t\tborder-width: 5px;\n\t\tborder-top-color: inherit;\n\t}\n\n\t.vue-slider-dot-tooltip-inner-bottom::after {\n\t\tbottom: 100%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, 0);\n\t\theight: 0;\n\t\twidth: 0;\n\t\tborder-color: transparent;\n\t\tborder-style: solid;\n\t\tborder-width: 5px;\n\t\tborder-bottom-color: inherit;\n\t}\n\n\t.vue-slider-dot-tooltip-inner-left::after {\n\t\tleft: 100%;\n\t\ttop: 50%;\n\t\ttransform: translate(0, -50%);\n\t\theight: 0;\n\t\twidth: 0;\n\t\tborder-color: transparent;\n\t\tborder-style: solid;\n\t\tborder-width: 5px;\n\t\tborder-left-color: inherit;\n\t}\n\n\t.vue-slider-dot-tooltip-inner-right::after {\n\t\tright: 100%;\n\t\ttop: 50%;\n\t\ttransform: translate(0, -50%);\n\t\theight: 0;\n\t\twidth: 0;\n\t\tborder-color: transparent;\n\t\tborder-style: solid;\n\t\tborder-width: 5px;\n\t\tborder-right-color: inherit;\n\t}\n\n\t.vue-slider-dot-tooltip-wrapper {\n\t\topacity: 0;\n\t\ttransition: all 0.3s;\n\t}\n\t.vue-slider-dot-tooltip-wrapper-show {\n\t\topacity: 1;\n\t}\n\n\t.label-container {\n\t\tmargin: 10px 0;\n\t\twidth: 100%;\n\t}\n\n\t.range-label-right {\n\t\tfloat: right;\n\t}\n']);return ul=function(){return e},e}var ll=at("div")(ul()),cl=function(){var e={NoSSR:sl};try{var t=document.createElement("script");t.setAttribute("src","https://cdn.jsdelivr.net/npm/vue-slider-component@2.8.2/dist/index.js"),t.onload=function(){var t=i["vue-slider-component"];e["vue-slider-component"]=t},document.head.appendChild(t)}catch(e){console.error("Unable to load vue-slider",e)}return e},pl=ye.addComponent,dl=ye.removeComponent,hl=ye.watchComponent,fl=ye.updateQuery,gl=ye.setQueryListener,ml=ye.setQueryOptions,yl=Oe.checkValueChange,vl=Oe.getClassName,bl=Oe.getOptionsFromQuery,Ol=Oe.isEqual,wl={name:"RangeSlider",components:cl(),inject:{theme:{from:"theme_reactivesearch"}},data:function(){var e={currentValue:this.$props.range?[this.$props.range.start,this.$props.range.end]:[],stats:[]};return this.locked=!1,e},props:{beforeValueChange:an.func,className:Fe.string.def(""),range:Fe.shape({start:Fe.integer.def(0),end:Fe.integer.def(10)}),rangeLabels:an.rangeLabels,componentId:an.stringRequired,customQuery:an.func,data:an.data,dataField:an.stringRequired,defaultValue:an.range,value:an.range,filterLabel:an.string,innerClass:an.style,react:an.react,showFilter:Fe.bool.def(!0),showCheckbox:Fe.bool.def(!0),title:an.title,URLParams:Fe.bool.def(!1),sliderOptions:Fe.object.def({}),nestedField:an.string},methods:{setReact:function(e){e.react&&this.watchComponent(e.componentId,e.react)},handleSlider:function(e){void 0===this.$props.value?this.handleChange(e.currentValue):this.$emit("change",{start:e.currentValue[0],end:e.currentValue[1]})},handleChange:function(e,t){var n=this;if(void 0===t&&(t=this.$props),!t.beforeValueChange||!this.locked){this.locked=!0;yl(t.componentId,{start:e[0],end:e[1]},t.beforeValueChange,(function(){n.currentValue=e,n.updateQueryHandler([e[0],e[1]],t),n.locked=!1,n.$emit("valueChange",{start:e[0],end:e[1]})}))}},updateQueryHandler:function(e,t){var n,r=t.customQuery,o=wl.defaultQuery(e,t);r&&(o=(r(e,t)||{}).query,n=bl(r(e,t)));var i=t.showFilter,a=t.range,s=a.start,u=a.end,l=e[0],c=e[1],p=l===s&&c===u;this.setQueryOptions(t.componentId,n),this.updateQuery({componentId:t.componentId,query:o,value:e,label:t.filterLabel,showFilter:i&&!p,URLParams:t.URLParams,componentType:"RANGESLIDER"})}},watch:{react:function(){this.setReact(this.$props)},defaultValue:function(e){this.handleChange(wl.parseValue(e,this.$props))},value:function(e,t){Ol(e,t)||this.handleChange(wl.parseValue(e,this.$props))},selectedValue:function(e){Ol(this.$data.currentValue,e)||this.handleChange(wl.parseValue(e,this.$props))}},created:function(){var e=this;this.$props.range||console.error("%crange is not defined. Read more about this at https://opensource.appbase.io/reactive-manual/vue/range-components/rangeslider.html#props","font-size: 12.5px;"),this.setQueryListener(this.$props.componentId,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["queryChange"].concat(n))}),null)},beforeMount:function(){this.addComponent(this.$props.componentId),this.setReact(this.$props);var e=this.$props,t=e.value,n=e.defaultValue,r=this.selectedValue;this.$props.range&&(Array.isArray(r)?this.handleChange(r):r?this.handleChange(wl.parseValue(r,this.$props)):t?this.handleChange(wl.parseValue(t,this.$props)):n&&this.handleChange(wl.parseValue(n,this.$props)))},beforeDestroy:function(){this.removeComponent(this.$props.componentId)},render:function(){var e=arguments[0];return e(ki,{class:this.$props.className},[this.$props.title&&e(wn,{class:vl(this.$props.innerClass,"title")},[this.$props.title]),this.$props.range?e(sl,[e(ll,{class:vl(this.$props.innerClass,"slider")},[e("vue-slider-component",{ref:"slider",attrs:{value:this.currentValue,min:this.$props.range.start,max:this.$props.range.end,dotSize:20,height:4,"enable-cross":!1},on:{"drag-end":this.handleSlider},props:we({},this.$props.sliderOptions)}),this.$props.rangeLabels&&e("div",{class:"label-container"},[e("label",{class:vl(this.$props.innerClass,"label")||"range-label-left"},[this.$props.rangeLabels.start]),e("label",{class:vl(this.$props.innerClass,"label")||"range-label-right"},[this.$props.rangeLabels.end])])])]):null])},defaultQuery:function(e,t){var n,r=null;Array.isArray(e)&&e.length&&(r={range:(n={},n[t.dataField]={gte:e[0],lte:e[1],boost:2},n)});return r&&t.nestedField?{query:{nested:{path:t.nestedField,query:r}}}:r},parseValue:function(e,t){return e?[e.start,e.end]:t.range?[t.range.start,t.range.end]:[]}},Cl=Bn((function(e,t){return{options:e.aggregations[t.componentId]?e.aggregations[t.componentId][t.dataField]&&e.aggregations[t.componentId][t.dataField].buckets:[],selectedValue:e.selectedValues[t.componentId]?e.selectedValues[t.componentId].value:null}}),{addComponent:pl,removeComponent:dl,updateQuery:fl,watchComponent:hl,setQueryListener:gl,setQueryOptions:ml})(wl);wl.install=function(e){e.component(wl.name,Cl)};var Sl=ye.addComponent,$l=ye.removeComponent,El=ye.watchComponent,_l=ye.updateQuery,Pl=ye.setQueryListener,Al=ye.setQueryOptions,Il=Oe.checkValueChange,kl=Oe.getClassName,Rl=Oe.getOptionsFromQuery,xl=Oe.isEqual,Tl={name:"DynamicRangeSlider",components:cl(),props:{beforeValueChange:an.func,className:Fe.string.def(""),rangeLabels:an.func,componentId:an.stringRequired,customQuery:an.func,data:an.data,dataField:an.stringRequired,defaultValue:an.func,filterLabel:an.string,innerClass:an.style,react:an.react,showFilter:Fe.bool.def(!0),showCheckbox:Fe.bool.def(!0),title:an.title,URLParams:Fe.bool.def(!1),sliderOptions:Fe.object.def({}),nestedField:an.string},data:function(){return this.internalRangeComponent=this.$props.componentId+"__range__internal",this.locked=!1,{currentValue:null,stats:[]}},created:function(){var e=this;this.setQueryListener(this.$props.componentId,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["queryChange"].concat(n))}),null)},beforeMount:function(){this.addComponent(this.$props.componentId),this.addComponent(this.$props.internalRangeComponent),Array.isArray(this.selectedValue)?this.handleChange(this.selectedValue):this.selectedValue&&this.handleChange(Tl.parseValue(this.selectedValue,this.$props)),this.updateRangeQueryOptions(),this.setReact()},beforeUpdate:function(){this.currentValue||this.setDefaultValue(this.range)},beforeDestroy:function(){this.removeComponent(this.$props.componentId),this.removeComponent(this.internalRangeComponent)},methods:{setDefaultValue:function(e){var t=e.start,n=e.end;if(this.$props.defaultValue){var r=this.$props.defaultValue(t,n),o=r.start,i=r.end;this.handleChange([o,i])}else this.currentValue=[t,n]},setReact:function(){this.$props.react?(this.watchComponent(this.internalRangeComponent,this.$props.react),this.watchComponent(this.$props.componentId,this.$props.react)):(this.watchComponent(this.internalRangeComponent,{}),this.watchComponent(this.$props.componentId,{}))},rangeQuery:function(){return{min:{min:{field:this.$props.dataField}},max:{max:{field:this.$props.dataField}}}},updateRangeQueryOptions:function(){var e,t={};this.$props.nestedField?((e={})[this.$props.nestedField]={nested:{path:this.$props.nestedField},aggs:this.rangeQuery()},t=e):t=this.rangeQuery();this.setQueryOptions(this.internalRangeComponent,{aggs:t})},handleSlider:function(e){this.handleChange(e.currentValue)},handleChange:function(e){var t=this;if(!this.$props.beforeValueChange||!this.locked){var n=[this.range?Math.max(this.range.start,e[0]):e[0],this.range?Math.min(this.range.end,e[1]):e[1]];this.locked=!0;Il(this.$props.componentId,{start:n[0],end:n[1]},this.$props.beforeValueChange,(function(){t.currentValue=n,t.updateQueryHandler(n,t.$props),t.locked=!1,t.$emit("valueChange",{start:n[0],end:n[1]})}))}},updateQueryHandler:function(e){var t,n=Tl.defaultQuery(e,this.$props);this.$props.customQuery&&(n=(this.$props.customQuery(e,this.$props)||{}).query,t=Rl(this.$props.customQuery(e,this.$props)));var r=this.range||{start:e[0],end:e[1]},o=r.start,i=r.end,a=e[0],s=e[1],u=a===o&&s===i;this.setQueryOptions(this.$props.componentId,t),this.updateQuery({componentId:this.$props.componentId,query:n,value:e,label:this.$props.filterLabel,showFilter:this.$props.showFilter&&!u,URLParams:this.$props.URLParams,componentType:"DYNAMICRANGESLIDER"})}},computed:{labels:function(){return this.rangeLabels?this.rangeLabels(this.range.start,this.range.end):null}},watch:{react:function(){this.setReact()},selectedValue:function(e){if(!xl(e,this.currentValue)){var t=e||{start:this.range.start,end:this.range.end};this.handleChange(Tl.parseValue(t,this.$props))}},range:function(e,t){if(!xl(e,t)&&this.currentValue){var n=this.currentValue||[],r=n[0],o=n[1],i=t||{},a=i.start,s=i.end,u=r===a?e.start:r,l=o===s?e.end:o;this.handleChange([u,l])}}},render:function(){var e=arguments[0];if(!this.range)return null;var t=this.range,n=t.start,r=t.end;return e(ki,{class:this.$props.className},[this.$props.title&&e(wn,{class:kl(this.$props.innerClass,"title")},[this.$props.title]),e(sl,[e(ll,{class:kl(this.$props.innerClass,"slider")},[e("vue-slider-component",{attrs:{value:[Math.max(n,this.currentValue[0]),Math.min(r,this.currentValue[1])],min:Math.min(n,this.currentValue[0]),max:Math.max(r,this.currentValue[1]),dotSize:20,height:4,"enable-cross":!1},on:{"drag-end":this.handleSlider},props:we({},this.$props.sliderOptions)}),this.labels?e("div",{class:"label-container"},[e("label",{class:kl(this.$props.innerClass,"label")||"range-label-left"},[this.labels.start]),e("label",{class:kl(this.$props.innerClass,"label")||"range-label-right"},[this.labels.end])]):null])])])},defaultQuery:function(e,t){var n,r=null;Array.isArray(e)&&e.length&&(r={range:(n={},n[t.dataField]={gte:e[0],lte:e[1],boost:2},n)});return r&&t.nestedField?{query:{nested:{path:t.nestedField,query:r}}}:r},parseValue:function(e){return[e.start,e.end]}},jl=Bn((function(e,t){var n=e.aggregations[t.componentId],r=e.aggregations[t.componentId+"__range__internal"],o=n&&n[t.dataField],i=e.aggregations[t.componentId+"__range__internal"];return t.nestedField?(o=o&&n[t.dataField][t.nestedField]&&n[t.dataField][t.nestedField].buckets?n[t.dataField][t.nestedField].buckets:[],i=i&&r[t.nestedField].min?{start:r[t.nestedField].min.value,end:r[t.nestedField].max.value}:null):(o=o&&n[t.dataField].buckets?n[t.dataField].buckets:[],i=i&&r.min?{start:r.min.value,end:r.max.value}:null),{options:o,range:i,selectedValue:e.selectedValues[t.componentId]?e.selectedValues[t.componentId].value:null}}),{addComponent:Sl,removeComponent:$l,updateQuery:_l,watchComponent:El,setQueryListener:Pl,setQueryOptions:Al})(Tl);Tl.install=function(e){e.component(Tl.name,jl)};var Ll=Oe.getSearchState,Vl=function(e){return we({},e,{props:e.componentProps})},Ql=function(e,t){void 0===t&&(t={});var n,r=t.componentIds;if("string"==typeof r)return(n={})[r]=e[r],n;if(r instanceof Array){var o={};return r.forEach((function(t){o[t]=e[t]})),o}return e},Ml=function(e,t){return Object.keys(e).reduce((function(n,r){var o;return we({},n,((o={})[r]=Object.keys(e[r]).filter((function(e){return t.includes(e)})).reduce((function(t,n){return t[n]=e[r][n],t}),{}),o))}),{})},Fl={name:"StateProvider",props:{onChange:Fe.func,componentIds:Fe.oneOfType([Fe.string,Fe.arrayOf(Fe.string)]),includeKeys:Fe.arrayOf(Fe.string).def(["hits","value","aggregations","error"]),strict:Fe.bool.def(!0)},data:function(){return this.__state={searchState:null},this.__state},mounted:function(){this.searchState=Ml(Ll(Vl(this.searchStateProps)),this.includeKeys)},computed:{searchStateProps:function(){return{selectedValues:this.selectedValues||{},queryLog:this.queryLog,dependencyTree:this.dependencyTree,componentProps:this.componentProps,hits:this.hits,aggregations:this.aggregations,isLoading:this.isLoading,error:this.error}}},watch:{searchState:function(e,t){this.isStateChanged(e,t)&&this.$emit("change",e,t)},selectedValues:function(e,t){this.calculateSearchState(e,t)},queryLog:function(e,t){this.calculateSearchState(e,t)},dependencyTree:function(e,t){this.calculateSearchState(e,t)},componentProps:function(e,t){this.calculateSearchState(e,t)},hits:function(e,t){this.calculateSearchState(e,t)},aggregations:function(e,t){this.calculateSearchState(e,t)},isLoading:function(e,t){this.calculateSearchState(e,t)},error:function(e,t){this.calculateSearchState(e,t)},componentIds:function(e,t){this.calculateSearchState(e,t)},includeKeys:function(e,t){this.calculateSearchState(e,t)}},methods:{isStateChanged:function(e,t){return JSON.stringify(t)!==JSON.stringify(e)},calculateSearchState:function(e,t){this.isStateChanged(e,t)&&(this.searchState=Ml(Ll(Vl(this.searchStateProps)),this.includeKeys))}},render:function(){var e=this.searchState,t=this.$scopedSlots.default;return t?t({searchState:e}):null}},Nl=Bn((function(e,t){return{selectedValues:Ql(e.selectedValues,t),queryLog:Ql(e.queryLog,t),dependencyTree:Ql(e.dependencyTree,t),componentProps:Ql(e.props,t),hits:Ql(e.hits,t),aggregations:Ql(e.aggregations,t),isLoading:Ql(e.isLoading,t),error:Ql(e.error,t)}}),{})(Fl);Fl.install=function(e){e.component(Fl.name,Nl)};var Dl=Oe.buildQuery,ql=Oe.pushToAndClause,Ul=me.valueReducer,Hl=me.queryReducer,Bl=me.queryOptionsReducer,zl=me.dependencyTreeReducer,Gl=["DataSearch","CategorySearch"],Wl=["ReactiveList","ResultCard","ResultList","ReactiveMap","SingleList","MultiList","TagCloud"].concat(Gl),Yl=["NumberBox","RatingsFilter"],Kl=["ReactiveList","ReactiveMap","ResultCard","ResultList"];function Jl(e,t,n){if(Kl.includes(n))return e.defaultQuery?e.defaultQuery():{};var r=function(e,t){return t.source&&t.source.parseValue?t.source.parseValue(e,t):e}(t,e);return e.customQuery?e.customQuery(r,e):e.source.defaultQuery?e.source.defaultQuery(r,e):{}}var Xl=[Qr,tl,al,Wo,ra,Ma,es,Mu,Ku,wl,Tl,Ou,_u,su,Rs,Ws,Fl],Zl=function(e){Xl.map((function(t){return e.use(t),null}))};"undefined"!=typeof window&&window.Vue&&Zl(window.Vue);var ec={version:"1.0.0",install:Zl};e.DataSearch=ra,e.DynamicRangeSlider=Tl,e.MultiDropdownList=Ws,e.MultiList=es,e.MultiRange=Ku,e.RangeSlider=wl,e.ReactiveBase=Wo,e.ReactiveComponent=Ou,e.ReactiveList=Qr,e.ResultCard=tl,e.ResultList=al,e.SelectedFilters=_u,e.SingleDropdownList=Rs,e.SingleList=Ma,e.SingleRange=Mu,e.StateProvider=Fl,e.ToggleButton=su,e.default=ec,e.initReactivesearch=function(e,t,n){return new Promise((function(r,o){var i=n.url&&""!==n.url.trim()&&!n.credentials?null:n.credentials,a={url:n.url&&""!==n.url.trim()?n.url:"https://scalr.api.appbase.io",app:n.app,credentials:i,transformRequest:n.transformRequest||null,type:n.type?n.type:"*"},s=Lo(a),u=[],l={},c={},p={},d={},h={},f=[],g=[],m={},y={},v={};e.forEach((function(e){var n=e.source.name;u=[].concat(u,[e.componentId]);var r=!1,o=Kl.includes(n),i=e.componentId+"__internal",a=e.filterLabel||e.componentId,s=function(e,t,n){if(!e)return n;if(e[t])try{return JSON.parse(e[t])}catch(r){return e[t]||n}return n}(t,a,e.defaultValue),p=void 0===e.showFilter||e.showFilter;if(Yl.includes(n)&&(p=!1),l=Ul(l,{type:"SET_VALUE",component:e.componentId,label:a,value:s,showFilter:p,URLParams:e.URLParams||!1}),Wl.includes(n)){var f=e.source.generateQueryOptions?e.source.generateQueryOptions(e):null,g={};if(Gl.includes(n)&&e.highlight&&(g=e.source.highlightQuery(e)),f&&Object.keys(f).length||g&&Object.keys(g).length){var m=f||{},y=m.aggs,v=m.size,b=Ce(m,["aggs","size"]);if(y&&Object.keys(y).length&&(r=!0,d=Bl(d,{type:"SET_QUERY_OPTIONS",component:i,options:{aggs:y,size:v||100}})),b&&Object.keys(b).length||g&&Object.keys(g).length){b||(b={}),g||(g={});var O=we({},b,{},g,{size:v});if(r&&(O=we({},b,{},g)),o){var w=e.currentPage?e.currentPage-1:0;l[e.componentId]&&l[e.componentId].value&&(w=l[e.componentId].value-1||0);var C=e.size||10;O=we({},O,{},g,{size:C,from:w*C})}d=Bl(d,{type:"SET_QUERY_OPTIONS",component:e.componentId,options:we({},O)})}}}if(e.react||r||o){var S=e.react;(r||o)&&(S=ql(S,i)),h=zl(h,{type:"WATCH_COMPONENT",component:e.componentId,react:S})}if(o){var $=Jl(e,null,n).query;c=Hl(c,{type:"SET_QUERY",component:i,query:$})}else c=Hl(c,{type:"SET_QUERY",component:e.componentId,query:Jl(e,s,n)})})),e.forEach((function(e){var t=Dl(e.componentId,h,c,d),n=t.queryObj,r=t.options,o=["aggs","from","sort"];if(n&&Object.keys(n).length||r&&Object.keys(r).some((function(e){return o.includes(e)}))){var i;(!n||n&&!Object.keys(n).length)&&(n={match_all:{}}),g=[].concat(g,[e.componentId]);var a=we({query:we({},n)},r,{},d[e.componentId]);p=we({},p,((i={})[e.componentId]=a,i)),f=[].concat(f,[{preference:e.componentId},a])}})),v={components:u,dependencyTree:h,queryList:c,queryOptions:d,selectedValues:l,queryLog:p},s.msearch({type:"*"===a.type?"":a.type,body:f}).then((function(e){g.forEach((function(t,n){var r,o,i=e.responses[n];i.aggregations&&(y=we({},y,((o={})[t]=i.aggregations,o)));m=we({},m,((r={})[t]={hits:i.hits.hits,total:i.hits.total,time:i.took},r))})),v=we({},v,{hits:m,aggregations:y}),r(v)})).catch((function(e){return o(e)}))}))},e.install=Zl,e.version="1.0.0",Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=reactivesearch-vue.umd.min.js.map
